<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- /fasttmp/mkdist-qt-4.4.0-1209388211/qt-win-opensource-src-4.4.0/doc/src/porting4.qdoc -->
<head>
  <title>Qt 4.4: Porting to Qt 4</title>
  <link rel="prev" href="porting.html" />
  <link rel="contents" href="porting.html" />
  <link rel="next" href="porting4-virtual-functions.html" />
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://www.trolltech.com/products/qt"><img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="mainclasses.html"><font color="#004faf">Main&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped&nbsp;Classes</font></a>&nbsp;&middot; <a href="modules.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><a href="http://www.trolltech.com"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></a></td></tr></table><p>
[Previous: <a href="porting.html">Porting Guides</a>]
[<a href="porting.html">Contents</a>]
[Next: <a href="porting4-virtual-functions.html">Porting to Qt 4 - Virtual Functions</a>]
</p>
<h1 class="title">Porting to Qt 4<br /><span class="subtitle"></span>
</h1>
<p>This document describes the process of porting applications from Qt 3 to Qt 4. If you haven't yet made the decision about porting, or are unsure about whether it is worth it, take a look at the <a href="qt4-intro.html">key features</a> offered by Qt 4. See also <a href="porting4-overview.html">Moving from Qt 3 to Qt 4</a> for tips on how to write Qt 3 code that is easy to port to Qt 4.</p>
<p><b>Other porting guides:</b></p>
<ul>
<li><a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a></li>
<li><a href="porting4-designer.html">Porting .ui Files to Qt 4</a></li>
<li><a href="graphicsview-porting.html">Porting to Graphics View</a></li>
<li><a href="qt3to4.html">qt3to4 - The Qt 3 to 4 Porting Tool</a></li>
</ul>
<p>The Qt 4 series is not binary compatible with the 3 series. This means programs compiled for Qt 3 must be recompiled to work with Qt 4. Qt 4 is also not completely <i>source</i> compatible with 3, however nearly all points of incompatibility cause compiler errors or run-time messages (rather than mysterious results). Qt 4 includes many additional features and discards obsolete functionality. Porting from Qt 3 to Qt 4 requires some effort, but once completed the considerable additional power and flexibility of Qt 4 is available for use in your applications.</p>
<p>To port code from Qt 3 to Qt 4:</p>
<ol type="1">
<li>Briefly read the porting notes below to get an idea of what to expect.</li>
<li>Be sure that your code compiles and runs well on all your target platforms with Qt 3.</li>
<li>Add the line <tt>QT += qt3support</tt> to your <tt>.pro</tt> file if you use <tt>qmake</tt>; otherwise, edit your makefile or project file to link against the <a href="qt3support.html">Qt3Support</a> library and add <tt>-DQT3_SUPPORT</tt> to your compiler flags. (You might also need to specify other libraries. See <a href="qt4-intro.html">What's New in Qt 4</a> for details.)</li>
<li>Run the <a href="qt3to4.html#qt3to4">qt3to4</a> porting tool. The tool will go through your source code and adapt it to Qt 4.</li>
<li>Follow the instructions in the <a href="porting4-designer.html">Porting .ui Files to Qt 4</a> page to port Qt Designer files.</li>
<li>Recompile with Qt 4. For each error, search below for related identifiers (e.g&#x2e;, function names, class names). This document mentions all relevant identifiers to help you get the information you need at the cost of being a little verbose.</li>
</ol>
<p>The <a href="qt3to4.html#qt3to4">qt3to4</a> porting tool replaces occurrences of Qt 3 classes that don't exist anymore in Qt 4 with the corresponding Qt 3 support class; for example, <tt>QListBox</tt> is turned into <tt>Q3ListBox</tt>.</p>
<p>At some point, you might want to stop linking against the Qt 3 support library (<a href="qt3support.html">Qt3Support</a>) and take advantage of Qt 4's new features. The instructions below explain how to do that for each compatibility class.</p>
<p>In addition to the <a href="qt3support.html">Qt3Support</a> classes (such as <tt>Q3Action</tt>, <tt>Q3ListBox</tt>, and <tt>Q3ValueList</tt>), Qt 4 provides compatibility functions when it's possible for an old API to cohabit with the new one. For example, <a href="qstring.html">QString</a> provides a <a href="qstring-qt3.html#simplifyWhiteSpace">QString::simplifyWhiteSpace</a>() compatibility function that's implemented inline and that simply calls <a href="qstring.html#simplified">QString::simplified</a>(). <b>The compatibility functions are not documented here; instead, they are documented for each class.</b></p>
<p>If you have the line <tt>QT += qt3support</tt> in your <tt>.pro</tt> file, <tt>qmake</tt> will automatically define the <tt>QT3_SUPPORT</tt> symbol, turning on compatibility function support. You can also define the symbol manually (e.g&#x2e;, if you don't want to link against the <tt>Qt3Support</tt> library), or you can define <tt>QT3_SUPPORT_WARNINGS</tt> instead, telling the compiler to emit a warning when a compatibility function is called. (This works only with GCC 3.2+ and MSVC 7.)</p>
<p>If you get stuck, ask on the <a href="http://lists.trolltech.com/qt-interest/">qt-interest</a> mailing list. If you are a licensed customer, you can also contact Trolltech support.</p>
<p>Table of contents:</p>
<p><table width="100%">
<tr valign="top"><td width="25%">
<ul><li><a href="#casting-and-object-types">Casting and Object Types</a></li>
<li><a href="#type-names">Type Names</a></li>
<li><a href="#enum-values">Enum Values</a></li>
<li><a href="#properties">Properties</a></li>
<li><a href="#explicit-sharing">Explicit Sharing</a></li>
<li><a href="#painting-and-redrawing-widgets">Painting and Redrawing Widgets</a></li>
<li><a href="#qaccel">QAccel</a></li>
<li><a href="#qaccessibleinterface">QAccessibleInterface</a></li>
<li><a href="#qaccessibletitlebar">QAccessibleTitleBar</a></li>
<li><a href="#qaction">QAction</a></li>
<li><a href="#qactiongroup">QActionGroup</a></li>
<li><a href="#qapplication">QApplication</a></li>
<li><a href="#qaquastyle">QAquaStyle</a></li>
<li><a href="#qasciicache-t">QAsciiCache&lt;T&gt;</a></li>
<li><a href="#qasciidict-t">QAsciiDict&lt;T&gt;</a></li>
<li><a href="#qasyncio">QAsyncIO</a></li>
<li><a href="#qbackinsertiterator">QBackInsertIterator</a></li>
<li><a href="#qbitarray">QBitArray</a></li>
<li><a href="#qbutton">QButton</a></li>
<li><a href="#qbuttongroup">QButtonGroup</a></li>
<li><a href="#qbytearray">QByteArray</a></li>
<li><a href="#qcache-t">QCache&lt;T&gt;</a></li>
<li><a href="#qcanvas">QCanvas</a></li>
<li><a href="#qcolor">QColor</a></li>
<li><a href="#qcolorgroup">QColorGroup</a></li>
<li><a href="#qcolordrag">QColorDrag</a></li>
<li><a href="#qcombobox">QComboBox</a></li>
<li><a href="#qcstring">QCString</a></li>
<li><a href="#qcustomevent">QCustomEvent</a></li>
<li><a href="#qdatabrowser">QDataBrowser</a></li>
<li><a href="#qdatapump">QDataPump</a></li>
<li><a href="#qdatasink">QDataSink</a></li>
<li><a href="#qdatasource">QDataSource</a></li>
<li><a href="#qdatatable">QDataTable</a></li>
<li><a href="#qdataview">QDataView</a></li>
<li><a href="#qdateedit">QDateEdit</a></li>
<li><a href="#qdatetimeeditbase">QDateTimeEditBase</a></li>
<li><a href="#qdatetimeedit">QDateTimeEdit</a></li>
<li><a href="#qdeepcopy-t">QDeepCopy&lt;T&gt;</a></li>
<li><a href="#qdial">QDial</a></li>
<li><a href="#qdict-t">QDict&lt;T&gt;</a></li>
<li><a href="#qdir">QDir</a></li>
<li><a href="#qdns">QDns</a></li>
<li><a href="#qdockarea">QDockArea</a></li>
<li><a href="#qdockwindow">QDockWindow</a></li>
</ul></td><td width="25%"><ul>
<li><a href="#qdragobject">QDragObject</a></li>
<li><a href="#qdropsite">QDropSite</a></li>
<li><a href="#qeditorfactory">QEditorFactory</a></li>
<li><a href="#qeventloop">QEventLoop</a></li>
<li><a href="#qfiledialog">QFileDialog</a></li>
<li><a href="#qfocusdata">QFocusData</a></li>
<li><a href="#qfocusevent">QFocusEvent</a></li>
<li><a href="#qfont">QFont</a></li>
<li><a href="#qframe">QFrame</a></li>
<li><a href="#qftp">QFtp</a></li>
<li><a href="#qglayoutiterator">QGLayoutIterator</a></li>
<li><a href="#qgrid">QGrid</a></li>
<li><a href="#qgridlayout">QGridLayout</a></li>
<li><a href="#qgridview">QGridView</a></li>
<li><a href="#qgroupbox">QGroupBox</a></li>
<li><a href="#qhbox">QHBox</a></li>
<li><a href="#qheader">QHeader</a></li>
<li><a href="#qhgroupbox">QHGroupBox</a></li>
<li><a href="#qhttp">QHttp</a></li>
<li><a href="#qiconfactory">QIconFactory</a></li>
<li><a href="#qiconset">QIconSet</a></li>
<li><a href="#qiconview">QIconView</a></li>
<li><a href="#qimagedrag">QImageDrag</a></li>
<li><a href="#qimageio">QImageIO</a></li>
<li><a href="#qintcache-t">QIntCache&lt;T&gt;</a></li>
<li><a href="#qintdict-t">QIntDict&lt;T&gt;</a></li>
<li><a href="#qiodevice">QIODevice</a></li>
<li><a href="#qiodevicesource">QIODeviceSource</a></li>
<li><a href="#qlabel">QLabel</a></li>
<li><a href="#qlayout">QLayout</a></li>
<li><a href="#qlayoutiterator">QLayoutIterator</a></li>
<li><a href="#qlineedit">QLineEdit</a></li>
<li><a href="#qlistbox">QListBox</a></li>
<li><a href="#qlistview">QListView</a></li>
<li><a href="#qlocalfs">QLocalFs</a></li>
<li><a href="#qmainwindow">QMainWindow</a></li>
<li><a href="#qmemarray-t">QMemArray&lt;T&gt;</a></li>
<li><a href="#qmenubar">QMenuBar</a></li>
<li><a href="#qmenudata">QMenuData</a></li>
<li><a href="#qmessagebox">QMessageBox</a></li>
<li><a href="#qmimesourcefactory">QMimeSourceFactory</a></li>
<li><a href="#qmovie">QMovie</a></li>
<li><a href="#qmultilineedit">QMultiLineEdit</a></li>
<li><a href="#qnetworkprotocol">QNetworkProtocol</a></li>
<li><a href="#qobject">QObject</a></li>
</ul></td><td width="25%"><ul>
<li><a href="#qobjectdictionary">QObjectDictionary</a></li>
<li><a href="#qobjectlist">QObjectList</a></li>
<li><a href="#qpaintdevice">QPaintDevice</a></li>
<li><a href="#qpaintdevicemetrics">QPaintDeviceMetrics</a></li>
<li><a href="#qpainter">QPainter</a></li>
<li><a href="#qpicture">QPicture</a></li>
<li><a href="#qpixmap">QPixmap</a></li>
<li><a href="#qpointarray">QPointArray</a></li>
<li><a href="#qpopupmenu">QPopupMenu</a></li>
<li><a href="#qprinter">QPrinter</a></li>
<li><a href="#qprocess">QProcess</a></li>
<li><a href="#qprogressbar">QProgressBar</a></li>
<li><a href="#qprogressdialog">QProgressDialog</a></li>
<li><a href="#qptrcollection-t">QPtrCollection&lt;T&gt;</a></li>
<li><a href="#qptrdict-t">QPtrDict&lt;T&gt;</a></li>
<li><a href="#qptrlist-t">QPtrList&lt;T&gt;</a></li>
<li><a href="#qptrqueue-t">QPtrQueue&lt;T&gt;</a></li>
<li><a href="#qptrstack-t">QPtrStack&lt;T&gt;</a></li>
<li><a href="#qptrvector-t">QPtrVector&lt;T&gt;</a></li>
<li><a href="#qpushbutton">QPushButton</a></li>
<li><a href="#qrangecontrol">QRangeControl</a></li>
<li><a href="#qregexp">QRegExp</a></li>
<li><a href="#qregion">QRegion</a></li>
<li><a href="#qscrollbar">QScrollBar</a></li>
<li><a href="#qscrollview">QScrollView</a></li>
<li><a href="#qserversocket">QServerSocket</a></li>
<li><a href="#qsettings">QSettings</a></li>
<li><a href="#qshared">QShared</a></li>
<li><a href="#qsignal">QSignal</a></li>
<li><a href="#qsimplerichtext">QSimpleRichText</a></li>
<li><a href="#qslider">QSlider</a></li>
<li><a href="#qsocket">QSocket</a></li>
<li><a href="#qsocketdevice">QSocketDevice</a></li>
<li><a href="#qsortedlist">QSortedList</a></li>
<li><a href="#qsplitter">QSplitter</a></li>
<li><a href="#qspinbox">QSpinBox</a></li>
<li><a href="#qsqlcursor">QSqlCursor</a></li>
<li><a href="#qsqldatabase">QSqlDatabase</a></li>
<li><a href="#qsqleditorfactory">QSqlEditorFactory</a></li>
<li><a href="#qsqlerror">QSqlError</a></li>
<li><a href="#qsqlfieldinfo">QSqlFieldInfo</a></li>
<li><a href="#qsqlform">QSqlForm</a></li>
<li><a href="#qsqlpropertymap">QSqlPropertyMap</a></li>
<li><a href="#qsqlquery">QSqlQuery</a></li>
<li><a href="#qsqlrecord">QSqlRecord</a></li>
</ul></td><td width="25%"><ul>
<li><a href="#qsqlrecordinfo">QSqlRecordInfo</a></li>
<li><a href="#qsqlselectcursor">QSqlSelectCursor</a></li>
<li><a href="#qstoreddrag">QStoredDrag</a></li>
<li><a href="#qstr-i-list">QStr(I)List</a></li>
<li><a href="#qstr-i-vec">QStr(I)Vec</a></li>
<li><a href="#qstring">QString</a></li>
<li><a href="#qstringlist">QStringList</a></li>
<li><a href="#qstyle">QStyle</a></li>
<li><a href="#qstylesheet">QStyleSheet</a></li>
<li><a href="#qsyntaxhighlighter">QSyntaxHighlighter</a></li>
<li><a href="#qtabbar">QTabBar</a></li>
<li><a href="#qtabdialog">QTabDialog</a></li>
<li><a href="#qtabwidget">QTabWidget</a></li>
<li><a href="#qtable">QTable</a></li>
<li><a href="#qtextcodec">QTextCodec</a></li>
<li><a href="#qtextdrag">QTextDrag</a></li>
<li><a href="#qtextedit">QTextEdit</a></li>
<li><a href="#qtextistream">QTextIStream</a></li>
<li><a href="#qtextostream">QTextOStream</a></li>
<li><a href="#qtextostreamiterator">QTextOStreamIterator</a></li>
<li><a href="#qtextstream">QTextStream</a></li>
<li><a href="#qtextview">QTextView</a></li>
<li><a href="#qtimeedit">QTimeEdit</a></li>
<li><a href="#qtimer">QTimer</a></li>
<li><a href="#qtoolbar">QToolBar</a></li>
<li><a href="#qtoolbutton">QToolButton</a></li>
<li><a href="#qtooltip">QToolTip</a></li>
<li><a href="#quridrag">QUriDrag</a></li>
<li><a href="#qurl">QUrl</a></li>
<li><a href="#qurloperator">QUrlOperator</a></li>
<li><a href="#qvaluelist-t">QValueList&lt;T&gt;</a></li>
<li><a href="#qvaluevector-t">QValueVector&lt;T&gt;</a></li>
<li><a href="#qvariant">QVariant</a></li>
<li><a href="#qvbox">QVBox</a></li>
<li><a href="#qvgroupbox">QVGroupBox</a></li>
<li><a href="#qwhatsthis">QWhatsThis</a></li>
<li><a href="#qwidget">QWidget</a></li>
<li><a href="#qwidgetfactory">QWidgetFactory</a></li>
<li><a href="#qwidgetintdict">QWidgetIntDict</a></li>
<li><a href="#qwidgetlist">QWidgetList</a></li>
<li><a href="#qwidgetplugin">QWidgetPlugin</a></li>
<li><a href="#qwidgetstack">QWidgetStack</a></li>
<li><a href="#qwizard">QWizard</a></li>
<li><a href="#qworkspace">QWorkspace</a></li>
</ul>
</td></tr></table></p>
<a name="casting-and-object-types"></a>
<h3>Casting and Object Types</h3>
<p>In Qt 3, it was possible to use the <tt>qt_cast()</tt> function to determine whether instances of <a href="qobject.html">QObject</a> subclasses could be safely cast to derived types of those subclasses. For example, if a <a href="qframe.html">QFrame</a> instance is passed to a function whose signature specifies a <a href="qwidget.html">QWidget</a> pointer as its argument, <tt>qt_cast()</tt> could be used to obtain a <a href="qframe.html">QFrame</a> pointer so that the instance's functions can be accessed.</p>
<p>In Qt 4, much of this functionality is provided by the <a href="qobject.html#qobject_cast">qobject_cast</a>() function, and additional functions also provide similar functionality for certain non-<a href="qobject.html">QObject</a> types:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 function</th><th>Qt 4 function</th></tr></thead>
<tr valign="top" class="odd"><td>T *qt_cast&lt;T *&gt;(<a href="qobject.html">QObject</a> *)</td><td><a href="qobject.html#qobject_cast">T *qobject_cast&lt;T *&gt;</a>(<a href="qobject.html">QObject</a> *)</td></tr>
<tr valign="top" class="even"><td></td><td><a href="qgraphicsitem.html#qgraphicsitem_cast">T qgraphicsitem_cast&lt;T&gt;</a>(<a href="qgraphicsitem.html">QGraphicsItem</a> *)</td></tr>
<tr valign="top" class="odd"><td></td><td><a href="qstyleoption.html#qstyleoption_cast">T qstyleoption_cast&lt;T&gt;</a>(<a href="qstyleoption.html">QStyleOption</a> *)</td></tr>
<tr valign="top" class="even"><td></td><td><a href="qvariant.html#qvariant_cast">T qvariant_cast&lt;T&gt;</a>(const <a href="qvariant.html">QVariant</a> &amp;)</td></tr>
<tr valign="top" class="odd"><td></td><td><a href="qdbusargument.html#qdbus_cast">T qdbus_cast(const QDBusArgument &amp;)</a></td></tr>
</table></p>
<a name="type-names"></a>
<h3>Type Names</h3>
<p>The table below lists the classes that have been renamed in Qt 4. If you compile your applications with <tt>QT3_SUPPORT</tt> defined, the old names will be available.</p>
<p>Whenever you see an occurrence of the name on the left, you can safely replace it with the Qt 4 equivalent in your program. The <a href="qt3to4.html#qt3to4">qt3to4</a> tool performs the conversion automatically.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 class name</th><th>Qt 4 class name</th></tr></thead>
<tr valign="top" class="odd"><td>QIconSet</td><td><a href="qicon.html">QIcon</a></td></tr>
<tr valign="top" class="even"><td>QWMatrix</td><td><a href="qmatrix.html">QMatrix</a></td></tr>
<tr valign="top" class="odd"><td>QGuardedPtr</td><td><a href="qpointer.html">QPointer</a></td></tr>
</table></p>
<p>The table below lists the enums and typedefs that have been renamed in Qt 4. If you compile your applications with <tt>QT3_SUPPORT</tt> defined, the old names will be available.</p>
<p>Whenever you see an occurrence of the name on the left, you can safely replace it with the Qt 4 equivalent in your program. The <a href="qt3to4.html#qt3to4">qt3to4</a> tool performs the conversion automatically.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 type name</th><th>Qt 4 type name</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qapplication-qt3.html#ColorMode-typedef">QApplication::ColorMode</a></td><td><a href="qapplication.html#ColorSpec-enum">QApplication::ColorSpec</a></td></tr>
<tr valign="top" class="even"><td>QButton::ToggleState</td><td><a href="qcheckbox-qt3.html#ToggleState-enum">QCheckBox::ToggleState</a></td></tr>
<tr valign="top" class="odd"><td>QCursorShape</td><td><a href="qt.html#CursorShape-enum">Qt::CursorShape</a></td></tr>
<tr valign="top" class="even"><td>QFile::FilterSpec</td><td>QFile::Filters</td></tr>
<tr valign="top" class="odd"><td><a href="qfile.html#PermissionSpec-typedef">QFile::PermissionSpec</a></td><td><a href="qfile.html#Permission-enum">QFile::Permission</a></td></tr>
<tr valign="top" class="even"><td>QFile::SortSpec</td><td>QFile::SortFlags</td></tr>
<tr valign="top" class="odd"><td><a href="qiodevice-qt3.html#Status-typedef">QFile::Status</a></td><td>QFile::Error</td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo.html#Permission-enum">QFileInfo::PermissionSpec</a></td><td><a href="qfile.html#Permission-enum">QFile::Permission</a></td></tr>
<tr valign="top" class="odd"><td>QGrid::Direction</td><td><a href="qt.html#Orientation-enum">Qt::Orientation</a></td></tr>
<tr valign="top" class="even"><td>QGridWidget::Direction</td><td><a href="qt.html#Orientation-enum">Qt::Orientation</a></td></tr>
<tr valign="top" class="odd"><td><a href="qiodevice-qt3.html#Offset-typedef">QIODevice::Offset</a></td><td>qlonglong</td></tr>
<tr valign="top" class="even"><td>QImage::ScaleMode</td><td><a href="qt.html#AspectRatioMode-enum">Qt::AspectRatioMode</a></td></tr>
<tr valign="top" class="odd"><td>QSize::ScaleMode</td><td><a href="qt.html#AspectRatioMode-enum">Qt::AspectRatioMode</a></td></tr>
<tr valign="top" class="even"><td>QSocket::Error</td><td><a href="q3socket.html#Error-enum">Q3Socket::Error</a></td></tr>
<tr valign="top" class="odd"><td>QSocket::State</td><td><a href="q3socket.html#State-enum">Q3Socket::State</a></td></tr>
<tr valign="top" class="even"><td>QStyle::SCFlags</td><td><a href="qstyle.html#SubControl-enum">QStyle::SubControls</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::SFlags</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State</a></td></tr>
<tr valign="top" class="even"><td>QTS</td><td><a href="qtextstream.html">QTextStream</a></td></tr>
<tr valign="top" class="odd"><td>QUrlDrag</td><td><a href="#quridrag">QUriDrag</a></td></tr>
<tr valign="top" class="even"><td>QWidget::FocusPolicy</td><td><a href="qt.html#FocusPolicy-enum">Qt::FocusPolicy</a></td></tr>
<tr valign="top" class="odd"><td><a href="qtglobal-qt3.html#Q_LLONG-typedef">Q_LLONG</a></td><td>qlonglong</td></tr>
<tr valign="top" class="even"><td><a href="qtglobal-qt3.html#Q_ULLONG-typedef">Q_ULLONG</a></td><td>qulonglong</td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#Dock-enum">Qt::Dock</a></td><td><a href="qt-qt3.html#ToolBarDock-typedef">Qt::ToolBarDock</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MacintoshVersion</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MacVersion</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#TextFlags-typedef">Qt::TextFlags</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextFlag</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WindowsVersion</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WinVersion</a></td></tr>
</table></p>
<a name="enum-values"></a>
<h3>Enum Values</h3>
<p>The table below lists the enum values that have been renamed in Qt 4. If you compile your applications with <tt>QT3_SUPPORT</tt> defined, the old names will be available.</p>
<p>Whenever you see an occurrence of the name on the left, you can safely replace it with the Qt 4 equivalent in your program. The <a href="qt3to4.html#qt3to4">qt3to4</a> tool performs the conversion automatically.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 enum value name</th><th>Qt 4 enum value name</th></tr></thead>
<tr valign="top" class="odd"><td>IO_Append</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Append</a></td></tr>
<tr valign="top" class="even"><td>IO_ReadOnly</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::ReadOnly</a></td></tr>
<tr valign="top" class="odd"><td>IO_ReadWrite</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::ReadWrite</a></td></tr>
<tr valign="top" class="even"><td>IO_Translate</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Text</a></td></tr>
<tr valign="top" class="odd"><td>IO_Truncate</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Truncate</a></td></tr>
<tr valign="top" class="even"><td>IO_WriteOnly</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::WriteOnly</a></td></tr>
<tr valign="top" class="odd"><td>IO_Raw</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Unbuffered</a></td></tr>
<tr valign="top" class="even"><td><a href="qaccessible.html#StateFlag-enum">QAccessible::Moveable</a></td><td><a href="qaccessible.html#StateFlag-enum">QAccessible::Movable</a></td></tr>
<tr valign="top" class="odd"><td><a href="qapplication-qt3.html#CustomColors-var">QApplication::CustomColors</a></td><td><a href="qapplication.html#ColorSpec-enum">QApplication::CustomColor</a></td></tr>
<tr valign="top" class="even"><td><a href="qapplication-qt3.html#NormalColors-var">QApplication::NormalColors</a></td><td><a href="qapplication.html#ColorSpec-enum">QApplication::NormalColor</a></td></tr>
<tr valign="top" class="odd"><td>QButton::NoChange</td><td><a href="qcheckbox-qt3.html#ToggleState-enum">QCheckBox::NoChange</a></td></tr>
<tr valign="top" class="even"><td>QButton::Off</td><td><a href="qcheckbox-qt3.html#ToggleState-enum">QCheckBox::Off</a></td></tr>
<tr valign="top" class="odd"><td>QButton::On</td><td><a href="qcheckbox-qt3.html#ToggleState-enum">QCheckBox::On</a></td></tr>
<tr valign="top" class="even"><td><a href="qchar.html#Decomposition-enum">QChar::Single</a></td><td><a href="qchar.html#Decomposition-enum">QChar::NoDecomposition</a></td></tr>
<tr valign="top" class="odd"><td><a href="qchar.html#SpecialCharacter-enum">QChar::byteOrderMark</a></td><td><a href="qchar.html#SpecialCharacter-enum">QChar::ByteOrderMark</a></td></tr>
<tr valign="top" class="even"><td><a href="qchar.html#SpecialCharacter-enum">QChar::byteOrderSwapped</a></td><td><a href="qchar.html#SpecialCharacter-enum">QChar::ByteOrderSwapped</a></td></tr>
<tr valign="top" class="odd"><td><a href="qchar.html#SpecialCharacter-enum">QChar::nbsp</a></td><td><a href="qchar.html#SpecialCharacter-enum">QChar::Nbsp</a></td></tr>
<tr valign="top" class="even"><td><a href="qchar.html#SpecialCharacter-enum">QChar::null</a></td><td><a href="qchar.html#SpecialCharacter-enum">QChar::Null</a></td></tr>
<tr valign="top" class="odd"><td><a href="qchar.html#SpecialCharacter-enum">QChar::replacement</a></td><td><a href="qchar.html#SpecialCharacter-enum">QChar::ReplacementCharacter</a></td></tr>
<tr valign="top" class="even"><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::AfterCurrent</a></td><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::InsertAfterCurrent</a></td></tr>
<tr valign="top" class="odd"><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::AtBottom</a></td><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::InsertAtBottom</a></td></tr>
<tr valign="top" class="even"><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::AtCurrent</a></td><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::InsertAtCurrent</a></td></tr>
<tr valign="top" class="odd"><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::AtTop</a></td><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::InsertAtTop</a></td></tr>
<tr valign="top" class="even"><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::BeforeCurrent</a></td><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::InsertBeforeCurrent</a></td></tr>
<tr valign="top" class="odd"><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::NoInsertion</a></td><td><a href="qcombobox.html#InsertPolicy-enum">QComboBox::NoInsert</a></td></tr>
<tr valign="top" class="even"><td><a href="qdir.html#Filter-enum">QDir::DefaultFilter</a></td><td><a href="qdir.html#Filter-enum">QDir::NoFilter</a></td></tr>
<tr valign="top" class="odd"><td><a href="qdir.html#SortFlag-enum">QDir::DefaultSort</a></td><td><a href="qdir.html#SortFlag-enum">QDir::NoSort</a></td></tr>
<tr valign="top" class="even"><td><a href="qevent.html#Type-enum">QEvent::Accel</a></td><td><a href="qevent.html#Type-enum">QEvent::Shortcut</a></td></tr>
<tr valign="top" class="odd"><td><a href="qevent.html#Type-enum">QEvent::AccelOverride</a></td><td><a href="qevent.html#Type-enum">QEvent::ShortcutOverride</a></td></tr>
<tr valign="top" class="even"><td><a href="qevent.html#Type-enum">QEvent::CaptionChange</a></td><td><a href="qevent.html#Type-enum">QEvent::WindowTitleChange</a></td></tr>
<tr valign="top" class="odd"><td><a href="qevent.html#Type-enum">QEvent::ChildInserted</a></td><td><a href="qevent.html#Type-enum">QEvent::ChildAdded</a></td></tr>
<tr valign="top" class="even"><td>QEvent::IMCompose</td><td>QEvent::InputMethodCompose</td></tr>
<tr valign="top" class="odd"><td>QEvent::IMEnd</td><td>QEvent::InputMethodEnd</td></tr>
<tr valign="top" class="even"><td>QEvent::IMStart</td><td>QEvent::InputMethodStart</td></tr>
<tr valign="top" class="odd"><td><a href="qevent.html#Type-enum">QEvent::IconChange</a></td><td><a href="qevent.html#Type-enum">QEvent::WindowIconChange</a></td></tr>
<tr valign="top" class="even"><td><a href="qevent.html#Type-enum">QEvent::LayoutHint</a></td><td><a href="qevent.html#Type-enum">QEvent::LayoutRequest</a></td></tr>
<tr valign="top" class="odd"><td><a href="qevent.html#Type-enum">QEvent::Reparent</a></td><td><a href="qevent.html#Type-enum">QEvent::ParentChange</a></td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ExeGroup</a></td><td><a href="qfile.html#Permission-enum">QFile::ExeGroup</a></td></tr>
<tr valign="top" class="odd"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ExeOther</a></td><td><a href="qfile.html#Permission-enum">QFile::ExeOther</a></td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ExeOwner</a></td><td><a href="qfile.html#Permission-enum">QFile::ExeOwner</a></td></tr>
<tr valign="top" class="odd"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ExeUser</a></td><td><a href="qfile.html#Permission-enum">QFile::ExeUser</a></td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ReadGroup</a></td><td><a href="qfile.html#Permission-enum">QFile::ReadGroup</a></td></tr>
<tr valign="top" class="odd"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ReadOther</a></td><td><a href="qfile.html#Permission-enum">QFile::ReadOther</a></td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ReadOwner</a></td><td><a href="qfile.html#Permission-enum">QFile::ReadOwner</a></td></tr>
<tr valign="top" class="odd"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::ReadUser</a></td><td><a href="qfile.html#Permission-enum">QFile::ReadUser</a></td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::WriteGroup</a></td><td><a href="qfile.html#Permission-enum">QFile::WriteGroup</a></td></tr>
<tr valign="top" class="odd"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::WriteOther</a></td><td><a href="qfile.html#Permission-enum">QFile::WriteOther</a></td></tr>
<tr valign="top" class="even"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::WriteOwner</a></td><td><a href="qfile.html#Permission-enum">QFile::WriteOwner</a></td></tr>
<tr valign="top" class="odd"><td><a href="qfileinfo-qt3.html#Permission-enum">QFileInfo::WriteUser</a></td><td><a href="qfile.html#Permission-enum">QFile::WriteUser</a></td></tr>
<tr valign="top" class="even"><td><a href="qframe.html#Shape-enum">QFrame::GroupBoxPanel</a></td><td><a href="qframe.html#Shape-enum">QFrame::StyledPanel</a></td></tr>
<tr valign="top" class="odd"><td><a href="qframe.html#Shape-enum">QFrame::LineEditPanel</a></td><td><a href="qframe.html#Shape-enum">QFrame::StyledPanel</a></td></tr>
<tr valign="top" class="even"><td><a href="qframe.html#Shape-enum">QFrame::MenuBarPanel</a></td><td><a href="qframe.html#Shape-enum">QFrame::StyledPanel</a></td></tr>
<tr valign="top" class="odd"><td><a href="qframe.html#Shape-enum">QFrame::PopupPanel</a></td><td><a href="qframe.html#Shape-enum">QFrame::StyledPanel</a></td></tr>
<tr valign="top" class="even"><td><a href="qframe.html#Shape-enum">QFrame::TabWidgetPanel</a></td><td><a href="qframe.html#Shape-enum">QFrame::StyledPanel</a></td></tr>
<tr valign="top" class="odd"><td><a href="qframe.html#Shape-enum">QFrame::ToolBarPanel</a></td><td><a href="qframe.html#Shape-enum">QFrame::StyledPanel</a></td></tr>
<tr valign="top" class="even"><td>QImage::ScaleFree</td><td><a href="qt.html#AspectRatioMode-enum">Qt::IgnoreAspectRatio</a></td></tr>
<tr valign="top" class="odd"><td>QImage::ScaleMax</td><td><a href="qt.html#AspectRatioMode-enum">Qt::KeepAspectRatioByExpanding</a></td></tr>
<tr valign="top" class="even"><td>QImage::ScaleMin</td><td><a href="qt.html#AspectRatioMode-enum">Qt::KeepAspectRatio</a></td></tr>
<tr valign="top" class="odd"><td>Qt::Identical</td><td><a href="qkeysequence.html#SequenceMatch-enum">QKeySequence::ExactMatch</a></td></tr>
<tr valign="top" class="even"><td>Qt::NoMatch</td><td><a href="qkeysequence.html#SequenceMatch-enum">QKeySequence::NoMatch</a></td></tr>
<tr valign="top" class="odd"><td>Qt::PartialMatch</td><td><a href="qkeysequence.html#SequenceMatch-enum">QKeySequence::PartialMatch</a></td></tr>
<tr valign="top" class="even"><td><a href="qlayout.html#SizeConstraint-enum">QLayout::Auto</a></td><td><a href="qlayout.html#SizeConstraint-enum">QLayout::SetDefaultConstraint</a></td></tr>
<tr valign="top" class="odd"><td><a href="qlayout.html#SizeConstraint-enum">QLayout::Fixed</a></td><td><a href="qlayout.html#SizeConstraint-enum">QLayout::SetFixedSize</a></td></tr>
<tr valign="top" class="even"><td><a href="qlayout.html#SizeConstraint-enum">QLayout::FreeResize</a></td><td><a href="qlayout.html#SizeConstraint-enum">QLayout::SetNoConstraint</a></td></tr>
<tr valign="top" class="odd"><td><a href="qlayout.html#SizeConstraint-enum">QLayout::Minimum</a></td><td><a href="qlayout.html#SizeConstraint-enum">QLayout::SetMinimumSize</a></td></tr>
<tr valign="top" class="even"><td>QMacStyle::SizeNone</td><td>QMacStyle::SizeDefault</td></tr>
<tr valign="top" class="odd"><td><a href="qsettings.html#Scope-enum">QSettings::Global</a></td><td><a href="qsettings.html#Scope-enum">QSettings::SystemScope</a></td></tr>
<tr valign="top" class="even"><td><a href="qsettings.html#Scope-enum">QSettings::User</a></td><td><a href="qsettings.html#Scope-enum">QSettings::UserScope</a></td></tr>
<tr valign="top" class="odd"><td>QSize::ScaleFree</td><td><a href="qt.html#AspectRatioMode-enum">Qt::IgnoreAspectRatio</a></td></tr>
<tr valign="top" class="even"><td>QSize::ScaleMax</td><td><a href="qt.html#AspectRatioMode-enum">Qt::KeepAspectRatioByExpanding</a></td></tr>
<tr valign="top" class="odd"><td>QSize::ScaleMin</td><td><a href="qt.html#AspectRatioMode-enum">Qt::KeepAspectRatio</a></td></tr>
<tr valign="top" class="even"><td>QSizePolicy::Horizontal</td><td><a href="qsizepolicy-qt3.html#ExpandData-enum">QSizePolicy::Horizontally</a></td></tr>
<tr valign="top" class="odd"><td>QSizePolicy::Vertical</td><td><a href="qsizepolicy-qt3.html#ExpandData-enum">QSizePolicy::Vertically</a></td></tr>
<tr valign="top" class="even"><td><a href="qslider.html#TickPosition-enum">QSlider::Above</a></td><td><a href="qslider.html#TickPosition-enum">QSlider::TicksAbove</a></td></tr>
<tr valign="top" class="odd"><td><a href="qslider.html#TickPosition-enum">QSlider::Below</a></td><td><a href="qslider.html#TickPosition-enum">QSlider::TicksBelow</a></td></tr>
<tr valign="top" class="even"><td><a href="qslider.html#TickPosition-enum">QSlider::Both</a></td><td><a href="qslider.html#TickPosition-enum">QSlider::TicksBothSides</a></td></tr>
<tr valign="top" class="odd"><td><a href="qslider.html#TickPosition-enum">QSlider::Left</a></td><td><a href="qslider.html#TickPosition-enum">QSlider::TicksLeft</a></td></tr>
<tr valign="top" class="even"><td><a href="qslider.html#TickPosition-enum">QSlider::NoMarks</a></td><td><a href="qslider.html#TickPosition-enum">QSlider::NoTicks</a></td></tr>
<tr valign="top" class="odd"><td><a href="qslider.html#TickPosition-enum">QSlider::Right</a></td><td><a href="qslider.html#TickPosition-enum">QSlider::TicksRight</a></td></tr>
<tr valign="top" class="even"><td>QSocket::Closing</td><td><a href="q3socket.html#State-enum">Q3Socket::Closing</a></td></tr>
<tr valign="top" class="odd"><td>QSocket::Connected</td><td><a href="q3socket.html#State-enum">Q3Socket::Connected</a></td></tr>
<tr valign="top" class="even"><td>QSocket::Connecting</td><td><a href="q3socket.html#State-enum">Q3Socket::Connecting</a></td></tr>
<tr valign="top" class="odd"><td>QSocket::Connection</td><td><a href="q3socket.html#State-enum">Q3Socket::Connection</a></td></tr>
<tr valign="top" class="even"><td>QSocket::ErrConnectionRefused</td><td><a href="q3socket.html#Error-enum">Q3Socket::ErrConnectionRefused</a></td></tr>
<tr valign="top" class="odd"><td>QSocket::ErrHostNotFound</td><td><a href="q3socket.html#Error-enum">Q3Socket::ErrHostNotFound</a></td></tr>
<tr valign="top" class="even"><td>QSocket::ErrSocketRead</td><td><a href="q3socket.html#Error-enum">Q3Socket::ErrSocketRead</a></td></tr>
<tr valign="top" class="odd"><td>QSocket::HostLookup</td><td><a href="qabstractsocket.html#SocketState-enum">QAbstractSocket::HostLookupState</a></td></tr>
<tr valign="top" class="even"><td>QSocket::Idle</td><td><a href="qabstractsocket.html#SocketState-enum">QAbstractSocket::UnconnectedState</a></td></tr>
<tr valign="top" class="odd"><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::Connection</a></td><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::ConnectionError</a></td></tr>
<tr valign="top" class="even"><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::None</a></td><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::NoError</a></td></tr>
<tr valign="top" class="odd"><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::Statement</a></td><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::StatementError</a></td></tr>
<tr valign="top" class="even"><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::Transaction</a></td><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::TransactionError</a></td></tr>
<tr valign="top" class="odd"><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::Unknown</a></td><td><a href="qsqlerror.html#ErrorType-enum">QSqlError::UnknownError</a></td></tr>
<tr valign="top" class="even"><td>QStyle::CC_ListView</td><td><a href="qstyle.html#ComplexControl-enum">QStyle::CC_Q3ListView</a></td></tr>
<tr valign="top" class="odd"><td><a href="qstyle.html#StyleHint-enum">QStyle::SH_UnderlineAccelerator</a></td><td><a href="qstyle.html#StyleHint-enum">QStyle::SH_UnderlineShortcut</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Active</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Active</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_AutoRaise</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_AutoRaise</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Bottom</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Bottom</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Children</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Children</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Default</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_None</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Down</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_DownArrow</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Editing</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Editing</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Enabled</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Enabled</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_FocusAtBorder</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_FocusAtBorder</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_HasFocus</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_HasFocus</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Horizontal</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Horizontal</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Item</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Item</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_MouseOver</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_MouseOver</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_NoChange</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_NoChange</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_None</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_None</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Off</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Off</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_On</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_On</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Open</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Open</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Raised</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Raised</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Rectangle</td><td>QStyle::State_Rectangle</td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Selected</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Selected</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Sibling</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Sibling</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Sunken</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Sunken</a></td></tr>
<tr valign="top" class="odd"><td>QStyle::Style_Top</td><td><a href="qstyle.html#StateFlag-enum">QStyle::State_Top</a></td></tr>
<tr valign="top" class="even"><td>QStyle::Style_Up</td><td>QStyle::State_Up</td></tr>
<tr valign="top" class="odd"><td><a href="qtabbar.html#Shape-enum">QTabBar::RoundedAbove</a></td><td><a href="qtabbar.html#Shape-enum">QTabBar::RoundedNorth</a></td></tr>
<tr valign="top" class="even"><td><a href="qtabbar.html#Shape-enum">QTabBar::RoundedBelow</a></td><td><a href="#qtabbar">QTabBar::</a> RoundedSouth</td></tr>
<tr valign="top" class="odd"><td><a href="qtabbar.html#Shape-enum">QTabBar::TriangularAbove</a></td><td><a href="#qtabbar">QTabBar::</a> TriangularNorth</td></tr>
<tr valign="top" class="even"><td><a href="qtabbar.html#Shape-enum">QTabBar::TriangularBelow</a></td><td><a href="#qtabbar">QTabBar::</a> TriangularSouth</td></tr>
<tr valign="top" class="odd"><td><a href="qtextedit.html#CursorAction-enum">QTextEdit::MovePgDown</a></td><td><a href="qtextedit.html#CursorAction-enum">QTextEdit::MovePageDown</a></td></tr>
<tr valign="top" class="even"><td><a href="qtextedit.html#CursorAction-enum">QTextEdit::MovePgUp</a></td><td><a href="qtextedit.html#CursorAction-enum">QTextEdit::MovePageUp</a></td></tr>
<tr valign="top" class="odd"><td><a href="qtoolbutton-qt3.html#TextPosition-enum">QToolButton::Right</a></td><td><a href="qtoolbutton-qt3.html#TextPosition-enum">QToolButton::BesideIcon</a></td></tr>
<tr valign="top" class="even"><td><a href="qtoolbutton-qt3.html#TextPosition-enum">QToolButton::Under</a></td><td><a href="qtoolbutton-qt3.html#TextPosition-enum">QToolButton::BelowIcon</a></td></tr>
<tr valign="top" class="odd"><td><a href="qvalidator.html#State-enum">QValidator::Valid</a></td><td><a href="qvalidator.html#State-enum">QValidator::Intermediate</a></td></tr>
<tr valign="top" class="even"><td><a href="qvariant.html#Type-enum">QVariant::IconSet</a></td><td>QCoreVariant::Icon</td></tr>
<tr valign="top" class="odd"><td>QWidget::ClickFocus</td><td><a href="qt.html#FocusPolicy-enum">Qt::ClickFocus</a></td></tr>
<tr valign="top" class="even"><td>QWidget::NoFocus</td><td><a href="qt.html#FocusPolicy-enum">Qt::NoFocus</a></td></tr>
<tr valign="top" class="odd"><td>QWidget::StrongFocus</td><td><a href="qt.html#FocusPolicy-enum">Qt::StrongFocus</a></td></tr>
<tr valign="top" class="even"><td>QWidget::TabFocus</td><td><a href="qt.html#FocusPolicy-enum">Qt::TabFocus</a></td></tr>
<tr valign="top" class="odd"><td>QWidget::WheelFocus</td><td><a href="qt.html#FocusPolicy-enum">Qt::WheelFocus</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#AlignmentFlag-enum">Qt::AlignAuto</a></td><td><a href="qt.html#AlignmentFlag-enum">Qt::AlignLeft</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#ButtonState_enum-enum">Qt::AltButton</a></td><td><a href="qt.html#KeyboardModifier-enum">Qt::AltModifier</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#SortOrder-enum">Qt::Ascending</a></td><td><a href="qt.html#SortOrder-enum">Qt::AscendingOrder</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#Dock-enum">Qt::Bottom</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockBottom</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Corner-enum">Qt::BottomLeft</a></td><td><a href="qt.html#Corner-enum">Qt::BottomLeftCorner</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Corner-enum">Qt::BottomRight</a></td><td><a href="qt.html#Corner-enum">Qt::BottomRightCorner</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#TextFlag-enum">Qt::BreakAnywhere</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextWrapAnywhere</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#ButtonState_enum-enum">Qt::ControlButton</a></td><td><a href="qt.html#KeyboardModifier-enum">Qt::ControlModifier</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#BrushStyle-enum">Qt::CustomPattern</a></td><td><a href="qt.html#BrushStyle-enum">Qt::TexturePattern</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#SortOrder-enum">Qt::Descending</a></td><td><a href="qt.html#SortOrder-enum">Qt::DescendingOrder</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#TextFlag-enum">Qt::DontClip</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextDontClip</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#TextFlag-enum">Qt::DontPrint</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextDontPrint</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#TextFlag-enum">Qt::ExpandTabs</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextExpandTabs</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#TextFlag-enum">Qt::IncludeTrailingSpaces</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextIncludeTrailingSpaces</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#ButtonState_enum-enum">Qt::KeyButtonMask</a></td><td><a href="qt.html#KeyboardModifier-enum">Qt::KeyboardModifierMask</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_BackSpace</a></td><td><a href="qt.html#Key-enum">Qt::Key_Backspace</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_BackTab</a></td><td><a href="qt.html#Key-enum">Qt::Key_Backtab</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_MediaPrev</a></td><td><a href="qt.html#Key-enum">Qt::Key_MediaPrevious</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_Next</a></td><td><a href="qt.html#Key-enum">Qt::Key_PageDown</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_Prior</a></td><td><a href="qt.html#Key-enum">Qt::Key_PageUp</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_aacute</a></td><td><a href="qt.html#Key-enum">Qt::Key_Aacute</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_acircumflex</a></td><td><a href="qt.html#Key-enum">Qt::Key_Acircumflex</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_adiaeresis</a></td><td><a href="qt.html#Key-enum">Qt::Key_Adiaeresis</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_ae</a></td><td><a href="qt.html#Key-enum">Qt::Key_AE</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_agrave</a></td><td><a href="qt.html#Key-enum">Qt::Key_Agrave</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_aring</a></td><td><a href="qt.html#Key-enum">Qt::Key_Aring</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_atilde</a></td><td><a href="qt.html#Key-enum">Qt::Key_Atilde</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_ccedilla</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ccedilla</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_eacute</a></td><td><a href="qt.html#Key-enum">Qt::Key_Eacute</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_ecircumflex</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ecircumflex</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_ediaeresis</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ediaeresis</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_egrave</a></td><td><a href="qt.html#Key-enum">Qt::Key_Egrave</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_eth</a></td><td><a href="qt.html#Key-enum">Qt::Key_ETH</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_iacute</a></td><td><a href="qt.html#Key-enum">Qt::Key_Iacute</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_icircumflex</a></td><td><a href="qt.html#Key-enum">Qt::Key_Icircumflex</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_idiaeresis</a></td><td><a href="qt.html#Key-enum">Qt::Key_Idiaeresis</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_igrave</a></td><td><a href="qt.html#Key-enum">Qt::Key_Igrave</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_ntilde</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ntilde</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_oacute</a></td><td><a href="qt.html#Key-enum">Qt::Key_Oacute</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_ocircumflex</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ocircumflex</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_odiaeresis</a></td><td><a href="qt.html#Key-enum">Qt::Key_Odiaeresis</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_ograve</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ograve</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_oslash</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ooblique</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_otilde</a></td><td><a href="qt.html#Key-enum">Qt::Key_Otilde</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_thorn</a></td><td><a href="qt.html#Key-enum">Qt::Key_THORN</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_uacute</a></td><td><a href="qt.html#Key-enum">Qt::Key_Uacute</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_ucircumflex</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ucircumflex</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_udiaeresis</a></td><td><a href="qt.html#Key-enum">Qt::Key_Udiaeresis</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Key-enum">Qt::Key_ugrave</a></td><td><a href="qt.html#Key-enum">Qt::Key_Ugrave</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Key-enum">Qt::Key_yacute</a></td><td><a href="qt.html#Key-enum">Qt::Key_Yacute</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#ButtonState_enum-enum">Qt::Keypad</a></td><td><a href="qt.html#KeyboardModifier-enum">Qt::KeypadModifier</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#Dock-enum">Qt::Left</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockLeft</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_10_DOT_0</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_0</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_10_DOT_1</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_1</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_10_DOT_2</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_2</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_10_DOT_3</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_3</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_10_DOT_4</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_4</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_9</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_9</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_CHEETAH</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_0</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_JAGUAR</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_2</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_PANTHER</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_3</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_PUMA</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_1</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_TIGER</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_10_4</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#MacintoshVersion-enum">Qt::MV_Unknown</a></td><td><a href="qsysinfo.html#MacVersion-enum">QSysInfo::MV_Unknown</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#ButtonState_enum-enum">Qt::MetaButton</a></td><td><a href="qt.html#KeyboardModifier-enum">Qt::MetaModifier</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#Dock-enum">Qt::Minimized</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockMinimized</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#TextFlag-enum">Qt::NoAccel</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextHideMnemonic</a></td></tr>
<tr valign="top" class="odd"><td>Qt::Overline</td><td>Qt::TextOverline</td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#Dock-enum">Qt::Right</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockRight</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#ButtonState_enum-enum">Qt::ShiftButton</a></td><td><a href="qt.html#KeyboardModifier-enum">Qt::ShiftModifier</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#TextFlag-enum">Qt::ShowPrefix</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextShowMnemonic</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#TextFlag-enum">Qt::SingleLine</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextSingleLine</a></td></tr>
<tr valign="top" class="even"><td>Qt::StrikeOut</td><td>Qt::TextStrikeOut</td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#Dock-enum">Qt::Top</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockTop</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#Corner-enum">Qt::TopLeft</a></td><td><a href="qt.html#Corner-enum">Qt::TopLeftCorner</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#Corner-enum">Qt::TopRight</a></td><td><a href="qt.html#Corner-enum">Qt::TopRightCorner</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#Dock-enum">Qt::TornOff</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockTornOff</a></td></tr>
<tr valign="top" class="odd"><td>Qt::Underline</td><td>Qt::TextUnderline</td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#Dock-enum">Qt::Unmanaged</a></td><td><a href="qt-qt3.html#Dock-enum">Qt::DockUnmanaged</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WNorthWestGravity</a></td><td><a href="qt.html#WindowType-enum">Qt::WStaticContents</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WRepaintNoErase</a></td><td><a href="qt.html#WindowType-enum">Qt::WNoAutoErase</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WStyle_Dialog</a></td><td><a href="qt.html#WindowType-enum">Qt::WType_Dialog</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WStyle_NoBorderEx</a></td><td><a href="qt.html#WindowType-enum">Qt::WStyle_NoBorder</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WType_Modal</a></td><td>(<a href="qt.html#WindowType-enum">Qt::WType_Dialog</a> | <a href="qt.html#WindowType-enum">Qt::WShowModal</a>)</td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_2000</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_2000</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_2003</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_2003</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_32s</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_32s</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_95</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_95</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_98</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_98</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_CE</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_CE</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_CENET</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_CENET</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_CE_based</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_CE_based</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_DOS_based</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_DOS_based</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_Me</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_Me</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_NT</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_NT</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_NT_based</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_NT_based</a></td></tr>
<tr valign="top" class="even"><td><a href="qt-qt3.html#WindowsVersion-enum">Qt::WV_XP</a></td><td><a href="qsysinfo.html#WinVersion-enum">QSysInfo::WV_XP</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#TextFlag-enum">Qt::WordBreak</a></td><td><a href="qt.html#TextFlag-enum">Qt::TextWordWrap</a></td></tr>
<tr valign="top" class="even"><td>Qt::IbeamCursor</td><td><a href="qt.html#CursorShape-enum">Qt::IBeamCursor</a></td></tr>
</table></p>
<p>In addition, the following <a href="qt.html#WindowType-enum">window flags</a> have been either replaced with <a href="qt.html#WidgetAttribute-enum">widget attributes</a> or have been deprecated:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 type</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WDestructiveClose</a></td><td>Use QWidget::setAttribute(<a href="qt.html#WidgetAttribute-enum">Qt::WA_DeleteOnClose</a>) instead.</td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WStaticContents</a></td><td rowspan="2">Use QWidget::setAttribute(<a href="qt.html#WidgetAttribute-enum">Qt::WA_StaticContents</a>) instead.</td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WNorthWestGravity</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WNoAutoErase</a></td><td rowspan="3">Use QWidget::setAttribute(<a href="qt.html#WidgetAttribute-enum">Qt::WA_NoBackground</a>) instead.</td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WResizeNoErase</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WRepaintNoErase</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WPaintClever</a></td><td>Unnecessary in Qt 4.</td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WMacNoSheet</a></td><td>Unnecessary in Qt 4.</td></tr>
</table></p>
<p>In Qt 4.1, the widget flags used to determine window modality were replaced by a single enum that can be used to specify the modal behavior of top-level widgets:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 type</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qt.html#WindowType-enum">Qt::WShowModal</a></td><td>Use QWidget::setWindowModality(<a href="qt.html#WindowModality-enum">Qt::ApplicationModal</a>) instead.</td></tr>
<tr valign="top" class="even"><td><a href="qt.html#WindowType-enum">Qt::WGroupLeader</a></td><td>Use QWidget::setWindowModality(<a href="qt.html#WindowModality-enum">Qt::WindowModal</a>) for each child dialog of the group leader, but do not change the modality of the group leader itself.</td></tr>
</table></p>
<a name="properties"></a><a name="properties"></a>
<h3>Properties</h3>
<p>Some properties have been renamed in Qt 4, to make Qt's API more consistent and more intuitive. For example, <a href="qwidget.html">QWidget</a>'s <tt>caption</tt> property has been renamed <tt>windowTitle</tt> to make it clear that it refers to the title shown in the window's title bar.</p>
<p>In addition, the property system has been extended to allow properties to be redefined in subclasses with the <a href="qobject.html#Q_PROPERTY">Q_PROPERTY</a>() macro, removing the need for a <tt>Q_OVERRIDE()</tt> macro.</p>
<p>The table below lists the Qt properties that have been renamed in Qt 4. Occurrences of these in <i>Qt Designer</i> <tt>.ui</tt> files are automatically converted to the new name by <tt>uic</tt>.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 name</th><th>Qt 4 name</th></tr></thead>
<tr valign="top" class="odd"><td>QButton::accel</td><td>QButton::shortcut</td></tr>
<tr valign="top" class="even"><td>QButton::on</td><td>QButton::checked</td></tr>
<tr valign="top" class="odd"><td>QButton::toggleButton</td><td><a href="qabstractbutton.html#checkable-prop">QAbstractButton::checkable</a></td></tr>
<tr valign="top" class="even"><td>QDial::lineStep</td><td><a href="qabstractslider.html#singleStep-prop">QDial::singleStep</a></td></tr>
<tr valign="top" class="odd"><td>QDial::maxValue</td><td><a href="qabstractslider.html#maximum-prop">QDial::maximum</a></td></tr>
<tr valign="top" class="even"><td>QDial::minValue</td><td><a href="qabstractslider.html#minimum-prop">QDial::minimum</a></td></tr>
<tr valign="top" class="odd"><td><a href="qdialog.html#modal-prop">QDialog::modal</a></td><td>QDialog::isModal</td></tr>
<tr valign="top" class="even"><td>QLineEdit::edited</td><td><a href="qlineedit.html#modified-prop">QLineEdit::modified</a></td></tr>
<tr valign="top" class="odd"><td>QLineEdit::hasMarkedText</td><td><a href="qlineedit.html#hasSelectedText-prop">QLineEdit::hasSelectedText</a></td></tr>
<tr valign="top" class="even"><td>QLineEdit::markedText</td><td><a href="qlineedit.html#selectedText-prop">QLineEdit::selectedText</a></td></tr>
<tr valign="top" class="odd"><td>QObject::name</td><td><a href="qobject.html#objectName-prop">QObject::objectName</a></td></tr>
<tr valign="top" class="even"><td>QProgressDialog::progress</td><td><a href="qprogressdialog.html#value-prop">QProgressDialog::value</a></td></tr>
<tr valign="top" class="odd"><td>QProgressDialog::totalSteps</td><td><a href="qprogressdialog.html#maximum-prop">QProgressDialog::maximum</a></td></tr>
<tr valign="top" class="even"><td>QProgressDialog::wasCancelled</td><td><a href="qprogressdialog.html#wasCanceled-prop">QProgressDialog::wasCanceled</a></td></tr>
<tr valign="top" class="odd"><td>QPushButton::iconSet</td><td><a href="qabstractbutton.html#icon-prop">QPushButton::icon</a></td></tr>
<tr valign="top" class="even"><td>QScrollBar::draggingSlider</td><td><a href="qabstractslider.html#sliderDown-prop">QScrollBar::sliderDown</a></td></tr>
<tr valign="top" class="odd"><td>QScrollBar::lineStep</td><td><a href="qabstractslider.html#singleStep-prop">QScrollBar::singleStep</a></td></tr>
<tr valign="top" class="even"><td>QScrollBar::maxValue</td><td><a href="qabstractslider.html#maximum-prop">QScrollBar::maximum</a></td></tr>
<tr valign="top" class="odd"><td>QScrollBar::minValue</td><td><a href="qabstractslider.html#minimum-prop">QScrollBar::minimum</a></td></tr>
<tr valign="top" class="even"><td>QSlider::lineStep</td><td><a href="qabstractslider.html#singleStep-prop">QSlider::singleStep</a></td></tr>
<tr valign="top" class="odd"><td>QSlider::maxValue</td><td><a href="qabstractslider.html#maximum-prop">QSlider::maximum</a></td></tr>
<tr valign="top" class="even"><td>QSlider::minValue</td><td><a href="qabstractslider.html#minimum-prop">QSlider::minimum</a></td></tr>
<tr valign="top" class="odd"><td>QSpinBox::lineStep</td><td><a href="qspinbox.html#singleStep-prop">QSpinBox::singleStep</a></td></tr>
<tr valign="top" class="even"><td>QSpinBox::maxValue</td><td><a href="qspinbox.html#maximum-prop">QSpinBox::maximum</a></td></tr>
<tr valign="top" class="odd"><td>QSpinBox::minValue</td><td><a href="qspinbox.html#minimum-prop">QSpinBox::minimum</a></td></tr>
<tr valign="top" class="even"><td>QTabBar::currentTab</td><td><a href="qtabbar.html#currentIndex-prop">QTabBar::currentIndex</a></td></tr>
<tr valign="top" class="odd"><td>QTabWidget::currentPage</td><td>QTabWidget::currentWidget</td></tr>
<tr valign="top" class="even"><td>QToolButton::iconSet</td><td><a href="qabstractbutton.html#icon-prop">QToolButton::icon</a></td></tr>
<tr valign="top" class="odd"><td>QToolButton::textLabel</td><td><a href="qabstractbutton.html#text-prop">QToolButton::text</a></td></tr>
<tr valign="top" class="even"><td>QWidget::caption</td><td><a href="qwidget.html#windowTitle-prop">QWidget::windowTitle</a></td></tr>
<tr valign="top" class="odd"><td>QWidget::icon</td><td><a href="qwidget.html#windowIcon-prop">QWidget::windowIcon</a></td></tr>
<tr valign="top" class="even"><td>QWidget::iconText</td><td><a href="qwidget.html#windowIconText-prop">QWidget::windowIconText</a></td></tr>
</table></p>
<p>A handful of properties in Qt 3 are no longer properties in Qt 4, but the access functions still exist as part of the Qt 4 API. These are not used by <i>Qt Designer</i>; the only case where you need to worry about them is in highly dynamic applications that use Qt's meta-object system to access properties. Here's the list of these properties with the read and write functions that you can use instead:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 property</th><th>Qt 4 read function</th><th>Qt 4 write function</th></tr></thead>
<tr valign="top" class="odd"><td>QSqlDatabase::connectOptions</td><td><a href="qsqldatabase.html#connectOptions">QSqlDatabase::connectOptions</a>()</td><td><a href="qsqldatabase.html#setConnectOptions">QSqlDatabase::setConnectOptions</a>()</td></tr>
<tr valign="top" class="even"><td>QSqlDatabase::databaseName</td><td><a href="qsqldatabase.html#databaseName">QSqlDatabase::databaseName</a>()</td><td><a href="qsqldatabase.html#setDatabaseName">QSqlDatabase::setDatabaseName</a>()</td></tr>
<tr valign="top" class="odd"><td>QSqlDatabase::hostName</td><td><a href="qsqldatabase.html#hostName">QSqlDatabase::hostName</a>()</td><td><a href="qsqldatabase.html#setHostName">QSqlDatabase::setHostName</a>()</td></tr>
<tr valign="top" class="even"><td>QSqlDatabase::password</td><td><a href="qsqldatabase.html#password">QSqlDatabase::password</a>()</td><td><a href="qsqldatabase.html#setPassword">QSqlDatabase::setPassword</a>()</td></tr>
<tr valign="top" class="odd"><td>QSqlDatabase::port</td><td><a href="qsqldatabase.html#port">QSqlDatabase::port</a>()</td><td><a href="qsqldatabase.html#setPort">QSqlDatabase::setPort</a>()</td></tr>
<tr valign="top" class="even"><td>QSqlDatabase::userName</td><td><a href="qsqldatabase.html#userName">QSqlDatabase::userName</a>()</td><td><a href="qsqldatabase.html#setUserName">QSqlDatabase::setUserName</a>()</td></tr>
</table></p>
<p>Some properties have been removed from Qt 4, but the associated access functions are provided if <tt>QT3_SUPPORT</tt> is defined to help porting to Qt 4. When converting Qt 3 <tt>.ui</tt> files to Qt 4, <tt>uic</tt> generates calls to the Qt 3 compatibility functions. Note that this only applies to the properties of the <a href="qt3support.html">Qt3Support</a> library, i.e&#x2e; <tt>QT3_SUPPORT</tt> properties of the other libraries must be ported manually when converting Qt 3 .ui files to Qt 4.</p>
<p>The table below lists these properties with the read and write functions that you can use instead. The documentation for the individual functions explains how to replace them with non-compatibility Qt 4 functions.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 property</th><th>Qt 4 read function (<tt>QT3_SUPPORT</tt>)</th><th>Qt 4 write function (<tt>QT3_SUPPORT</tt>)</th></tr></thead>
<tr valign="top" class="odd"><td>QMenuBar::separator</td><td><a href="qmenubar-qt3.html#separator">QMenuBar::separator</a>()</td><td><a href="qmenubar-qt3.html#setSeparator">QMenuBar::setSeparator</a>()</td></tr>
<tr valign="top" class="even"><td>QPushButton::menuButton</td><td><a href="qpushbutton-qt3.html#isMenuButton">QPushButton::isMenuButton</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QTabWidget::margin</td><td><a href="qtabwidget-qt3.html#margin">QTabWidget::margin</a>()</td><td><a href="qtabwidget-qt3.html#setMargin">QTabWidget::setMargin</a>()</td></tr>
<tr valign="top" class="even"><td>QTextEdit::textFormat</td><td><a href="qtextedit-qt3.html#textFormat">QTextEdit::textFormat</a>()</td><td><a href="qtextedit-qt3.html#setTextFormat">QTextEdit::setTextFormat</a>()</td></tr>
<tr valign="top" class="odd"><td>QWidget::backgroundBrush</td><td>QWidget::backgroundBrush()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QWidget::backgroundMode</td><td><a href="qwidget-qt3.html#backgroundMode">QWidget::backgroundMode</a>()</td><td><a href="qwidget-qt3.html#setBackgroundMode">QWidget::setBackgroundMode</a>()</td></tr>
<tr valign="top" class="odd"><td>QWidget::backgroundOrigin</td><td><a href="qwidget-qt3.html#backgroundOrigin">QWidget::backgroundOrigin</a>()</td><td><a href="qwidget-qt3.html#setBackgroundOrigin">QWidget::setBackgroundOrigin</a>()</td></tr>
<tr valign="top" class="even"><td>QWidget::colorGroup</td><td><a href="qwidget-qt3.html#colorGroup">QWidget::colorGroup</a>()</td><td>QWidget::setColorGroup()</td></tr>
<tr valign="top" class="odd"><td>QWidget::customWhatsThis</td><td>QWidget::customWhatsThis()</td><td>QWidget::setCustomWhatsThis()</td></tr>
<tr valign="top" class="even"><td>QWidget::inputMethodEnabled</td><td>QWidget::inputMethodEnabled()</td><td><a href="qwidget-qt3.html#setInputMethodEnabled">QWidget::setInputMethodEnabled</a>()</td></tr>
<tr valign="top" class="odd"><td>QWidget::ownCursor</td><td><a href="qwidget-qt3.html#ownCursor">QWidget::ownCursor</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QWidget::ownFont</td><td><a href="qwidget-qt3.html#ownFont">QWidget::ownFont</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QWidget::ownPalette</td><td><a href="qwidget-qt3.html#ownPalette">QWidget::ownPalette</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QWidget::paletteBackgroundColor</td><td>QWidget::paletteBackgroundColor()</td><td><a href="qwidget-qt3.html#setPaletteBackgroundColor">QWidget::setPaletteBackgroundColor</a>()</td></tr>
<tr valign="top" class="odd"><td>QWidget::paletteBackgroundPixmap</td><td>QWidget::paletteBackgroundPixmap()</td><td><a href="qwidget-qt3.html#setPaletteBackgroundPixmap">QWidget::setPaletteBackgroundPixmap</a>()</td></tr>
<tr valign="top" class="even"><td>QWidget::paletteForegroundColor</td><td>QWidget::paletteForegroundColor()</td><td><a href="qwidget-qt3.html#setPaletteForegroundColor">QWidget::setPaletteForegroundColor</a>()</td></tr>
<tr valign="top" class="odd"><td>QWidget::underMouse</td><td><a href="qwidget.html#underMouse">QWidget::underMouse</a>()</td><td>N/A</td></tr>
</table></p>
<p>The following Qt 3 properties and their access functions are no longer available in Qt 4. In most cases, Qt 4 provides similar functionality.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 property</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QButton::autoRepeat</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QButton::autoResize</td><td>Call <a href="qwidget.html">QWidget</a>:setFixedSize(<a href="qwidget.html#sizeHint-prop">QWidget::sizeHint</a>()) whenever you change the contents.</td></tr>
<tr valign="top" class="odd"><td>QButton::exclusiveToggle</td><td>See <a href="qabstractbutton.html#autoExclusive-prop">QAbstractButton::autoExclusive</a>.</td></tr>
<tr valign="top" class="even"><td>QButton::pixmap</td><td>Use <a href="qabstractbutton.html#icon-prop">QAbstractButton::icon</a> instead.</td></tr>
<tr valign="top" class="odd"><td>QButton::toggleState</td><td>Use <a href="qcheckbox-qt3.html#setState">QCheckBox::setState</a>() and <a href="qcheckbox-qt3.html#state">QCheckBox::state</a>() instead.</td></tr>
<tr valign="top" class="even"><td>QButton::toggleType</td><td>Use <a href="qcheckbox.html#tristate-prop">QCheckBox::setTristate</a>() instead.</td></tr>
<tr valign="top" class="odd"><td>QComboBox::autoResize</td><td>Call <a href="qwidget.html">QWidget</a>:setFixedSize(<a href="qwidget.html#sizeHint-prop">QWidget::sizeHint</a>()) whenever you change the contents.</td></tr>
<tr valign="top" class="even"><td>QFrame::contentsRect</td><td>Use <a href="q3frame.html#contentsRect-prop">Q3Frame::contentsRect</a>() instead.</td></tr>
<tr valign="top" class="odd"><td>QFrame::margin</td><td>Use <a href="qwidget.html#setContentsMargins">QWidget::setContentsMargins</a>() instead.</td></tr>
<tr valign="top" class="even"><td>QTabBar::keyboardFocusTab</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QToolButton::offIconSet</td><td>Use the <a href="qicon.html#State-enum">off component</a> of <a href="qabstractbutton.html#icon-prop">QAbstractButton::icon</a> instead.</td></tr>
<tr valign="top" class="even"><td>QToolButton::onIconSet</td><td>Use the <a href="qicon.html#State-enum">on component</a> of <a href="qabstractbutton.html#icon-prop">QAbstractButton::icon</a> instead.</td></tr>
<tr valign="top" class="odd"><td>QWidget::microFocusHint</td><td>N/A</td></tr>
</table></p>
<a name="explicit-sharing"></a>
<h3>Explicit Sharing</h3>
<p>Qt 4 is the first version of Qt that contains no <a href="http://doc.trolltech.com/3.3/shclass.html">explicitly shared</a> classes. All classes that were explicitly shared in Qt 3 are <i>implicitly</i> shared in Qt 4:</p>
<ul>
<li><a href="qimage.html">QImage</a></li>
<li><a href="qbitarray.html">QBitArray</a></li>
<li><a href="qbytearray.html">QByteArray</a></li>
<li><a href="q3pointarray.html">Q3PointArray</a></li>
</ul>
<p>This means that if you took a copy of an instance of the class (using operator=() or the class's copy constructor), any modification to the copy would affect the original and vice versa. Needless to say, this behavior is rarely desirable.</p>
<p>Fortunately, nearly all Qt 3 applications don't rely on explicit sharing. When porting, you typically only need to remove calls to detach() and/or copy(), which aren't necessary anymore.</p>
<p>If you deliberately rely on explicit sharing in your application, you can use pointers or references to achieve the same result in Qt 4.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> void asciify(QByteArray array)
 {
     for (int i = 0; i &lt; (int)array.size(); ++i) {
         if ((uchar)array[i] &gt;= 128)
             array[i] = '?';
     }
 }</font></pre>
<p>you can rewrite it as</p>
<pre> void asciify(QByteArray &amp;array)
 {
     for (int i = 0; i &lt; array.size(); ++i) {
         if ((uchar)array[i] &gt;= 128)
             array[i] = '?';
     }
 }</pre>
<p>(Notice the <tt>&amp;</tt> in the parameter declaration.)</p>
<a name="painting-and-redrawing-widgets"></a>
<h3>Painting and Redrawing Widgets</h3>
<p>When implementing custom widgets in Qt 3, it was possible to use <a href="qpainter.html">QPainter</a> to draw on a widget outside paint events. This made it possible to integrate Qt applications with third party libraries and tools that impose their own rendering models. For example, a widget might be repainted in a slot using data obtained from an external source.</p>
<p>In Qt 4, it is only possible to paint on a widget from within its <a href="qwidget.html#paintEvent">paintEvent()</a> handler function. This restriction simplifies Qt's interaction with native window systems, improves the performance of applications by reducing the number of redraw operations, and also enables features to be implemented to improve the appearance of widgets, such as a backing store.</p>
<p>Generally, we recommend redesigning applications to perform all painting operations in <a href="qwidget.html#paintEvent">paintEvent()</a> functions, deferring actual painting until the next time this function is called. Applications can post paint events to trigger repaints, and it may be possible to examine your widget's internal state to determine which part of the widget needs to be repainted.</p>
<p>If asynchronous repaints are used extensively by your application, and it is not practical to redesign the rendering model to perform all painting operations from within a widget's <a href="qwidget.html#paintEvent">paintEvent()</a> function, it may be necessary to consider using an intermediate painting step. In this approach, one or more images can be updated asynchronously and painted on the widget in the paint event. To avoid excessive buffering, it may be worthwhile disabling the backing store by setting the widget's <a href="qt.html#WidgetAttribute-enum">Qt::WA_PaintOnScreen</a> widget attribute.</p>
<p>On certain platforms, the <a href="qt.html#WidgetAttribute-enum">Qt::WA_PaintOutsidePaintEvent</a> widget attribute can be set to allow a widget to be painted from outside paint events.</p>
<p><b>Note:</b> Setting widget attributes to disable key features of Qt's widget rendering model may also cause other features to be disabled.</p>
<a name="qaccel"></a>
<h3>QAccel</h3>
<p>The <tt>QAccel</tt> class has been renamed <a href="q3accel.html">Q3Accel</a> and moved to the <a href="qt3support.html">Qt3Support</a> module. In new applications, you have three options:</p>
<ol type="1">
<li>You can use <a href="qaction.html">QAction</a> and set a key sequence using <a href="qaction.html#shortcut-prop">QAction::setShortcut</a>().</li>
<li>You can use <a href="qshortcut.html">QShortcut</a>, a class that provides similar functionality to <a href="q3accel.html">Q3Accel</a>.</li>
<li>You can use <a href="qwidget.html#grabShortcut">QWidget::grabShortcut</a>() and process &quot;shortcut&quot; events by reimplementing <a href="qwidget.html#event">QWidget::event</a>().</li>
</ol>
<p>The <a href="q3accel.html">Q3Accel</a> class also supports multiple accelerators using the same object, by calling <a href="q3accel.html#insertItem">Q3Accel::insertItem</a>() multiple times. In Qt 4, the solution is to create multiple <a href="qshortcut.html">QShortcut</a> objects.</p>
<a name="qaccessibleinterface"></a>
<h3>QAccessibleInterface</h3>
<p>The <a href="qaccessibleinterface.html">QAccessibleInterface</a> class has undergone some API changes in Qt 4, to make it more consistent with the rest of the Qt API.</p>
<p>If you have classes that inherit <a href="qaccessibleinterface.html">QAccessibleInterface</a> or one of its subclasses (<a href="qaccessibleobject.html">QAccessibleObject</a>, <a href="qaccessiblewidget.html">QAccessibleWidget</a>, etc.), you must port them the new <a href="qaccessibleinterface.html">QAccessibleInterface</a> API.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qaccessibleinterface.html">QAccessibleInterface</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qaccessibletitlebar"></a>
<h3>QAccessibleTitleBar</h3>
<p>The <tt>QAccessibleTitleBar</tt> has been renamed Q3AccessibleTitleBar and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<a name="qaction-section"></a><a name="qaction"></a>
<h3>QAction</h3>
<p>The <a href="qaction.html">QAction</a> class has been redesigned in Qt 4 to integrate better with the rest of the menu system. It unifies the old <tt>QMenuItem</tt> class and the old <tt>QAction</tt> class into one class, avoiding unnecessary data duplication and the need to learn two different APIs.</p>
<p>The old <tt>QAction</tt> and <tt>QActionGroup</tt> classes have been renamed <a href="q3action.html">Q3Action</a> and <a href="q3actiongroup.html">Q3ActionGroup</a> and moved to <a href="qt3support.html">Qt3Support</a>. In addition, the new <a href="qaction.html">QAction</a> class has compatibility functions to ease transition to Qt 4. Note that when using <a href="q3toolbar.html">Q3ToolBar</a> and <a href="q3popupmenu.html">Q3PopupMenu</a>, their actions must be <a href="q3action.html">Q3Action</a>s.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qaction.html">QAction</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qactiongroup"></a>
<h3>QActionGroup</h3>
<p>The <a href="qaction.html">QAction</a> class has been completely redesigned in Qt 4 to integrate better with the rest of the menu system. See the <a href="#qaction-section">section on QAction</a> for details.</p>
<a name="qapplication"></a>
<h3>QApplication</h3>
<p>The <a href="qapplication.html">QApplication</a> class has been split into two classes: <a href="qcoreapplication.html">QCoreApplication</a> and <a href="qapplication.html">QApplication</a>. The new <a href="qapplication.html">QApplication</a> class inherits <a href="qcoreapplication.html">QCoreApplication</a> and adds GUI-related functionality. In practice, this has no consequences for existing Qt applications.</p>
<p>In addition, the following API changes were made:</p>
<ol type="1">
<li><a href="qapplication.html#allWidgets">QApplication::allWidgets</a>() and <a href="qapplication.html#topLevelWidgets">QApplication::topLevelWidgets</a>() used to return a pointer to a <a href="qwidget.html#QWidgetList-typedef">QWidgetList</a>. Now they return a <a href="qwidget.html#QWidgetList-typedef">QWidgetList</a>.<p>Also, <a href="qwidget.html#QWidgetList-typedef">QWidgetList</a> has changed from being a typedef for QPtrList&lt;<a href="qwidget.html">QWidget</a>&gt; to being a typedef for <a href="qlist.html">QList</a>&lt;<a href="qwidget.html">QWidget</a> *&gt;. See the <a href="#qwidgetlist-section">section on QWidgetList</a> below for details.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040">     QWidgetList *list = QApplication::topLevelWidgets();
     QWidgetListIt it(*list);
     QWidget *widget;
     while ((widget = it.current())) {
         if (widget-&gt;inherits(&quot;MainWindow&quot;))
             ((MainWindow *)widget)-&gt;updateRecentFileItems();
         ++it;
     }
     delete list;</font></pre>
<p>you can rewrite it as</p>
<pre>     QWidgetList list = QApplication::topLevelWidgets();
     for (int i = 0; i &lt; list.size(); ++i) {
         if (MainWindow *mainWin = qobject_cast&lt;MainWindow *&gt;(list.at(i)))
             mainWin-&gt;updateRecentFileItems();
     }</pre>
</li>
<li><a href="qapplication-qt3.html#setMainWidget">QApplication::setMainWidget</a>() is no longer used. When all an application's windows are closed, the application will exit normally.</li>
</ol>
<a name="qaquastyle"></a>
<h3>QAquaStyle</h3>
<p>The <tt>QAquaStyle</tt> class first appeared in Qt 3.0, when the Qt/Mac port was first released. It emulated Apple's &quot;Aqua&quot; theme. In Qt 3.1, <a href="#qaquastyle">QAquaStyle</a> was obsoleted by QMacStyle, which uses Appearance Manager to perform its drawing.</p>
<p>The <tt>QAquaStyle</tt> class is no longer provided in Qt 4. Use QMacStyle instead.</p>
<a name="qasciidict-section"></a><a name="qasciicache-t"></a>
<h3>QAsciiCache&lt;T&gt;</h3>
<p><tt>QAsciiCache&lt;T&gt;</tt> has been renamed <a href="q3asciicache.html">Q3AsciiCache</a>&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by <a href="qcache.html">QCache</a>&lt;<a href="qbytearray.html">QByteArray</a>, T&gt;.</p>
<p>For details, read the <a href="#qcache-section">section on QCache&lt;T&gt;</a>, mentally substituting <a href="qbytearray.html">QByteArray</a> for <a href="qstring.html">QString</a>.</p>
<a name="qasciidict-t"></a>
<h3>QAsciiDict&lt;T&gt;</h3>
<p>QAsciiDict&lt;T&gt; and QAsciiDictIterator&lt;T&gt; have been renamed <a href="q3asciidict.html">Q3AsciiDict</a>&lt;T&gt; and <a href="q3asciidictiterator.html">Q3AsciiDictIterator</a>&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. They have been replaced by the more modern <a href="qhash.html">QHash</a>&lt;Key, T&gt; and <a href="qmultihash.html">QMultiHash</a>&lt;Key, T&gt; classes and their associated iterator classes.</p>
<p>When porting old code that uses <a href="q3asciidict.html">Q3AsciiDict</a>&lt;T&gt; to Qt 4, there are four classes that you can use:</p>
<ul>
<li><a href="qmultihash.html">QMultiHash</a>&lt;<a href="qbytearray.html">QByteArray</a>, T *&gt;</li>
<li><a href="qmultihash.html">QMultiHash</a>&lt;<a href="qbytearray.html">QByteArray</a>, T&gt;</li>
<li><a href="qhash.html">QHash</a>&lt;<a href="qbytearray.html">QByteArray</a>, T *&gt;</li>
<li><a href="qhash.html">QHash</a>&lt;<a href="qbytearray.html">QByteArray</a>, T&gt;</li>
</ul>
<p>For details, read the <a href="#qdict-section">section on QDict&lt;T&gt;</a>, mentally substituting <a href="qbytearray.html">QByteArray</a> for <a href="qstring.html">QString</a>.</p>
<a name="qasyncio"></a>
<h3>QAsyncIO</h3>
<p>The <tt>QAsyncIO</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0&#x2e;</p>
<p>If you use this mechanism in your application, please submit a report to the <a href="http://www.trolltech.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.</p>
<a name="qbackinsertiterator"></a>
<h3>QBackInsertIterator</h3>
<p>The undocumented <tt>QBackInsertIterator</tt> class has been removed from the Qt library. If you need it in your application, feel free to copy the source code from the Qt 3 <tt>&lt;qtl.h&gt;</tt> header file.</p>
<a name="qbitarray"></a>
<h3>QBitArray</h3>
<p>In Qt 3, <a href="qbitarray.html">QBitArray</a> inherited from <a href="qbytearray.html">QByteArray</a>. In Qt 4, <a href="qbitarray.html">QBitArray</a> is a totally independent class. This makes very little difference to the user, except that the new <a href="qbitarray.html">QBitArray</a> doesn't provide any of <a href="qbytearray.html">QByteArray</a>'s byte-based API anymore. These calls will result in a compile-time error, except calls to <a href="qbitarray.html#truncate">QBitArray::truncate</a>(), whose parameter was a number of <i>bytes</i> in Qt 3 and a number of bits in Qt 4.</p>
<p><a href="qbitarray.html">QBitArray</a> was an explicitly shared class in Qt 3. See <a href="explicitly-shared.html#explicit-sharing">Explicit Sharing</a> for more information.</p>
<p>The <tt>QBitVal</tt> class has been renamed QBitRef.</p>
<a name="qbutton"></a>
<h3>QButton</h3>
<p>The <tt>QButton</tt> class has been replaced by <a href="qabstractbutton.html">QAbstractButton</a> in Qt 4. Classes like <a href="qpushbutton.html">QPushButton</a> and <a href="qradiobutton.html">QRadioButton</a> inherit from <a href="qabstractbutton.html">QAbstractButton</a>. As a help when porting older Qt applications, the <a href="qt3support.html">Qt3Support</a> library contains a <a href="q3button.html">Q3Button</a> class implemented in terms of the new <a href="qabstractbutton.html">QAbstractButton</a>.</p>
<p>If you used the <tt>QButton</tt> class as a base class for your own button type and want to port your code to the newer <a href="qabstractbutton.html">QAbstractButton</a>, you need to be aware that <a href="qabstractbutton.html">QAbstractButton</a> has no equivalent for the Q3Button::drawButton(<a href="qpainter.html">QPainter</a> *) virtual function. The solution is to reimplement <a href="qwidget.html#paintEvent">QWidget::paintEvent</a>() in your <a href="qabstractbutton.html">QAbstractButton</a> subclass as follows:</p>
<pre>         void MyButton::paintEvent(QPaintEvent *)
         {
             QPainter painter(this);
             drawButton(&amp;painter);
         }</pre>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th><a href="q3button.html">Q3Button</a> function</th><th><a href="qabstractbutton.html">QAbstractButton</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>Q3Button::autoResize()</td><td>Call <a href="qwidget.html">QWidget</a>:setFixedSize(<a href="qwidget.html#sizeHint-prop">QWidget::sizeHint</a>()) whenever you change the contents.</td></tr>
<tr valign="top" class="even"><td>Q3Button::isExclusiveToggle()</td><td>Use <a href="qabstractbutton.html#group">QAbstractButton::group</a>() or <a href="qabstractbutton.html#autoExclusive-prop">QAbstractButton::autoExclusive</a>() instead.</td></tr>
<tr valign="top" class="odd"><td><a href="qabstractbutton-qt3.html#pixmap">Q3Button::pixmap</a>() const</td><td><a href="qabstractbutton.html#icon-prop">QAbstractButton::icon</a>()</td></tr>
<tr valign="top" class="even"><td>Q3Button::setAutoResize()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3Button::setPixmap(const <a href="qpixmap.html">QPixmap</a> &amp;)</td><td>QAbstractButton::setIcon(const <a href="qicon.html">QIcon</a> &amp;)</td></tr>
<tr valign="top" class="even"><td>Q3Button::setState(ToggleState)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>Q3Button::setToggleType(ToggleType)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>Q3Button::state()</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>Q3Button::stateChanged(int)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>Q3Button::toggleType()</td><td>See remark below</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li>In Qt 3, <tt>QButton</tt> had a &quot;toggle type&quot;, which could be QButton::SingleShot, QButton::Toggle, or QButton::Tristate. The new <a href="qabstractbutton.html">QAbstractButton</a> class doesn't support &quot;tristate&quot; directly; this feature is implemented in <a href="qcheckbox.html">QCheckBox</a> instead. The two other &quot;toggle types&quot; (<tt>QButton::SingleShot</tt> and <tt>QButton::Toggle</tt>) are replaced by a <a href="qabstractbutton.html#checkable-prop">QAbstractButton::checkable</a> property.</li>
<li>In Qt 3, <a href="#qbutton">QButton</a> had a &quot;toggle state&quot;, which could be <tt>QButton::Off</tt>, <tt>QButton::NoChange</tt>, or <tt>QButton::On</tt>. In Qt 4, this mechanism has been moved to <a href="qcheckbox.html">QCheckBox</a>.</li>
</ol>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <tt>QButton</tt> virtual member functions in Qt 3 that aren't virtual in Qt 4.</p>
<p>See <a href="#properties">Properties</a> for a list of <tt>QButton</tt> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qbuttongroup"></a>
<h3>QButtonGroup</h3>
<p>The <tt>QButtonGroup</tt> class has been completely redesigned in Qt 4. For compatibility, the old <tt>QButtonGroup</tt> class has been renamed <a href="q3buttongroup.html">Q3ButtonGroup</a> and has been moved to <a href="qt3support.html">Qt3Support</a>. Likewise, the <tt>QHButtonGroup</tt> and <tt>QVButtonGroup</tt> convenience subclasses have been renamed <tt>Q3HButtonGroup</tt> and <tt>Q3VButtonGroup</tt> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>The old <tt>QButtonGroup</tt>, as well as <a href="q3buttongroup.html">Q3ButtonGroup</a>, can be used in two ways:</p>
<ol type="1">
<li>The button group is the parent widget of a number of buttons, i.e&#x2e; the button group is the parent argument in the button constructor. The buttons are assigned identifiers 0, 1, 2, etc., in the order they are created. A <a href="q3buttongroup.html">Q3ButtonGroup</a> can display a frame and a title because it inherits <a href="q3groupbox.html">Q3GroupBox</a>.</li>
<li>The button group is an invisible widget and the contained buttons have some other parent widget. In this usage, each button must be manually inserted, using <a href="q3buttongroup.html#insert">Q3ButtonGroup::insert</a>(), into the button group and given an ID number.</li>
</ol>
<p>Unlike <a href="q3buttongroup.html">Q3ButtonGroup</a>, the new <a href="qbuttongroup.html">QButtonGroup</a> doesn't inherit <a href="qwidget.html">QWidget</a>. It is very similar to a &quot;hidden <a href="q3buttongroup.html">Q3ButtonGroup</a>&quot;.</p>
<p>If you use a <a href="q3buttongroup.html">Q3ButtonGroup</a>, <a href="q3hbuttongroup.html">Q3HButtonGroup</a>, or <a href="q3vbuttongroup.html">Q3VButtonGroup</a> as a widget and want to port to Qt 4, you can replace it with <a href="qgroupbox.html">QGroupBox</a>. In Qt 4, radio buttons with the same parent are automatically part of an exclusive group, so you normally don't need to do anything else. See also the <a href="#qgroupbox-section">section on QGroupBox</a> below.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qbuttongroup.html">QButtonGroup</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qbytearray-section"></a><a name="qbytearray"></a>
<h3>QByteArray</h3>
<p>In Qt 3, <a href="qbytearray.html">QByteArray</a> was simply a typedef for QMemArray&lt;char&gt;. In Qt 4, <a href="qbytearray.html">QByteArray</a> is a class in its own right, with a higher-level API in the style of <a href="qstring.html">QString</a>.</p>
<p>Here are the main issues to be aware of when porting to Qt 4:</p>
<ol type="1">
<li>The QMemArray(int size) constructor has been replaced with <a href="qbytearray.html">QByteArray</a>(int size, char ch). The second argument specifies which character should be used for initializing the array; pass '\0' if you have no specific needs.<p>For example, if you have code like</p>
<pre><font color="#404040"> QByteArray ba(64);</font></pre>
<p>you can rewrite it as</p>
<pre> QByteArray ba(64, '\0');</pre>
</li>
<li>QMemArray::at() returned a non-const reference, whereas the new <a href="qbytearray.html#at">QByteArray::at</a>() returns a const value. Code like<pre>         ba.at(0) = 'X';</pre>
<p>will no longer compile. Instead, use QByteArray::operator[]:</p>
<pre>         ba[0] = 'X';</pre>
</li>
<li>The QMemArray::contains(char) function has been renamed QByteArray::count(char). In addition, there now exists a QByteArray::contains(char) function that returns a boolean value. Replace old calls to contains() with either count() or contains(), depending on whether you care about the specific number of occurrences of a character in the byte array or only care about whether the array contains that character or not.</li>
<li>The new <a href="qbytearray.html">QByteArray</a> has no assign() function. Calls to QMemArray::assign(const QMemArray &amp;) can be replaced by calls to QByteArray::operator=(). Calls to QMemArray::assign(const T *, uint) have no equivalent in Qt 4; if you use it, the solution is either to use <a href="qbytearray.html#fromRawData">QByteArray::fromRawData</a>() and to call free() yourself to avoid a memory leak, or to use the <a href="qbytearray.html">QByteArray</a>(const char *, int) constructor, which will take a deep copy of the data.</li>
<li>QMemArray::bsearch() and QMemArray::sort() have no equivalent in the new <a href="qbytearray.html">QByteArray</a> class. Use <a href="qtalgorithms.html#qBinaryFind">qBinaryFind</a>() and <a href="qtalgorithms.html#qSort">qSort</a>() if you need that functionality.</li>
</ol>
<p><a href="qbytearray.html">QByteArray</a> was an explicitly shared class in Qt 3. See <a href="explicitly-shared.html#explicit-sharing">Explicit Sharing</a> for more information.</p>
<a name="qcache-section"></a><a name="qcache-t"></a>
<h3>QCache&lt;T&gt;</h3>
<p><a href="qcache.html">QCache</a>&lt;T&gt; has been renamed <a href="q3cache.html">Q3Cache</a>&lt;T&gt; and moved to <a href="qt3support.html">Qt3Support</a>. The new <a href="qcache.html">QCache</a> class has a different API, and takes different template parameters: <a href="qcache.html">QCache</a>&lt;Key, T&gt;.</p>
<p>When porting to Qt 4, <a href="qcache.html">QCache</a>&lt;<a href="qstring.html">QString</a>, T&gt; is the obvious substitute for <a href="q3cache.html">Q3Cache</a>&lt;T&gt;. The following table summarizes the API differences.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th><a href="q3cache.html">Q3Cache</a>&lt;T&gt; function</th><th><a href="qcache.html">QCache</a>&lt;<a href="qstring.html">QString</a>, T&gt; equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>Q3Cache::Q3Cache(int maxCost, int size, bool caseSensitive)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td><a href="q3ptrcollection.html#autoDelete">Q3Cache::autoDelete</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="q3cache.html#count">Q3Cache::count</a>()</td><td><a href="qcache.html#count">QCache::count</a>() or <a href="qcache.html#size">QCache::size</a>() (equivalent)</td></tr>
<tr valign="top" class="even"><td><a href="q3ptrcollection.html#setAutoDelete">Q3Cache::setAutoDelete</a>()</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td><a href="q3cache.html#size">Q3Cache::size</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td><a href="q3cache.html#statistics">Q3Cache::statistics</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3Cache::operator=()</td><td>See remark below</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li><a href="q3cache.html">Q3Cache</a> requires the user to allocate a specific number of buckets by passing a prime number (17 by default) to the constructor. In contrast, the new <a href="qcache.html">QCache</a>'s hash table automatically grows and shrinks as needed, and the constructor doesn't take a prime number.</li>
<li><a href="q3cache.html">Q3Cache</a> supportes case-insensitive lookups by passing false as second argument to the constructor. This feature has no equivalent in <a href="qmultihash.html">QMultiHash</a>. Instead, call <a href="qstring.html#toLower">QString::toLower</a>() before you insert or lookup a key in the hash.</li>
<li>The <a href="q3cache.html#insert">Q3Cache::insert</a>() function returns a <tt>bool</tt> value that indicates whether or not the item actually was inserted in the cache. If the item wasn't inserted, it was the caller's responsibility to delete the item. The new <a href="qcache.html#insert">QCache::insert</a>() function returns <tt>void</tt> and either adds it to the cache or deletes it right away. Old code like<pre>         if (!cache.insert(key, object))
             delete object;</pre>
<p>becomes</p>
<pre>         cache.insert(key, object);</pre>
</li>
<li>The new <a href="qcache.html">QCache</a> class <i>always</i> takes ownership of the items it stores (i.e&#x2e; auto-delete is always on). If you use <a href="q3cache.html">Q3Cache</a> with auto-delete turned off (the rarely useful default), you cannot use <a href="qcache.html">QCache</a> as a direct substitute. One unelegant trick that works well in practice is to use <a href="qcache.html">QCache</a>&lt;<a href="qstring.html">QString</a>, T *&gt; instead of <a href="qcache.html">QCache</a>&lt;<a href="qstring.html">QString</a>, T&gt;. In that case, <a href="qcache.html">QCache</a> owns the pointers, not the objects that the pointers refer to. For example,<pre>             Q3Cache&lt;QWidget&gt; cache;
             cache.insert(widget-&gt;name(), widget);
             ...
             QWidget *foo = cache.take(&quot;foo&quot;);
             if (foo)
                 foo-&gt;show();</pre>
<p>becomes</p>
<pre>             typedef QWidget *QWidgetPtr;
             QCache&lt;QString, QWidgetPtr&gt; cache;
             cache.insert(widget-&gt;name(), new QWidgetPtr(widget));
             ...
             QWidgetPtr *ptr = cache.take(&quot;foo&quot;);
             if (ptr) {
                 QWidget *foo = *ptr;
                 delete ptr;
                 foo-&gt;show();
             }</pre>
<p>An alternative is to stick to using <a href="q3cache.html">Q3Cache</a>.</p>
</li>
</ol>
<p>QCacheIterator&lt;T&gt; has been renamed <a href="q3cacheiterator.html">Q3CacheIterator</a>&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. The new <a href="qcache.html">QCache</a> class doesn't offer any iterator types.</p>
<a name="qcanvas"></a>
<h3>QCanvas</h3>
<p>The canvas module classes have been renamed and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 class name</th><th>Compatibility class in Qt 4</th></tr></thead>
<tr valign="top" class="odd"><td><tt>QCanvas</tt></td><td><a href="q3canvas.html">Q3Canvas</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasEllipse</tt></td><td><a href="q3canvasellipse.html">Q3CanvasEllipse</a></td></tr>
<tr valign="top" class="odd"><td><tt>QCanvasItem</tt></td><td><a href="q3canvasitem.html">Q3CanvasItem</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasItemList</tt></td><td><a href="q3canvasitemlist.html">Q3CanvasItemList</a></td></tr>
<tr valign="top" class="odd"><td><tt>QCanvasLine</tt></td><td><a href="q3canvasline.html">Q3CanvasLine</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasPixmap</tt></td><td><a href="q3canvaspixmap.html">Q3CanvasPixmap</a></td></tr>
<tr valign="top" class="odd"><td><tt>QCanvasPixmapArray</tt></td><td><a href="q3canvaspixmaparray.html">Q3CanvasPixmapArray</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasPolygon</tt></td><td><a href="q3canvaspolygon.html">Q3CanvasPolygon</a></td></tr>
<tr valign="top" class="odd"><td><tt>QCanvasPolygonalItem</tt></td><td><a href="q3canvaspolygonalitem.html">Q3CanvasPolygonalItem</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasRectangle</tt></td><td><a href="q3canvasrectangle.html">Q3CanvasRectangle</a></td></tr>
<tr valign="top" class="odd"><td><tt>QCanvasSpline</tt></td><td><a href="q3canvasspline.html">Q3CanvasSpline</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasSprite</tt></td><td><a href="q3canvassprite.html">Q3CanvasSprite</a></td></tr>
<tr valign="top" class="odd"><td><tt>QCanvasText</tt></td><td><a href="q3canvastext.html">Q3CanvasText</a></td></tr>
<tr valign="top" class="even"><td><tt>QCanvasView</tt></td><td><a href="q3canvasview.html">Q3CanvasView</a></td></tr>
</table></p>
<p><a href="graphicsview.html">The Graphics View Framework</a> replaces <a href="#qcanvas">QCanvas</a>. For more on porting to Graphics View, see <a href="graphicsview-porting.html">Porting to Graphics View</a>.</p>
<a name="qcolor"></a>
<h3>QColor</h3>
<p>In Qt 4, <a href="qcolor.html">QColor</a> is a value type like <a href="qpoint.html">QPoint</a> or <a href="qrect.html">QRect</a>. Graphics system-specific code has been implemented in QColormap.</p>
<p>The <tt>QColor::maxColors()</tt> function has been replaced by <a href="qcolormap.html#size">QColormap::size</a>().</p>
<p>The <tt>QColor::numBitPlanes()</tt> function has been replaced by <a href="qcolormap.html#depth">QColormap::depth</a>().</p>
<p>The <tt>QColor::setNamedColor()</tt> function no longer supports the named color in the same way as Qt 3. Qt 4's <a href="qcolor.html#setNamedColor">setNamedColor()</a> uses the new W3C convention as stated <a href="http://www.w3.org/TR/SVG/types.html#ColorKeywords">here</a>.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th colspan="4">Predefined Qt Colors</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qt.html#GlobalColor-enum">Qt::color0</a></td><td><a href="qt.html#GlobalColor-enum">Qt::color1</a></td><td><a href="qt.html#GlobalColor-enum">Qt::black</a></td><td><a href="qt.html#GlobalColor-enum">Qt::white</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#GlobalColor-enum">Qt::darkGray</a></td><td><a href="qt.html#GlobalColor-enum">Qt::gray</a></td><td><a href="qt.html#GlobalColor-enum">Qt::lightGray</a></td><td><a href="qt.html#GlobalColor-enum">Qt::red</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#GlobalColor-enum">Qt::green</a></td><td><a href="qt.html#GlobalColor-enum">Qt::blue</a></td><td><a href="qt.html#GlobalColor-enum">Qt::cyan</a></td><td><a href="qt.html#GlobalColor-enum">Qt::magenta</a></td></tr>
<tr valign="top" class="even"><td><a href="qt.html#GlobalColor-enum">Qt::yellow</a></td><td><a href="qt.html#GlobalColor-enum">Qt::darkRed</a></td><td><a href="qt.html#GlobalColor-enum">Qt::darkGreen</a></td><td><a href="qt.html#GlobalColor-enum">Qt::darkBlue</a></td></tr>
<tr valign="top" class="odd"><td><a href="qt.html#GlobalColor-enum">Qt::darkCyan</a></td><td><a href="qt.html#GlobalColor-enum">Qt::darkMagenta</a></td><td><a href="qt.html#GlobalColor-enum">Qt::darkYellow</a></td><td><a href="qt.html#GlobalColor-enum">Qt::transparent</a></td></tr>
</table></p>
<p>The predefined colors listed in the table above were static <a href="qcolor.html">QColor</a> objects in Qt 3. In Qt 4, they are enum values of type <a href="qt.html#GlobalColor-enum">Qt::GlobalColor</a>. Thanks to the implicit <a href="qcolor.html">QColor</a>(<a href="qt.html#GlobalColor-enum">Qt::GlobalColor</a>) constructor, the enum values are automatically converted to <a href="qcolor.html">QColor</a>s in most contexts. Occasionally, you might need a cast.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> QColor lightCyan = Qt::cyan.light(180);</font></pre>
<p>you can rewrite it as</p>
<pre> QColor lightCyan = QColor(Qt::cyan).light(180);</pre>
<a name="qcolorgroup"></a>
<h3>QColorGroup</h3>
<p>In Qt 3, a <a href="qpalette.html">QPalette</a> consisted of three <a href="qcolorgroup.html">QColorGroup</a> objects. In Qt 4, the (rarely used) <a href="qcolorgroup.html">QColorGroup</a> abstraction has been eliminated. For source compatibility, a <a href="qcolorgroup.html">QColorGroup</a> class is available when <tt>QT3_SUPPORT</tt> is defined.</p>
<p>The new <a href="qpalette.html">QPalette</a> still works in terms of color groups, specified through enum values (<a href="qpalette.html#ColorGroup-enum">QPalette::Active</a>, <a href="qpalette.html#ColorGroup-enum">QPalette::Disabled</a>, and <a href="qpalette.html#ColorGroup-enum">QPalette::Inactive</a>). It also has the concept of a <i>current</i> color group, which you can set using <a href="qpalette.html#setCurrentColorGroup">QPalette::setCurrentColorGroup</a>().</p>
<p>The <a href="qpalette.html">QPalette</a> object returned by <a href="qwidget.html#palette-prop">QWidget::palette</a>() returns a <a href="qpalette.html">QPalette</a> initialized with the correct current color group for the widget. This means that if you had code like</p>
<pre><font color="#404040"> painter.setBrush(colorGroup().brush(QColorGroup::Text));</font></pre>
<p>you can simply replace colorGroup() with palette():</p>
<pre>         painter.setBrush(palette().brush(QPalette::Text));</pre>
<a name="qcolordrag"></a>
<h3>QColorDrag</h3>
<p>The <tt>QColorDrag</tt> class has been renamed <a href="q3colordrag.html">Q3ColorDrag</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="qmimedata.html">QMimeData</a> instead and call QMimeData::setColor() to set the color.</p>
<a name="qcombobox"></a>
<h3>QComboBox</h3>
<p>In Qt 3, the list box used to display the contents of a <tt>QComboBox</tt> widget could be accessed by using the <tt>listBox()</tt> function. In Qt 4, the standard list box is provided by a <a href="qlistview.html">QListView</a> widget, and can be accessed with the <a href="qcombobox.html#view">view()</a> function.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qcombobox.html">QComboBox</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qcstring"></a>
<h3>QCString</h3>
<p>In Qt 3, <a href="#qcstring">QCString</a> inherited from <a href="qbytearray.html">QByteArray</a>. The main drawback of this approach is that the user had the responsibility of ensuring that the string is '\0'-terminated. Another important issue was that conversions between <tt>QCString</tt> and <a href="qbytearray.html">QByteArray</a> often gave confusing results. (See the <a href="http://doc.trolltech.com/qq/qq05-achtung.html#qcstringisastringofchars">Achtung! Binary and Character Data</a> article in <i>Qt Quarterly</i> for an overview of the pitfalls.)</p>
<p>Qt 4 solves that problem by merging the <a href="qbytearray.html">QByteArray</a> and <tt>QCString</tt> classes into one class called <a href="qbytearray.html">QByteArray</a>. Most functions that were in <tt>QCString</tt> previously have been moved to <a href="qbytearray.html">QByteArray</a>. The '\0' issue is handled by having <a href="qbytearray.html">QByteArray</a> allocate one extra byte that it always sets to '\0'. For example:</p>
<pre>         QByteArray ba(&quot;Hello&quot;);
         ba.size();             // returns 5 (the '\0' is not counted)
         ba.length();           // returns 5
         ba.data()[5];          // returns '\0'</pre>
<p>The <a href="qt3support.html">Qt3Support</a> library contains a class called <a href="q3cstring.html">Q3CString</a> that inherits from the new <a href="qbytearray.html">QByteArray</a> class and that extends it to provide an API that is as close to the old <tt>QCString</tt> class as possible. Note that the following functions aren't provided by <a href="q3cstring.html">Q3CString</a>:</p>
<ul>
<li>QCString::find(const <a href="qregexp.html">QRegExp</a> &amp;, int)</li>
<li>QCString::findRev(const <a href="qregexp.html">QRegExp</a> &amp;, int)</li>
<li>QCString::contains(const <a href="qregexp.html">QRegExp</a> &amp;)</li>
<li>QCString::replace(const <a href="qregexp.html">QRegExp</a> &amp;, const char *)</li>
</ul>
<p>The following functions have lost their last parameter, which specified whether the search was case sensitive or not:</p>
<ul>
<li>QByteArray::find(char, int)</li>
<li>QByteArray::find(const char *, int)</li>
<li>QByteArray::findRev(char, int)</li>
<li>QByteArray::findRev(const char *, int)</li>
<li>QByteArray::contains(char)</li>
<li>QByteArray::contains(const char *)</li>
</ul>
<p>In both cases, the solution is to convert the <tt>QCString</tt> to a <a href="qstring.html">QString</a> and use the corresponding <a href="qstring.html">QString</a> functions instead.</p>
<p>Also be aware that <tt>QCString::size()</tt> (inherited from <a href="qbytearray.html">QByteArray</a>) used to return the size of the character data <i>including</i> the '\0'-terminator, whereas the new <a href="qbytearray.html#size">QByteArray::size</a>() is just a synonym for <a href="qbytearray.html#length">QByteArray::length</a>(). This brings <a href="qbytearray.html">QByteArray</a> in line with <a href="qstring.html">QString</a>.</p>
<p>When porting to Qt 4, occurrences of <tt>QCString</tt> should be replaced with <a href="qbytearray.html">QByteArray</a> or <a href="qstring.html">QString</a>. The following table summarizes the API differences between the <a href="q3cstring.html">Q3CString</a> class and the Qt 4 <a href="qbytearray.html">QByteArray</a> and <a href="qstring.html">QString</a> classes:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th><a href="q3cstring.html">Q3CString</a> function</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>Q3CString::Q3CString(const char *, uint)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>Q3CString::Q3CString(int)</td><td>QByteArray::QByteArray(int, char)</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#leftJustify">Q3CString::leftJustify</a>()</td><td><a href="qstring.html#leftJustified">QString::leftJustified</a>()</td></tr>
<tr valign="top" class="even"><td><a href="qbytearray.html#length">Q3CString::length</a>()</td><td><a href="qbytearray.html#length">QByteArray::length</a>() or <a href="qbytearray.html#size">QByteArray::size</a>() (equivalent)</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#lower">Q3CString::lower</a>()</td><td><a href="qbytearray.html#toLower">QByteArray::toLower</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#rightJustify">Q3CString::rightJustify</a>()</td><td><a href="qstring.html#rightJustified">QString::rightJustified</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#setExpand">Q3CString::setExpand</a>()</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#simplifyWhiteSpace">Q3CString::simplifyWhiteSpace</a>()</td><td><a href="qbytearray.html#simplified">QByteArray::simplified</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#sprintf">Q3CString::sprintf</a>()</td><td><a href="qstring.html#sprintf">QString::sprintf</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#stripWhiteSpace">Q3CString::stripWhiteSpace</a>()</td><td><a href="qbytearray.html#trimmed">QByteArray::trimmed</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#toDouble">Q3CString::toDouble</a>()</td><td><a href="qstring.html#toDouble">QString::toDouble</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#toFloat">Q3CString::toFloat</a>()</td><td><a href="qstring.html#toFloat">QString::toFloat</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#toInt">Q3CString::toInt</a>()</td><td><a href="qstring.html#toInt">QString::toInt</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#toLong">Q3CString::toLong</a>()</td><td><a href="qstring.html#toLong">QString::toLong</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#toShort">Q3CString::toShort</a>()</td><td><a href="qstring.html#toShort">QString::toShort</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#toUInt">Q3CString::toUInt</a>()</td><td><a href="qstring.html#toUInt">QString::toUInt</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#toULong">Q3CString::toULong</a>()</td><td><a href="qstring.html#toULong">QString::toULong</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3cstring.html#toUShort">Q3CString::toUShort</a>()</td><td><a href="qstring.html#toUShort">QString::toUShort</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3cstring.html#upper">Q3CString::upper</a>()</td><td><a href="qbytearray.html#toUpper">QByteArray::toUpper</a>()</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li><a href="q3cstring.html">Q3CString</a>(const char *str, uint max) constructs a string of length strlen(str) or <i>max</i> - 1, whichever is shorter. <a href="qbytearray.html">QByteArray</a>(const char *data, int size) constructs a byte array containing exactly <i>size</i> bytes.<p>For example, if you have code like</p>
<pre><font color="#404040">     QCString str1(&quot;Hello&quot;, 4);           // &quot;Hel&quot;
     QCString str2(&quot;Hello world!&quot;, n);</font></pre>
<p>you can rewrite it as</p>
<pre>     QByteArray str1(&quot;Hello&quot;, 3);
     QByteArray str2(&quot;Hello world!&quot;);
     str2.truncate(n - 1);</pre>
</li>
<li>Q3CString::setExpand(uint index, char ch) has no equivalent in Qt 4.<p>For example, if you have code like</p>
<pre><font color="#404040">     QCString str(&quot;Hello world&quot;);
     str.setExpand(16, '\n');            // &quot;Hello world     \n&quot;</font></pre>
<p>you can rewrite it as</p>
<pre>     QByteArray str(&quot;Hello world&quot;);
     while (str.size() &lt; 16)
         str += ' ';
     str += '\n';</pre>
</li>
</ol>
<p>Since the old <tt>QCString</tt> class inherited from <a href="qbytearray.html">QByteArray</a>, everything that is said in the <a href="#qbytearray-section">QByteArray section</a> applies for <tt>QCString</tt> as well.</p>
<a name="qcustomevent"></a>
<h3>QCustomEvent</h3>
<p>In Qt 3, developers could create a custom event by constructing a new <a href="qcustomevent.html">QCustomEvent</a>, and send relevant data to other components in the application by passing a void pointer, either on construction or using the setData() function. Objects could receive custom events by reimplementing the <a href="qobject.html#customEvent">customEvent()</a> function, and access the stored data using the event's data() function.</p>
<p>In Qt 4, custom events are created by subclassing <a href="qevent.html">QEvent</a>. Event-specific data can be stored in a way that is appropriate for your application. Custom events are still delivered to each object's <a href="qobject.html#customEvent">customEvent()</a> handler function, but as <a href="qevent.html">QEvent</a> objects rather than as deprecated <a href="qcustomevent.html">QCustomEvent</a> objects.</p>
<a name="qdatabrowser"></a>
<h3>QDataBrowser</h3>
<p>The <tt>QDataBrowser</tt> class has been renamed <a href="q3databrowser.html">Q3DataBrowser</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4.2, you should use the <a href="qdatawidgetmapper.html">QDataWidgetMapper</a> class to create data-aware forms.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qdatapump"></a>
<h3>QDataPump</h3>
<p>The <tt>QDataPump</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0&#x2e;</p>
<p>If you use this mechanism in your application, please submit a report to the <a href="http://www.trolltech.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.</p>
<a name="qdatasink"></a>
<h3>QDataSink</h3>
<p>The <tt>QDataSink</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0&#x2e;</p>
<p>If you use this mechanism in your application, please submit a report to the <a href="http://www.trolltech.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.</p>
<a name="qdatasource"></a>
<h3>QDataSource</h3>
<p>The <tt>QDataSource</tt> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0&#x2e; If you use this mechanism in your application, please submit a report to the <a href="http://www.trolltech.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.</p>
<a name="qdatatable"></a>
<h3>QDataTable</h3>
<p>The <tt>QDataTable</tt> class has been renamed <a href="q3datatable.html">Q3DataTable</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4.2, you should use the <a href="qdatawidgetmapper.html">QDataWidgetMapper</a> class to create data-aware forms.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qdataview"></a>
<h3>QDataView</h3>
<p>The <tt>QDataView</tt> class has been renamed <a href="q3dataview.html">Q3DataView</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4.2, you should use the <a href="qdatawidgetmapper.html">QDataWidgetMapper</a> class to create data-aware forms.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qdateedit"></a>
<h3>QDateEdit</h3>
<p>The <a href="qdateedit.html">QDateEdit</a> class in Qt 4 is a convenience class based on <a href="qdatetimeedit.html">QDateTimeEdit</a>. The old class has been renamed <a href="q3dateedit.html">Q3DateEdit</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <tt>QDateEdit</tt> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qdatetimeeditbase"></a>
<h3>QDateTimeEditBase</h3>
<p>The <tt>QDateTimeEditBase</tt> class has been renamed <a href="q3datetimeeditbase.html">Q3DateTimeEditBase</a> and moved to <a href="qt3support.html">Qt3Support</a>. Use <a href="qdatetimeedit.html">QDateTimeEdit</a> or <a href="qabstractspinbox.html">QAbstractSpinBox</a> instead.</p>
<a name="qdatetimeedit"></a>
<h3>QDateTimeEdit</h3>
<p>The old <tt>QDateTimeEdit</tt> class has been renamed <a href="q3datetimeeditbase.html">Q3DateTimeEditBase</a> and moved to <a href="qt3support.html">Qt3Support</a>. The new <a href="qdatetimeedit.html">QDateTimeEdit</a> in Qt 4 has been rewritten from scratch to provide a more flexible and powerful API.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qdatetimeedit.html">QDateTimeEdit</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qdeepcopy-t"></a>
<h3>QDeepCopy&lt;T&gt;</h3>
<p>The <tt>QDeepCopy&lt;T&gt;</tt> class in Qt 3 provided a means of ensuring that implicitly shared and explicitly shared classes referenced unique data. This was necessary because the reference counting in Qt's container classes was done in a thread-unsafe manner.</p>
<p>With Qt 4, <tt>QDeepCopy&lt;T&gt;</tt> has been renamed <a href="q3deepcopy.html">Q3DeepCopy</a>&lt;T&gt; and moved to the <a href="qt3support.html">Qt3Support</a> library. Removing it from existing code is straightforward.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> QString str1 = &quot;I am a string&quot;;
 QDeepCopy&lt;QString&gt; str2 = str1;
 QString str3 = QDeepCopy&lt;QString&gt;(str2);</font></pre>
<p>you can rewrite it as</p>
<pre> QString str1 = &quot;I am a string&quot;;
 QString str2 = str1;
 QString str3 = str2;</pre>
<a name="qdial"></a>
<h3>QDial</h3>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qdial.html">QDial</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<p>See <a href="#properties">Properties</a> for a list of <a href="qdial.html">QDial</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qdict-section"></a><a name="qdict-t"></a>
<h3>QDict&lt;T&gt;</h3>
<p><tt>QDict&lt;T&gt;</tt> has been renamed <a href="q3dict.html">Q3Dict</a>&lt;T&gt; and moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by the more modern <a href="qhash.html">QHash</a>&lt;Key, T&gt; and <a href="qmultihash.html">QMultiHash</a>&lt;Key, T&gt; classes.</p>
<p>When porting old code that uses QDict&lt;T&gt; to Qt 4, there are four classes that you can use:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 4 class</th><th>When to use it</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qmultihash.html">QMultiHash</a>&lt;<a href="qstring.html">QString</a>, T *&gt;</td><td>Since <a href="q3dict.html">Q3Dict</a>&lt;T&gt; is pointer-based and allows duplicate keys, this is usually the most straightforward conversion.</td></tr>
<tr valign="top" class="even"><td><a href="qmultihash.html">QMultiHash</a>&lt;<a href="qstring.html">QString</a>, T&gt;</td><td>If type <tt>T</tt> is an <a href="containers.html#assignable-data-types">assignable data type</a>, you can use <tt>T</tt> as the value type rather than <tt>T *</tt>. This often leads to nicer code.</td></tr>
<tr valign="top" class="odd"><td><a href="qhash.html">QHash</a>&lt;<a href="qstring.html">QString</a>, T *&gt;</td><td rowspan="2">If you don't use duplicate keys, you can use <a href="qhash.html">QHash</a> instead of <a href="qmultihash.html">QMultiHash</a>. <a href="qmultihash.html">QMultiHash</a> inherits from <a href="qhash.html">QHash</a>.</td></tr>
<tr valign="top" class="even"><td><a href="qhash.html">QHash</a>&lt;<a href="qstring.html">QString</a>, T&gt;</td></tr>
</table></p>
<p>The APIs of <a href="q3dict.html">Q3Dict</a>&lt;T&gt; and <a href="qmultihash.html">QMultiHash</a>&lt;<a href="qstring.html">QString</a>, T *&gt; are quite similar. The main issue is that <a href="q3dict.html">Q3Dict</a> supports auto-delete whereas <a href="qmultihash.html">QMultiHash</a> doesn't.</p>
<p>The following table summarizes the API differences between the two classes:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th><a href="q3dict.html">Q3Dict</a> function</th><th><a href="qmultihash.html">QMultiHash</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>Q3Dict::Q3Dict(int size, bool caseSensitive)</td><td>See remarks below</td></tr>
<tr valign="top" class="even"><td><a href="q3ptrcollection.html#autoDelete">Q3Dict::autoDelete</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="q3dict.html#count">Q3Dict::count</a>()</td><td><a href="qmultihash.html#count">QMultiHash::count</a>() or <a href="qhash.html#size">QMultiHash::size</a>() (equivalent)</td></tr>
<tr valign="top" class="even"><td>Q3Dict::find(const <a href="qstring.html">QString</a> &amp;)</td><td>QMultiHash::value(const <a href="qstring.html">QString</a> &amp;)</td></tr>
<tr valign="top" class="odd"><td>Q3Dict::remove(const <a href="qstring.html">QString</a> &amp;)</td><td>QMultiHash::take(const <a href="qstring.html">QString</a> &amp;)</td></tr>
<tr valign="top" class="even"><td>Q3Dict::resize(uint)</td><td>QMultiHash::reserve(int)</td></tr>
<tr valign="top" class="odd"><td><a href="q3ptrcollection.html#setAutoDelete">Q3Dict::setAutoDelete</a>()</td><td>See discussion below</td></tr>
<tr valign="top" class="even"><td><a href="q3dict.html#size">Q3Dict::size</a>()</td><td><a href="qhash.html#capacity">QMultiHash::capacity</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3dict.html#statistics">Q3Dict::statistics</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>Q3Dict::operator[](const <a href="qstring.html">QString</a> &amp;)</td><td>See remark below</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li><a href="q3dict.html">Q3Dict</a> requires the user to allocate a specific number of buckets by passing a prime number (17 by default) to the constructor and/or calling <a href="q3dict.html#resize">Q3Dict::resize</a>() later on. In contrast, <a href="qmultihash.html">QMultiHash</a>'s hash table automatically grows and shrinks as needed, and the constructor doesn't take a prime number.</li>
<li><a href="q3dict.html">Q3Dict</a> supportes case-insensitive lookups by passing false as second argument to the constructor. This feature has no equivalent in <a href="qmultihash.html">QMultiHash</a>. Instead, call <a href="qstring.html#toLower">QString::toLower</a>() before you insert or lookup a key in the hash.</li>
<li><a href="q3dict.html#size">Q3Dict::size</a>() and <a href="qhash.html#size">QMultiHash::size</a>() have different semantics. The former returns the number of buckets in the container, whereas the latter returns the number of <i>items</i> in the container.</li>
<li>If there are multiple items with the same key, <a href="q3dict.html#remove">Q3Dict::remove</a>() removes only the most recently inserted item, whereas <a href="qmultihash.html#remove">QMultiHash::remove</a>() removes all items that share a particular key. To remove only the most recently inserted item, call <a href="qhash.html#take">QMultiHash::take</a>().</li>
<li><a href="q3dict.html">Q3Dict</a> has only one [] operator (Q3Dict::operator[]()), providing const access to an item's value. <a href="qmultihash.html">QMultiHash</a> also has a non-const overload that can be used on the left side of the assignment operator. If you use the [] operator on a non-const <a href="qhash.html">QHash</a> with an unexisting item, <a href="qhash.html">QHash</a> will created an element and initialize it to be a null pointer. For that reason, Q3Dict::operator[] should be converted to <a href="qhash.html#value">QMultiHash::value</a>(), not QMultiHash::operator[].</li>
</ol>
<p>If you use <a href="q3dict.html">Q3Dict</a>'s auto-delete feature (by calling Q3Dict::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you use <a href="qmultihash.html">QMultiHash</a>&lt;<a href="qstring.html">QString</a>, T&gt; instead of <a href="qmultihash.html">QMultiHash</a>&lt;<a href="qstring.html">QString</a>, T *&gt; (i.e&#x2e; store values directly instead of pointers to values). Here, we'll see when to call <tt>delete</tt>.</p>
<p>The following table summarizes the idioms that you need to watch out for if you want to call <tt>delete</tt> yourself.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th><a href="q3dict.html">Q3Dict</a> idiom</th><th><a href="qmultihash.html">QMultiHash</a> idiom</th></tr></thead>
<tr valign="top" class="odd"><td><pre>         dict.replace(key, value);</pre>
</td><td><pre>         delete hash.take(key);
         hash.insert(key, value);</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         dict.remove(key, value);</pre>
</td><td><pre>         delete hash.take(key);</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         dict.clear();</pre>
<p>(also called from <a href="q3dict.html">Q3Dict</a>'s destructor)</p>
</td><td><pre>         while (!hash.isEmpty()) {
             T *value = *hash.begin();
             hash.erase(hash.begin());
             delete value;
         }</pre>
<p>In 99% of cases, the following idiom also works:</p>
<pre>         qDeleteAll(hash);
         hash.clear();</pre>
<p>However, it may lead to crashes if <tt>hash</tt> is referenced from the value type's destructor, because <tt>hash</tt> contains dangling pointers until clear() is called.</p>
</td></tr>
</table></p>
<p>Be aware that <a href="q3dict.html">Q3Dict</a>'s destructor automatically calls clear(). If you have a <a href="q3dict.html">Q3Dict</a> data member in a custom class and use the auto-delete feature, you will need to call <tt>delete</tt> on all the items in the container from your class destructor to avoid a memory leak.</p>
<p>Finally, <tt>QDictIterator&lt;T&gt;</tt> (renamed <a href="q3dictiterator.html">Q3DictIterator</a>&lt;T&gt;) must also be ported. There are no fewer than four iterator classes that can be used as a replacement: <a href="qhash-const-iterator.html">QHash::const_iterator</a>, <a href="qhash-iterator.html">QHash::iterator</a>, <a href="qhashiterator.html">QHashIterator</a>, and <a href="qmutablehashiterator.html">QMutableHashIterator</a>. The most straightforward class to use when porting is <a href="qhashiterator.html">QHashIterator</a>&lt;<a href="qstring.html">QString</a>, T *&gt;. The following table summarizes the API differences:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th><a href="q3dictiterator.html">Q3DictIterator</a> functions</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td><a href="q3dictiterator.html#count">Q3DictIterator::count</a>()</td><td><a href="qhash.html#count">QHash::count</a>() or <a href="qhash.html#size">QHash::size</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3dictiterator.html#current">Q3DictIterator::current</a>()</td><td><a href="qhashiterator.html#value">QHashIterator::value</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3dictiterator.html#currentKey">Q3DictIterator::currentKey</a>()</td><td><a href="qhashiterator.html#key">QHashIterator::key</a>()</td></tr>
<tr valign="top" class="even"><td><a href="q3dictiterator.html#isEmpty">Q3DictIterator::isEmpty</a>()</td><td><a href="qhash.html#isEmpty">QHash::isEmpty</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3dictiterator.html#toFirst">Q3DictIterator::toFirst</a>()</td><td><a href="qhashiterator.html#toFront">QHashIterator::toFront</a>()</td></tr>
<tr valign="top" class="even"><td>Q3DictIterator::operator()()</td><td><a href="qhashiterator.html#value">QHashIterator::value</a>()</td></tr>
<tr valign="top" class="odd"><td>Q3DictIterator::operator*()</td><td><a href="qhashiterator.html#value">QHashIterator::value</a>()</td></tr>
<tr valign="top" class="even"><td>Q3DictIterator::operator++()</td><td>See remark below</td></tr>
</table></p>
<p>Be aware that <a href="qhashiterator.html">QHashIterator</a> has a different way of iterating than <a href="q3dictiterator.html">Q3DictIterator</a>. A typical loop with <a href="q3dictiterator.html">Q3DictIterator</a> looks like this:</p>
<pre>         Q3DictIterator&lt;QWidget&gt; i(dict);
         while (i.current() != 0) {
             do_something(i.currentKey(), i.current());
             ++i;
         }</pre>
<p>Here's the equivalent <a href="qhashiterator.html">QHashIterator</a> loop:</p>
<pre>         QHashIterator&lt;QString, QWidget *&gt; i(hash);
         while (i.hasNext()) {
             i.next();                   // must come first
             do_something(i.key(), i.value());
         }</pre>
<p>See <a href="containers.html#java-style-iterators">Java-style iterators</a> for details.</p>
<a name="qdir"></a>
<h3>QDir</h3>
<p>The following functions used to have a boolean <tt>acceptAbsPath</tt> parameter that defaulted to true:</p>
<ul>
<li><a href="qdir.html#filePath">QDir::filePath</a>()</li>
<li><a href="qdir-qt3.html#absFilePath">QDir::absFilePath</a>()</li>
<li><a href="qdir.html#cd">QDir::cd</a>()</li>
<li><a href="qdir.html#mkdir">QDir::mkdir</a>()</li>
<li><a href="qdir.html#rmdir">QDir::rmdir</a>()</li>
<li><a href="qdir.html#remove">QDir::remove</a>()</li>
<li><a href="qdir.html#rename">QDir::rename</a>()</li>
<li><a href="qdir.html#exists">QDir::exists</a>()</li>
</ul>
<p>In Qt 3, if <tt>acceptAbsPath</tt> is true, a file name starting with '/' is be returned without change; if <tt>acceptAbsPath</tt> is false, an absolute path is prepended to the file name. For example:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Current directory</th><th>File name</th><th><tt>acceptAbsPath</tt></th><th>File path</th></tr></thead>
<tr valign="top" class="odd"><td rowspan="2">/home/tsmith</td><td rowspan="2">index.html</td><td>true</td><td>/home/tsmith/index.html</td></tr>
<tr valign="top" class="even"><td>false</td><td>/home/tsmith/index.html</td></tr>
<tr valign="top" class="odd"><td rowspan="2">/home/tsmith</td><td rowspan="2">/index.html</td><td>true</td><td>/index.html</td></tr>
<tr valign="top" class="even"><td>false</td><td>/home/tsmith/index.html</td></tr>
</table></p>
<p>In Qt 4, this parameter is no longer available. If you use it in your code, you can check that <a href="qdir.html#isRelativePath">QDir::isRelativePath</a>() returns false instead.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> QDir dir(&quot;/home/tsmith&quot;);
 QString path = dir.filePath(fileName, false);</font></pre>
<p>you can rewrite it as</p>
<pre> QDir dir(&quot;/home/tsmith&quot;);
 QString path;
 if (dir.isRelativePath(fileName))
     path = dir.filePath(fileName);
 else
     path = fileName;</pre>
<p>QDir::encodedEntryList() has been removed.</p>
<p>fileInfoList(), entryInfoList(), and drives() now return a <a href="qlist.html">QList</a>&lt;<a href="qfileinfo.html">QFileInfo</a>&gt; and not a QPtrList&lt;<a href="qfileinfo.html">QFileInfo</a>&gt; *. Code using these methods will not work with the <a href="qt3support.html">Qt3Support</a> library and must be adapted instead.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qdir.html">QDir</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<p><a href="qdir.html#match">QDir::match</a>() now always matches case insensitively.</p>
<p><a href="qdir-qt3.html#homeDirPath">QDir::homeDirPath</a>() has been removed. Use <a href="qdir.html#home">QDir::home</a>() instead, and extract the path separately.</p>
<a name="qdns"></a>
<h3>QDns</h3>
<p>Qt 3 used its own implementation of the DNS protocol and provided a low-level <tt>QDns</tt> class. Qt 4's <a href="qhostinfo.html">QHostInfo</a> class uses the system's <tt>gethostbyname()</tt> function from a thread instead.</p>
<p>The old <tt>QDns</tt> class has been renamed <a href="q3dns.html">Q3Dns</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. The new <a href="qhostinfo.html">QHostInfo</a> class has a radically different API: It consists mainly of two static functions, one of which is blocking (<a href="qhostinfo.html#fromName">QHostInfo::fromName</a>()), the other non-blocking (<a href="qhostinfo.html#lookupHost">QHostInfo::lookupHost</a>()). See the <a href="qhostinfo.html">QHostInfo</a> class documentation for details.</p>
<a name="qdockarea"></a>
<h3>QDockArea</h3>
<p>The <tt>QDockArea</tt> class has been renamed <a href="q3dockarea.html">Q3DockArea</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, <a href="qmainwindow.html">QMainWindow</a> handles the dock and toolbar areas itself. See the <a href="qmainwindow.html">QMainWindow</a> documentation for details.</p>
<a name="qdockwindow"></a>
<h3>QDockWindow</h3>
<p>The old <tt>QDockWindow</tt> class has been renamed <a href="q3dockwindow.html">Q3DockWindow</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, there is a new <a href="qdockwidget.html">QDockWidget</a> class with a different API. See the class documentation for details.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qdockwidget.html">QDockWidget</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<p><b>Note:</b> <a href="q3dockwindow.html">Q3DockWindow</a>'s <a href="q3dockwindow.html#horizontallyStretchable-prop">horizontallyStretchable</a> property can be achieved in <a href="qdockwidget.html">QDockWidget</a> with <a href="qwidget.html#size-hints-and-size-policies">size policies</a>.</p>
<a name="qdragobject"></a>
<h3>QDragObject</h3>
<p>The <tt>QDragObject</tt> class has been renamed <a href="q3dragobject.html">Q3DragObject</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it has been replaced by the <a href="qmimedata.html">QMimeData</a> class. See the class documentation for details.</p>
<p>Note that the <a href="q3dragobject.html#DragMode-enum">Q3DragObject::DragCopyOrMove</a> drag and drop mode is interpreted differently to Qt 3's QDragObject::DragCopyOrMove mode. In Qt 3, a move operation was performed by default, and the user had to hold down the <b>Ctrl</b> key to perform a copy operation. In Qt 4, a copy operation is performed by default; the user has to hold down the <b>Shift</b> key to perform a move operation.</p>
<p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.</p>
<a name="qdropsite"></a>
<h3>QDropSite</h3>
<p>The <tt>QDropSite</tt> class has been renamed <a href="q3dropsite.html">Q3DropSite</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>The <a href="#qdropsite">QDropSite</a> class has been obsolete ever since Qt 2.0&#x2e; The only thing it does is call QWidget::setAcceptDrops(true).</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> class MyWidget : public QWidget, public QDropSite
 {
 public:
     MyWidget(const QWidget *parent)
         : QWidget(parent), QDropSite(this)
     {
     }
     ..&#x2e;
 }</font></pre>
<p>you can rewrite it as</p>
<pre> class MyWidget : public QWidget
 {
 public:
     MyWidget(const QWidget *parent)
         : QWidget(parent)
     {
         setAcceptDrops(true);
     }
     ...
 }</pre>
<p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.</p>
<a name="qeditorfactory"></a>
<h3>QEditorFactory</h3>
<p>The <tt>QEditorFactory</tt> class has been renamed <a href="q3editorfactory.html">Q3EditorFactory</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qeventloop"></a>
<h3>QEventLoop</h3>
<p>In Qt 3, <tt>QEventLoop</tt> combined the Qt event loop and the event dispatching. In Qt 4, these tasks are now assigned to two distinct classes: <a href="qeventloop.html">QEventLoop</a> and <a href="qabstracteventdispatcher.html">QAbstractEventDispatcher</a>.</p>
<p>If you subclassed <a href="qeventloop.html">QEventLoop</a> to integrate with another library's event loop, you must subclass <a href="qabstracteventdispatcher.html">QAbstractEventDispatcher</a> instead. See the class documentation for details.</p>
<a name="qfiledialog"></a>
<h3>QFileDialog</h3>
<p>The <a href="qfiledialog.html">QFileDialog</a> class in Qt 4 has been totally rewritten. It provides most of the functionality of the old <tt>QFileDialog</tt> class, but with a different API. Some functionality, such as the ability to preview files, is expected to be added in a later Qt 4 release.</p>
<p>The old <tt>QFileDialog</tt>, <tt>QFileIconProvider</tt>, and <tt>QFilePreview</tt> classes has been renamed <a href="q3filedialog.html">Q3FileDialog</a>, <a href="q3fileiconprovider.html">Q3FileIconProvider</a>, and <a href="q3filepreview.html">Q3FilePreview</a> and have been moved to <a href="qt3support.html">Qt3Support</a>. You can use them if you need some functionality not provided yet by the new <a href="qfiledialog.html">QFileDialog</a> class.</p>
<p>The following table lists which functions have been renamed or removed in Qt 4.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Old function</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>Q3FileDialog::addFilter(const <a href="qstring.html">QString</a> &amp;)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::addLeftWidget(<a href="qwidget.html">QWidget</a> *)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::addRightWidget(<a href="qwidget.html">QWidget</a> *)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::addToolButton(<a href="qabstractbutton.html">QAbstractButton</a> *, bool separator)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::addWidgets(<a href="qlabel.html">QLabel</a> *, <a href="qwidget.html">QWidget</a> *, <a href="qpushbutton.html">QPushButton</a> *)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td><a href="q3filedialog.html#dir">Q3FileDialog::dir</a>()</td><td><a href="qfiledialog.html#directory">QFileDialog::directory</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="q3filedialog.html#dirPath-prop">Q3FileDialog::dirPath</a>()</td><td><a href="qfiledialog.html#directory">QFileDialog::directory</a>().path()</td></tr>
<tr valign="top" class="even"><td><a href="q3filedialog.html#iconProvider">Q3FileDialog::iconProvider</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="q3filedialog.html#contentsPreview-prop">Q3FileDialog::isContentsPreviewEnabled</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td><a href="q3filedialog.html#infoPreview-prop">Q3FileDialog::isInfoPreviewEnabled</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="q3filedialog.html#previewMode-prop">Q3FileDialog::previewMode</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td><a href="q3filedialog.html#rereadDir">Q3FileDialog::rereadDir</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="q3filedialog.html#resortDir">Q3FileDialog::resortDir</a>()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::selectAll(bool)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setContentsPreview(<a href="qwidget.html">QWidget</a> *, <a href="q3filepreview.html">Q3FilePreview</a> *)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::setContentsPreviewEnabled(bool)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setDir(const <a href="qstring.html">QString</a> &amp;)</td><td>QFileDialog::setDirectory(const <a href="qstring.html">QString</a> &amp;)</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::setFilters(const char **)</td><td>Q3FileDialog::setFilters(const <a href="qstringlist.html">QStringList</a> &amp;)</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setIconProvider(<a href="q3fileiconprovider.html">Q3FileIconProvider</a> *)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::setInfoPreview(<a href="qwidget.html">QWidget</a> *, <a href="q3filepreview.html">Q3FilePreview</a> *)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setInfoPreviewEnabled(bool)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::setPreviewMode(PreviewMode)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setSelectedFilter(const <a href="qstring.html">QString</a> &amp;)</td><td>QFileDialog::selectFilter(const <a href="qstring.html">QString</a> &amp;)</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::setSelectedFilter(int)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setSelection(const <a href="qstring.html">QString</a> &amp;)</td><td>QFileDialog::selectFile(const <a href="qstring.html">QString</a> &amp;)</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::setShowHiddenFiles(bool)</td><td>showHidden()</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::setUrl(const <a href="#qurloperator">QUrlOperator</a> &amp;)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td><a href="q3filedialog.html#showHiddenFiles-prop">Q3FileDialog::showHiddenFiles</a>()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="q3filedialog.html#url">Q3FileDialog::url</a>()</td><td>QUrl::fromLocalFile(<a href="qfiledialog.html#directory">QFileDialog::directory</a>())</td></tr>
<thead><tr valign="top" class="qt-style"><th>Old signals</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="even"><td>Q3FileDialog::fileHighlighted(const <a href="qstring.html">QString</a> &amp;)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::fileSelected(const <a href="qstring.html">QString</a> &amp;)</td><td>QFileDialog::filesSelected(const <a href="qstringlist.html">QStringList</a> &amp;)</td></tr>
<tr valign="top" class="even"><td>Q3FileDialog::dirEntered(const <a href="qstring.html">QString</a> &amp;)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>Q3FileDialog::filterSelected(const <a href="qstring.html">QString</a> &amp;)</td><td>N/A</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li>The Q3FileDialog::addFilter(const <a href="qstring.html">QString</a> &amp;) function has no direct equivalent in the new <a href="qfiledialog.html">QFileDialog</a>. Use <a href="qfiledialog-qt3.html#setFilters">QFileDialog::setFilters</a>() instead.<p>For example, if you have code like</p>
<pre><font color="#404040">     fileDialog-&gt;addFilter(tr(&quot;JPEG files (*.jpg *.jpeg)&quot;));</font></pre>
<p>you can rewrite it as</p>
<pre>     QStringList filters = fileDialog-&gt;filters();
     filters &lt;&lt; tr(&quot;JPEG files (*.jpg *.jpeg)&quot;);
     fileDialog-&gt;setFilters(filters);</pre>
</li>
<li>The Q3FileDialog::setSelectedFilter(int) overload has no direct equivalent in the new <a href="qfiledialog.html">QFileDialog</a>. Use QFileDialog::selectFilter(const <a href="qstring.html">QString</a> &amp;) instead.<p>For example, if you have code like</p>
<pre><font color="#404040">     fileDialog-&gt;setSelectedFilter(3);</font></pre>
<p>you can rewrite it as</p>
<pre>     fileDialog-&gt;selectFilter(fileDialog-&gt;filters().at(3));</pre>
</li>
</ol>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qfiledialog.html">QFileDialog</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qfocusdata"></a>
<h3>QFocusData</h3>
<p>The <a href="#qfocusdata">QFocusData</a> class is not available in Qt 4. Some of its functionality is available via the <a href="qwidget.html#nextInFocusChain">QWidget::nextInFocusChain</a>() and <a href="qwidget.html#focusNextPrevChild">QWidget::focusNextPrevChild</a>() functions.</p>
<a name="qfocusevent"></a>
<h3>QFocusEvent</h3>
<p>The setReason() function is no longer present in Qt 4. It is necessary to define the reason when constructing a focus event.</p>
<a name="qfont"></a>
<h3>QFont</h3>
<p><tt>QFont::Script</tt> has been moved to <a href="qfontdatabase.html#WritingSystem-enum">QFontDatabase::WritingSystem</a>.</p>
<a name="qframe"></a>
<h3>QFrame</h3>
<p>The <a href="qframe.html">QFrame</a> class has been made more lightweight in Qt 4, by reducing the number of properties and virtual functions. The reduction in the number of virtual functions is significant because <a href="qframe.html">QFrame</a> is the base class of many Qt classes.</p>
<p>Here's an overview of the changes:</p>
<ul>
<li><a href="qframe.html">QFrame</a> no longer has a <tt>margin</tt> property (which wasn't honored by Qt's layout managers anyway).</li>
<li><a href="qframe.html">QFrame</a> no longer has a frameChanged() function, reimplement <a href="qwidget.html#resizeEvent">QFrame::resizeEvent</a>() instead.</li>
<li><a href="qframe.html">QFrame</a> used to have drawFrame(<a href="qpainter.html">QPainter</a> *) and drawContents(<a href="qpainter.html">QPainter</a> *) virtual functions. These are now gone. In Qt 4, the frame is drawn by the <a href="qwidget.html#paintEvent">QFrame::paintEvent</a>() function. If you want to change the way <a href="qframe.html">QFrame</a> paints itself, reimplement this function. To draw the contents of the frame, reimplement <a href="qframe.html">QFrame</a>:paintEvent() and call the base class implementation of the function before you use the <a href="qwidget.html#contentsRect">contentsRect()</a> function inherited from <a href="qwidget.html">QWidget</a>, to retrieve the rectangle to paint on.</li>
</ul>
<p>To help with porting, the <a href="qt3support.html">Qt3Support</a> library contains a <a href="q3frame.html">Q3Frame</a> class that inherits <a href="qframe.html">QFrame</a> and provides a similar API to the old <a href="qframe.html">QFrame</a> class. If you derived from <a href="qframe.html">QFrame</a> in your application, you might want to use <a href="q3frame.html">Q3Frame</a> as a base class as a first step in the porting process, and later move on to the new <a href="qframe.html">QFrame</a> class.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qframe.html">QFrame</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qftp"></a>
<h3>QFtp</h3>
<p><a href="qftp.html">QFtp</a> no longer inherits from <a href="#qnetworkprotocol">QNetworkProtocol</a>. See the <a href="#qnetworkprotocol-section">section on QNetworkProtocol</a> for details.</p>
<p>The old <tt>QFtp</tt> class has been renamed <a href="q3ftp.html">Q3Ftp</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<a name="qglayoutiterator-section"></a><a name="qglayoutiterator"></a>
<h3>QGLayoutIterator</h3>
<p>The <a href="#qglayoutiterator">QGLayoutIterator</a> class no longer exists in Qt 4. This makes only a difference if you implemented custom layout managers (i.e&#x2e;, <a href="qlayout.html">QLayout</a> subclasses).</p>
<p>The new approach is much simpler: It consists in reimplementing <a href="qlayout.html#itemAt">QLayout::itemAt</a>() and <a href="qlayout.html#takeAt">QLayout::takeAt</a>(). These functions operate on indexes, eliminating the need for a layout iterator class.</p>
<a name="qgrid"></a>
<h3>QGrid</h3>
<p>The <tt>QGrid</tt> class is now only available as <a href="q3grid.html">Q3Grid</a> in Qt 4. You can achieve the same result as <tt>QGrid</tt> by creating a <a href="qwidget.html">QWidget</a> with a grid layout:</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> QGrid *grid = new QGrid(2, Qt::Horizontal);
 QPushButton *child1 = new QPushButton(grid);
 QPushButton *child2 = new QPushButton(grid);
 QPushButton *child3 = new QPushButton(grid);
 QPushButton *child4 = new QPushButton(grid);</font></pre>
<p>you can rewrite it as</p>
<pre> QWidget *grid = new QWidget;
 QPushButton *child1 = new QPushButton(grid);
 QPushButton *child2 = new QPushButton(grid);
 QPushButton *child3 = new QPushButton(grid);
 QPushButton *child4 = new QPushButton(grid);

 QVBoxLayout *layout = new QVBoxLayout;
 layout-&gt;addWidget(child1, 0, 0);
 layout-&gt;addWidget(child2, 0, 1);
 layout-&gt;addWidget(child3, 1, 0);
 layout-&gt;addWidget(child4, 1, 1);
 grid-&gt;setLayout(layout);</pre>
<a name="qgridlayout"></a>
<h3>QGridLayout</h3>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qgridlayout.html">QGridLayout</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qgridview"></a>
<h3>QGridView</h3>
<p>The <tt>QGridView</tt> class has been renamed <a href="q3gridview.html">Q3GridView</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, we recommend that you use <a href="qtableview.html">QTableView</a> or <a href="qabstractitemview.html">QAbstractItemView</a> for presenting tabular data.</p>
<p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.</p>
<a name="qgroupbox-section"></a><a name="qgroupbox"></a>
<h3>QGroupBox</h3>
<p>The <a href="qgroupbox.html">QGroupBox</a> class has been redesigned in Qt 4. Many of the features of the old <tt>QGroupBox</tt> class can be obtained by using the <a href="q3groupbox.html">Q3GroupBox</a> class from the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>The new <a href="qgroupbox.html">QGroupBox</a> is more lightweight. It doesn't attempt to duplicate functionality already provided by <a href="qgridlayout.html">QGridLayout</a>, and it does not inherit from <a href="qframe.html">QFrame</a>. As a result, the following members have been removed:</p>
<ul>
<li><a href="q3groupbox.html#columns-prop">Q3GroupBox::setColumns</a>(), <a href="q3groupbox.html#columns-prop">Q3GroupBox::columns</a>()</li>
<li><a href="q3groupbox.html#orientation-prop">Q3GroupBox::setOrientation</a>(), <a href="q3groupbox.html#orientation-prop">Q3GroupBox::orientation</a>()</li>
<li><a href="q3groupbox.html#setInsideMargin">Q3GroupBox::setInsideMargin</a>(), <a href="q3groupbox.html#insideMargin">Q3GroupBox::insideMargin</a>()</li>
<li><a href="q3groupbox.html#addSpace">Q3GroupBox::addSpace</a>()</li>
</ul>
<p>Naturally, the <tt>columns</tt> and <tt>orientation</tt> properties have also been removed.</p>
<p>If you rely on some of the missing functionality in your application, you can use <a href="q3groupbox.html">Q3GroupBox</a> instead of <a href="qgroupbox.html">QGroupBox</a> as a help to porting.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qgroupbox.html">QGroupBox</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qhbox"></a>
<h3>QHBox</h3>
<p>The <tt>QHBox</tt> class is now only available as <a href="q3hbox.html">Q3HBox</a> in Qt 4. You can achieve the same result as <tt>QHBox</tt> by creating a <a href="qwidget.html">QWidget</a> with an horizontal layout:</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> QHBox *hbox = new QHBox;
 QPushButton *child1 = new QPushButton(hbox);
 QPushButton *child2 = new QPushButton(hbox);</font></pre>
<p>you can rewrite it as</p>
<pre> QWidget *hbox = new QWidget;
 QPushButton *child1 = new QPushButton;
 QPushButton *child2 = new QPushButton;

 QHBoxLayout *layout = new QHBoxLayout;
 layout-&gt;addWidget(child1);
 layout-&gt;addWidget(child2);
 hbox-&gt;setLayout(layout);</pre>
<p>Note that child widgets are not automatically placed into the widget's layout; you will need to manually add each widget to the <a href="qhboxlayout.html">QHBoxLayout</a>.</p>
<a name="qheader"></a>
<h3>QHeader</h3>
<p>The <tt>QHeader</tt> class has been renamed <a href="q3header.html">Q3Header</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it is replaced by the <a href="qheaderview.html">QHeaderView</a> class.</p>
<p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.</p>
<a name="qhgroupbox"></a>
<h3>QHGroupBox</h3>
<p>The <tt>QHGroupBox</tt> class has been renamed <a href="q3hgroupbox.html">Q3HGroupBox</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. Qt 4 does not provide a specific replacement class for <tt>QHGroupBox</tt> since <a href="qgroupbox.html">QGroupBox</a> is designed to be a generic container widget. As a result, you need to supply your own layout for any child widgets.</p>
<p>See <a href="#qgroupbox">#QGroupBox</a> for more information about porting code that uses group boxes.</p>
<a name="qhttp"></a>
<h3>QHttp</h3>
<p><a href="qhttp.html">QHttp</a> no longer inherits from <a href="#qnetworkprotocol">QNetworkProtocol</a>. See the See the <a href="#qnetworkprotocol-section">section on QNetworkProtocol</a> for details.</p>
<p>The old <tt>QHttp</tt>, <tt>QHttpHeader</tt>, <tt>QHttpRequestHeader</tt>, and <tt>QHttpResponseHeader</tt> classes have been renamed <a href="q3http.html">Q3Http</a>, <a href="q3httpheader.html">Q3HttpHeader</a>, <a href="q3httprequestheader.html">Q3HttpRequestHeader</a>, and <a href="q3httpresponseheader.html">Q3HttpResponseHeader</a> and have been moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<a name="qiconfactory"></a>
<h3>QIconFactory</h3>
<p>The <a href="#qiconfactory">QIconFactory</a> class is no longer part of Qt. It has been replaced by the <a href="qiconengine.html">QIconEngine</a> class.</p>
<a name="qiconset"></a>
<h3>QIconSet</h3>
<p>The QIconSet class is no longer part of Qt. It has been replaced by the <a href="qicon.html">QIcon</a> class.</p>
<a name="qiconview"></a>
<h3>QIconView</h3>
<p>The <tt>QIconView</tt>, <tt>QIconViewItem</tt>, <tt>QIconDrag</tt>, and <tt>QIconDragItem</tt> classes has been renamed <a href="q3iconview.html">Q3IconView</a>, <a href="q3iconviewitem.html">Q3IconViewItem</a>, <a href="q3icondrag.html">Q3IconDrag</a>, and <a href="q3icondragitem.html">Q3IconDragItem</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use <a href="qlistwidget.html">QListWidget</a> or its base class <a href="qlistview.html">QListView</a> instead, and call QListView::setViewMode(<a href="qlistview.html#ViewMode-enum">QListView::IconMode</a>) to obtain an &quot;icon view&quot; look.</p>
<p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.</p>
<a name="qimagedrag"></a>
<h3>QImageDrag</h3>
<p>The <tt>QImageDrag</tt> class has been renamed <a href="q3imagedrag.html">Q3ImageDrag</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="qmimedata.html">QMimeData</a> instead and call QMimeData::setImage() to set the image.</p>
<p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.</p>
<a name="qimageio"></a>
<h3>QImageIO</h3>
<p>The <tt>QImageIO</tt> class has been split into two classes: <a href="qimagereader.html">QImageReader</a> and <a href="qimagewriter.html">QImageWriter</a>. The table below shows the correspondance between the two APIs:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 function</th><th>Qt 4 equivalents</th></tr></thead>
<tr valign="top" class="odd"><td>QImageIO::description()</td><td><a href="qimagewriter-obsolete.html#description">QImageWriter::description</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::fileName()</td><td><a href="qimagereader.html#fileName">QImageReader::fileName</a>() and <a href="qimagewriter.html#fileName">QImageWriter::fileName</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::format()</td><td><a href="qimagereader.html#format">QImageReader::format</a>() and <a href="qimagewriter.html#format">QImageWriter::format</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::gamma()</td><td><a href="qimagewriter.html#gamma">QImageWriter::gamma</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::image()</td><td>Return value of <a href="qimagereader.html#read">QImageReader::read</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::inputFormats()</td><td><a href="qimagereader.html#supportedImageFormats">QImageReader::supportedImageFormats</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::ioDevice()</td><td><a href="qimagereader.html#device">QImageReader::device</a>() and <a href="qimagewriter.html#device">QImageWriter::device</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::outputFormats()</td><td><a href="qimagewriter.html#supportedImageFormats">QImageWriter::supportedImageFormats</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::parameters()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QImageIO::quality()</td><td><a href="qimagewriter.html#quality">QImageWriter::quality</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::read()</td><td><a href="qimagereader.html#read">QImageReader::read</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::setDescription()</td><td><a href="qimagewriter-obsolete.html#setDescription">QImageWriter::setDescription</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::setFileName()</td><td><a href="qimagereader.html#setFileName">QImageReader::setFileName</a>() and <a href="qimagewriter.html#setFileName">QImageWriter::setFileName</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::setFormat()</td><td><a href="qimagereader.html#setFormat">QImageReader::setFormat</a>() and <a href="qimagewriter.html#setFormat">QImageWriter::setFormat</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::setGamma()</td><td><a href="qimagewriter.html#setGamma">QImageWriter::setGamma</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::setIODevice()</td><td><a href="qimagereader.html#setDevice">QImageReader::setDevice</a>() and <a href="qimagewriter.html#setDevice">QImageWriter::setDevice</a>()</td></tr>
<tr valign="top" class="odd"><td>QImageIO::setImage()</td><td>Argument to <a href="qimagewriter.html#write">QImageWriter::write</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::setParameters()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QImageIO::setQuality()</td><td><a href="qimagewriter.html#setQuality">QImageWriter::setQuality</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::setStatus()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QImageIO::status()</td><td><a href="qimagereader.html#error">QImageReader::error</a>() and <a href="qimagewriter.html#error">QImageWriter::error</a>()</td></tr>
<tr valign="top" class="even"><td>QImageIO::write()</td><td><a href="qimagewriter.html#write">QImageWriter::write</a>()</td></tr>
</table></p>
<a name="qintcache-t"></a>
<h3>QIntCache&lt;T&gt;</h3>
<p>QIntCache&lt;T&gt; has been moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by <a href="qcache.html">QCache</a>&lt;int, T&gt;.</p>
<p>For details, read the <a href="#qcache-section">section on QCache&lt;T&gt;</a>, mentally substituting <tt>int</tt> for <a href="qstring.html">QString</a>.</p>
<a name="qintdict-t"></a>
<h3>QIntDict&lt;T&gt;</h3>
<p>QIntDict&lt;T&gt; and QIntDictIterator&lt;T&gt; have been moved to <a href="qt3support.html">Qt3Support</a>. They have been replaced by the more modern <a href="qhash.html">QHash</a>&lt;Key, T&gt; and <a href="qmultihash.html">QMultiHash</a>&lt;Key, T&gt; classes and their associated iterator classes.</p>
<p>When porting old code that uses QIntDict&lt;T&gt; to Qt 4, there are four classes that you can use:</p>
<ul>
<li><a href="qmultihash.html">QMultiHash</a>&lt;int, T *&gt;</li>
<li><a href="qmultihash.html">QMultiHash</a>&lt;int, T&gt;</li>
<li><a href="qhash.html">QHash</a>&lt;int, T *&gt;</li>
<li><a href="qhash.html">QHash</a>&lt;int, T&gt;</li>
</ul>
<p>For details, read the <a href="#qdict-section">section on QDict&lt;T&gt;</a>, mentally substituting <tt>int</tt> for <a href="qstring.html">QString</a>.</p>
<a name="qiodevice-section"></a><a name="qiodevice"></a>
<h3>QIODevice</h3>
<p>The <a href="qiodevice.html">QIODevice</a> class's API has been simplified to make it easier to subclass and to make it work more smoothly with asynchronous devices such as <a href="qtcpsocket.html">QTcpSocket</a> and <a href="qprocess.html">QProcess</a>.</p>
<p>The following virtual functions have changed name or signature:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 function</th><th>Comment</th></tr></thead>
<tr valign="top" class="odd"><td><a href="qiodevice-qt3.html#at">QIODevice::at</a>() const</td><td>Renamed <a href="qiodevice.html#pos">QIODevice::pos</a>().</td></tr>
<tr valign="top" class="even"><td>QIODevice::at(Offset)</td><td>Renamed <a href="qiodevice.html#seek">QIODevice::seek</a>().</td></tr>
<tr valign="top" class="odd"><td>QIODevice::open(int)</td><td>The parameter is now of type <a href="qiodevice.html#OpenModeFlag-enum">QIODevice::OpenMode</a>.</td></tr>
<tr valign="top" class="even"><td>QIODevice::readBlock(char *, <a href="qtglobal-qt3.html#Q_ULONG-typedef">Q_ULONG</a>)</td><td>QIODevice::read(char *, qint64)</td></tr>
<tr valign="top" class="odd"><td>QIODevice::writeBlock(const char *, <a href="qtglobal-qt3.html#Q_ULONG-typedef">Q_ULONG</a>)</td><td>QIODevice::write(const char *, qint64)</td></tr>
</table></p>
<p><b>Note:</b> QIODevice::open(<a href="qiodevice.html#OpenModeFlag-enum">QIODevice::OpenMode</a>) is no longer pure virtual.</p>
<p>The following functions are no longer virtual or don't exist anymore:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<tr valign="top" class="odd"><td><a href="qiodevice-qt3.html#getch">QIODevice::getch</a>()</td><td>Renamed <a href="qiodevice.html#getChar">QIODevice::getChar</a>() and implemented in terms of <a href="qiodevice.html#readData">QIODevice::readData</a>().</td></tr>
<tr valign="top" class="even"><td>QIODevice::putch(int)</td><td>Renamed <a href="qiodevice.html#putChar">QIODevice::putChar</a>() and implemented in terms of <a href="qiodevice.html#writeData">QIODevice::writeData</a>().</td></tr>
<tr valign="top" class="odd"><td><a href="qiodevice.html#readAll">QIODevice::readAll</a>()</td><td>Implemented in terms of <a href="qiodevice.html#readData">QIODevice::readData</a>().</td></tr>
<tr valign="top" class="even"><td>QIODevice::readLine(char *, <a href="qtglobal-qt3.html#Q_ULONG-typedef">Q_ULONG</a>)</td><td>Implemented in terms of <a href="qiodevice.html#readData">QIODevice::readData</a>()</td></tr>
<tr valign="top" class="odd"><td>QIODevice::ungetch(int)</td><td>Renamed <a href="qiodevice.html#ungetChar">QIODevice::ungetChar</a>() and simulated using an internal unget buffer.</td></tr>
</table></p>
<p>The <tt>IO_xxx</tt> flags have been revised, and the protected setFlags() function removed. Most of the flags have been eliminated because errors are best handled by implementing certain functions in <a href="qiodevice.html">QIODevice</a> subclasses rather than through the base classes. The file access flags, such as <tt>IO_ReadOnly</tt> and <tt>IO_WriteOnly</tt>, have been moved to the <a href="qiodevice.html">QIODevice</a> class to avoid polluting the global namespace. The table below shows the correspondence between the Qt 3 <tt>IO_xxx</tt> flags and the Qt 4 API:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 constant</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>IO_Direct</td><td>Use !<a href="qiodevice.html#isSequential">QIODevice::isSequential</a>() instead (notice the <i>not</i>).</td></tr>
<tr valign="top" class="even"><td>IO_Sequential</td><td>Use <a href="qiodevice.html#isSequential">QIODevice::isSequential</a>() instead.</td></tr>
<tr valign="top" class="odd"><td>IO_Combined</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_TypeMask</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_Raw</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Unbuffered</a></td></tr>
<tr valign="top" class="even"><td>IO_Async</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_ReadOnly</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::ReadOnly</a></td></tr>
<tr valign="top" class="even"><td>IO_WriteOnly</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::WriteOnly</a></td></tr>
<tr valign="top" class="odd"><td>IO_ReadWrite</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::ReadWrite</a></td></tr>
<tr valign="top" class="even"><td>IO_Append</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Append</a></td></tr>
<tr valign="top" class="odd"><td>IO_Truncate</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Truncate</a></td></tr>
<tr valign="top" class="even"><td>IO_Translate</td><td><a href="qiodevice.html#OpenModeFlag-enum">QIODevice::Text</a></td></tr>
<tr valign="top" class="odd"><td>IO_ModeMask</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_Open</td><td>Use <a href="qiodevice.html#isOpen">QIODevice::isOpen</a>() instead.</td></tr>
<tr valign="top" class="odd"><td>IO_StateMask</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_Ok</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_ReadError</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_WriteError</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_FatalError</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_ResourceError</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_OpenError</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_ConnectError</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_AbortError</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>IO_TimeOutError</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>IO_UnspecifiedError</td><td>N/A</td></tr>
</table></p>
<a name="qiodevicesource"></a>
<h3>QIODeviceSource</h3>
<p>The <a href="#qiodevicesource">QIODeviceSource</a> class was used internally in Qt 2.x in conjunction with QImageConsumer. It was obsoleted in Qt 3.0&#x2e; If you use this mechanism in your application, please submit a report to the <a href="http://www.trolltech.com/developer/task-tracker">Task Tracker</a> on the Trolltech website and we will try to find a satisfactory substitute.</p>
<a name="qlabel"></a>
<h3>QLabel</h3>
<p><a href="qlabel.html">QLabel</a> doesn't enable word-wrap automatically anymore when rich text is used. You can enable it by calling <a href="qlabel.html#wordWrap-prop">QLabel::setWordWrap</a>() or by setting the <a href="qlabel.html#wordWrap-prop">wordWrap</a> property. The reason for this change is that the old behavior was confusing to many users.</p>
<p>Also, <a href="qlabel.html">QLabel</a> no longer offers an <tt>autoResize</tt> property. Instead, you can call <a href="qwidget.html#setFixedSize">QWidget::setFixedSize</a>() on the label, with <a href="qwidget.html#sizeHint-prop">QLabel::sizeHint</a>() as the argument, whenever you change the contents of the <a href="qlabel.html">QLabel</a>.</p>
<p>See also <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <a href="qlabel.html">QLabel</a> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qlayout"></a>
<h3>QLayout</h3>
<p>In Qt 4, margins are always handled by layouts; there is no QLayout::setSupportsMargin() function anymore.</p>
<p>The deleteAllItems() function is now only available if <tt>QT3_SUPPORT</tt> is defined. If you maintain a <a href="qlist.html">QList</a> of layout items, you can use <a href="qtalgorithms.html#qDeleteAll">qDeleteAll</a>() to remove all the items in one go.</p>
<p>In Qt 3, it was possible to change the resizing behavior for layouts in top-level widgets by adjusting the layout's <tt>resizeMode</tt> property. In Qt 4, this property has been replaced by the <a href="qlayout.html#sizeConstraint-prop">QLayout::sizeConstraint</a> property which provides more control over how the layout behaves when resized.</p>
<p>See also the <a href="#qlayoutiterator-section">section on QLayoutIterator</a> and the <a href="#qglayoutiterator-section">section on QGLayoutIterator</a>.</p>
<a name="qlayoutiterator-section"></a><a name="qlayoutiterator"></a>
<h3>QLayoutIterator</h3>
<p>The QLayoutIterator class is obsoleted in Qt 4. It is available only if <tt>QT3_SUPPORT</tt> is defined. It can be replaced by the <a href="qlayout.html#itemAt">QLayout::itemAt</a>() and <a href="qlayout.html#takeAt">QLayout::takeAt</a>() functions, which operate on indexes.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040">     QLayoutIterator it = layout()-&gt;iterator();
     QLayoutItem *child;
     while ((child = it.current()) != 0) {
         if (child-&gt;widget() == myWidget) {
             it.takeCurrent();
             return;
         ++it;
     }</font></pre>
<p>you can rewrite it as</p>
<pre>     int i = 0;
     QLayoutItem *child;
     while ((child = layout()-&gt;itemAt(i)) != 0) {
         if (child-&gt;widget() == myWidget) {
             layout()-&gt;takeAt(i);
             return;
         }
         ++i;
     }</pre>
<a name="qlineedit"></a>
<h3>QLineEdit</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qlineedit.html">QLineEdit</a> properties in Qt 3 that have changed in Qt 4.</p>
<p>Note that <a href="qlineedit.html">QLineEdit</a> in Qt 4 is no longer a subclass of <a href="qframe.html">QFrame</a>. If you need to visually style a line edit with a frame, we recommend either using a <a href="qframe.html">QFrame</a> as a container for a <a href="qlineedit.html">QLineEdit</a> or customizing the line edit with a <a href="stylesheet.html">style sheet</a>.</p>
<a name="qlistbox"></a>
<h3>QListBox</h3>
<p>The <tt>QListBox</tt>, <tt>QListBoxItem</tt>, <tt>QListBoxText</tt>, and <tt>QListBoxPixmap</tt> classes have been renamed <a href="q3listbox.html">Q3ListBox</a>, <a href="q3listboxitem.html">Q3ListBoxItem</a>, <a href="q3listboxtext.html">Q3ListBoxText</a>, and <a href="q3listboxpixmap.html">Q3ListBoxPixmap</a> and have been moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use <a href="qlistwidget.html">QListWidget</a> or its base class <a href="qlistview.html">QListView</a> instead.</p>
<p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.</p>
<a name="qlistview"></a>
<h3>QListView</h3>
<p>The <tt>QListView</tt>, <tt>QListViewItem</tt>, <tt>QCheckListItem</tt>, and <tt>QListViewItemIterator</tt> classes have been renamed <a href="q3listview.html">Q3ListView</a>, <a href="q3listviewitem.html">Q3ListViewItem</a>, <a href="q3checklistitem.html">Q3CheckListItem</a>, and <a href="q3listviewitemiterator.html">Q3ListViewItemIterator</a>, and have been moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use one of the following four classes instead: <a href="qtreeview.html">QTreeView</a> or <a href="qtreewidget.html">QTreeWidget</a> for tree-like structures; <a href="qlistwidget.html">QListWidget</a> or the new <a href="qlistview.html">QListView</a> class for one-dimensional lists.</p>
<p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.</p>
<a name="qlocalfs"></a>
<h3>QLocalFs</h3>
<p>The <tt>QLocalFs</tt> class is no longer part of the public Qt API. It has been renamed <a href="q3localfs.html">Q3LocalFs</a> and moved to <a href="qt3support.html">Qt3Support</a>. Use <a href="qdir.html">QDir</a>, <a href="qfileinfo.html">QFileInfo</a>, or <a href="qfile.html">QFile</a> instead.</p>
<a name="qmainwindow"></a>
<h3>QMainWindow</h3>
<p>The <a href="qmainwindow.html">QMainWindow</a> class has been redesigned in Qt 4 to provide a more modern look and feel and more flexibility. The API has changed to reflect that. The old <tt>QMainWindow</tt> class has been renamed <a href="q3mainwindow.html">Q3MainWindow</a> and moved to <a href="qt3support.html">Qt3Support</a>. See the <a href="qmainwindow.html">QMainWindow</a> class documentation for details.</p>
<a name="qmemarray-section"></a><a name="qmemarray-t"></a>
<h3>QMemArray&lt;T&gt;</h3>
<p>QMemArray&lt;T&gt; has been moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by the <a href="qvector.html">QVector</a>&lt;T&gt; class.</p>
<p>The following table summarizes the API differences between the two classes.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<tr valign="top" class="odd"><td>QMemArray::assign(const QMemArray&lt;T&gt; &amp;)</td><td>QVector::operator=()</td></tr>
<tr valign="top" class="even"><td>QMemArray::assign(const T *, uint)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>QMemArray::duplicate(const QMemArray &amp;)</td><td>QVector::operator=()</td></tr>
<tr valign="top" class="even"><td>QMemArray::duplicate(const T *, uint)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>QMemArray::setRawData(const T *, uint)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QMemArray::resetRawData(const T *, uint)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QMemArray::find(const T &amp;, uint)</td><td>QVector::indexOf(const T &amp;, int)</td></tr>
<tr valign="top" class="even"><td>QMemArray::contains(const T &amp;)</td><td>QVector::count(const T &amp;)</td></tr>
<tr valign="top" class="odd"><td>QMemArray::sort()</td><td><a href="qtalgorithms.html#qSort">qSort</a>()</td></tr>
<tr valign="top" class="even"><td>QMemArray::bsearch(const T &amp;d)</td><td><a href="qtalgorithms.html#qBinaryFind">qBinaryFind</a>()</td></tr>
<tr valign="top" class="odd"><td>QMemArray::at(uint)</td><td>QVector::operator[]()</td></tr>
<tr valign="top" class="even"><td>QMemArray::operator const T *()</td><td><a href="qvector.html#constData">QVector::constData</a>()</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li>QMemArray::assign(const T *, uint) and QMemArray::duplicate(const T *, uint) can be replaced by <a href="qvector.html#resize">QVector::resize</a>() and <a href="qtalgorithms.html#qCopy">qCopy</a>().<p>For example, if you have code like</p>
<pre><font color="#404040">     QMemArray&lt;QSize&gt; array;
     ..&#x2e;
     array.assign(data, size);</font></pre>
<p>you can rewrite it as</p>
<pre>     QVector&lt;QSize&gt; vector;
     ...
     vector.resize(size);
     qCopy(data, data + size, vector.begin());</pre>
</li>
<li>QMemArray is an explicitly shared class, whereas <a href="qvector.html">QVector</a> is implicitly shared. See <a href="explicitly-shared.html#explicit-sharing">Explicit Sharing</a> for more information.</li>
</ol>
<a name="qmenubar"></a>
<h3>QMenuBar</h3>
<p>In Qt 3, <a href="qmenubar.html">QMenuBar</a> inherited from <a href="qframe.html">QFrame</a> and <a href="#qmenudata">QMenuData</a>; in Qt 4, it is a direct subclass of <a href="qwidget.html">QWidget</a>. Applications that provided customized menu bars will need to take advantage of the styling features described in the <a href="stylesheet.html">Qt Style Sheets</a> document.</p>
<p>It is not possible to add widgets to menu bars in Qt 4.</p>
<a name="qmenudata"></a>
<h3>QMenuData</h3>
<p>In Qt 4, the <a href="qmenu.html">QMenu</a> class provides a menu widget that can be used in all the places where menus are used in an application. Unlike <tt>QMenuData</tt>, <a href="qmenu.html">QMenu</a> is designed around the concept of actions, provided by the <a href="qaction.html">QAction</a> class, instead of the identifiers used in Qt 3.</p>
<p>In Qt 3, it was possible to insert widgets directly into menus by using a specific <tt>QMenuData::insertItem()</tt> overload. In Qt 4.2 and later, the <a href="qwidgetaction.html">QWidgetAction</a> class can be used to wrap widgets for use in Qt 4's action-based APIs.</p>
<a name="qmessagebox"></a>
<h3>QMessageBox</h3>
<p>The <a href="qmessagebox.html#iconPixmap-prop">QMessageBox::iconPixmap</a>() function used to return a &quot;const <a href="qpixmap.html">QPixmap</a> *&quot;. In Qt 4, it returns a <a href="qpixmap.html">QPixmap</a>.</p>
<a name="qmimesourcefactory"></a>
<h3>QMimeSourceFactory</h3>
<p>The <tt>QMimeSourceFactory</tt> has been renamed <a href="q3mimesourcefactory.html">Q3MimeSourceFactory</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use Qt 4's <a href="resources.html#resource-system">Resource System</a> instead.</p>
<a name="qmovie"></a>
<h3>QMovie</h3>
<p>The <a href="qmovie.html">QMovie</a> API has been revised in Qt 4 to make it more consistent with the other Qt classes (notably <a href="qimagereader.html">QImageReader</a>). The table below summarizes the changes.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Qt 3 function</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QMovie::connectResize()</td><td>Connect to <a href="qmovie.html#resized">QMovie::resized</a>()</td></tr>
<tr valign="top" class="even"><td>QMovie::connectStatus()</td><td>Connect to <a href="qmovie.html#stateChanged">QMovie::stateChanged</a>()</td></tr>
<tr valign="top" class="odd"><td>QMovie::connectUpdate()</td><td>Connect to <a href="qmovie.html#updated">QMovie::updated</a>()</td></tr>
<tr valign="top" class="even"><td>QMovie::disconnectResize()</td><td>Disconnect from <a href="qmovie.html#resized">QMovie::resized</a>()</td></tr>
<tr valign="top" class="odd"><td>QMovie::disconnectStatus()</td><td>Disconnect from <a href="qmovie.html#stateChanged">QMovie::stateChanged</a>()</td></tr>
<tr valign="top" class="even"><td>QMovie::disconnectUpdate()</td><td>Disconnect from <a href="qmovie.html#updated">QMovie::updated</a>()</td></tr>
<tr valign="top" class="odd"><td><a href="qmovie.html#finished">QMovie::finished</a>()</td><td>Use <a href="qmovie.html#state">QMovie::state</a>() instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#frameImage">QMovie::frameImage</a>()</td><td>Use <a href="qmovie.html#currentImage">QMovie::currentImage</a>() instead</td></tr>
<tr valign="top" class="odd"><td><a href="qmovie-qt3.html#frameNumber">QMovie::frameNumber</a>()</td><td>Use <a href="qmovie.html#currentFrameNumber">QMovie::currentFrameNumber</a>() instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#framePixmap">QMovie::framePixmap</a>()</td><td>Use <a href="qmovie.html#currentPixmap">QMovie::currentPixmap</a>() instead</td></tr>
<tr valign="top" class="odd"><td>QMovie::getValidRect()</td><td>Use frameRect() instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#isNull">QMovie::isNull</a>()</td><td>Use <a href="qmovie.html#isValid">QMovie::isValid</a>() instead</td></tr>
<tr valign="top" class="odd"><td><a href="qmovie-qt3.html#pause">QMovie::pause</a>()</td><td>Use QMovie::setPaused(true) instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#paused">QMovie::paused</a>()</td><td>Use <a href="qmovie.html#state">QMovie::state</a>() instead</td></tr>
<tr valign="top" class="odd"><td>QMovie::pushData()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QMovie::pushSpace()</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td><a href="qmovie-qt3.html#restart">QMovie::restart</a>()</td><td>Use QMovie::jumpToFrame(0) instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#running">QMovie::running</a>()</td><td>Use <a href="qmovie.html#state">QMovie::state</a>() instead</td></tr>
<tr valign="top" class="odd"><td><a href="qmovie-qt3.html#step">QMovie::step</a>()</td><td>Use <a href="qmovie.html#jumpToFrame">QMovie::jumpToFrame</a>() and <a href="qmovie.html#setPaused">QMovie::setPaused</a>() instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#step">QMovie::step</a>()</td><td>Use <a href="qmovie.html#jumpToNextFrame">QMovie::jumpToNextFrame</a>() instead</td></tr>
<tr valign="top" class="odd"><td>QMovie::steps()</td><td>Use <a href="qmovie.html#currentFrameNumber">QMovie::currentFrameNumber</a>() and <a href="qmovie.html#frameCount">QMovie::frameCount</a>() instead</td></tr>
<tr valign="top" class="even"><td><a href="qmovie-qt3.html#unpause">QMovie::unpause</a>()</td><td>Use QMovie::setPaused(false) instead</td></tr>
</table></p>
<a name="qmultilineedit"></a>
<h3>QMultiLineEdit</h3>
<p>The <tt>QMultiLineEdit</tt> class in Qt 3 was a convenience <a href="qtextedit.html">QTextEdit</a> subclass that provided an interface compatible with Qt 2's <a href="#qmultilineedit">QMultiLineEdit</a> class. In Qt 4, it is called <a href="q3multilineedit.html">Q3MultiLineEdit</a>, it inherits <a href="q3textedit.html">Q3TextEdit</a>, and it is part of <a href="qt3support.html">Qt3Support</a>. Use <a href="qtextedit.html">QTextEdit</a> in new code.</p>
<a name="qnetworkprotocol-section"></a><a name="qnetworkprotocol"></a>
<h3>QNetworkProtocol</h3>
<p>The <a href="#qnetworkprotocol">QNetworkProtocol</a>, QNetworkProtocolFactoryBase, QNetworkProtocolFactory&lt;T&gt;, and QNetworkOperation classes are no longer part of the public Qt API. They have been renamed <a href="q3networkprotocol.html">Q3NetworkProtocol</a>, Q3NetworkProtocolFactoryBase, Q3NetworkProtocolFactory&lt;T&gt;, and <a href="q3networkoperation.html">Q3NetworkOperation</a> and have been moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>In Qt 4 applications, you can use classes like <a href="qftp.html">QFtp</a> and <a href="qhttp.html">QHttp</a> directly to perform file-related actions on a remote host.</p>
<a name="qobject"></a>
<h3>QObject</h3>
<p><a href="qobject.html#children">QObject::children</a>() now returns a <a href="qobject.html#QObjectList-typedef">QObjectList</a> instead of a pointer to a <a href="qobject.html#QObjectList-typedef">QObjectList</a>. See also the comments on <a href="qobject.html#QObjectList-typedef">QObjectList</a> below.</p>
<p>Use <a href="qobject.html#findChildren">QObject::findChildren</a>() (or <a href="qobject.html#qFindChildren">qFindChildren</a>() if you need MSVC 6 compatibility) instead of QObject::queryList(). For example:</p>
<pre>         QList&lt;QWidget *&gt; myWidgets = qFindChildren&lt;QWidget *&gt;(myParent);</pre>
<p>QObject::killTimers() has been removed because it was unsafe to use in subclass. (A subclass normally doesn't know whether the base class uses timers or not.)</p>
<p>The <tt>QObject::name</tt> property has been renamed <a href="qobject.html#objectName-prop">QObject::objectName</a>.</p>
<p><tt>QObject::objectTrees()</tt> has been removed. If you are primarly interested in widgets, use <a href="qapplication.html#allWidgets">QApplication::allWidgets</a>() or <a href="qapplication.html#topLevelWidgets">QApplication::topLevelWidgets</a>().</p>
<a name="qobjectdictionary"></a>
<h3>QObjectDictionary</h3>
<p>The <a href="#qobjectdictionary">QObjectDictionary</a> class is a synonym for QAsciiDict&lt;<a href="qmetaobject.html">QMetaObject</a>&gt;. See the <a href="#qasciidict-section">section on QAsciiDict&lt;T&gt;</a>.</p>
<a name="qobjectlist"></a>
<h3>QObjectList</h3>
<p>In Qt 3, the <a href="qobject.html#QObjectList-typedef">QObjectList</a> class was a typedef for QPtrList&lt;<a href="qobject.html">QObject</a>&gt;. In Qt 4, it is a typedef for <a href="qlist.html">QList</a>&lt;<a href="qobject.html">QObject</a> *&gt;. See the <a href="#qptrlist-section">section on QPtrList&lt;T&gt;</a>.</p>
<a name="qpaintdevice"></a>
<h3>QPaintDevice</h3>
<p>To reimplement painter backends one previously needed to reimplement the virtual function QPaintDevice::cmd(). This function is taken out and should is replaced with the function <a href="qpaintdevice.html#paintEngine">QPaintDevice::paintEngine</a>() and the abstract class <a href="qpaintengine.html">QPaintEngine</a>. <a href="qpaintengine.html">QPaintEngine</a> provides virtual functions for all drawing operations that can be performed on a painter backend.</p>
<p>bitBlt() and copyBlt() are now only compatibility functions. Use <a href="qpainter.html#drawPixmap">QPainter::drawPixmap</a>() instead.</p>
<a name="qpaintdevicemetrics"></a>
<h3>QPaintDeviceMetrics</h3>
<p>All functions that used to be provided by the <tt>QPaintDeviceMetrics</tt> class have now been moved to QPaintDevice.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040">     QPaintDeviceMetrics metrics(widget);
     int deviceDepth = metrics.depth();</font></pre>
<p>you can rewrite it as</p>
<pre>     int deviceDepth = widget-&gt;depth();</pre>
<p>For compatibility, the old <tt>QPaintDeviceMetrics</tt> class has been renamed <a href="q3paintdevicemetrics.html">Q3PaintDeviceMetrics</a> and moved to <a href="qt3support.html">Qt3Support</a>.</p>
<a name="qpainter"></a>
<h3>QPainter</h3>
<p>The <a href="qpainter.html">QPainter</a> class has undergone some changes in Qt 4 because of the way rectangles are drawn. In Qt 4, the result of drawing a <a href="qrect.html">QRect</a> with a pen width of 1 pixel is 1 pixel wider and 1 pixel taller than in Qt 3.</p>
<p>For compatibility, we provide a <a href="q3painter.html">Q3Painter</a> class in <a href="qt3support.html">Qt3Support</a> that provides the old semantics. See the <a href="q3painter.html">Q3Painter</a> documentation for details and for the reasons why we had to make this change.</p>
<p>The <a href="http://doc.trolltech.com/3.3/qpainter.html#CoordinateMode-enum">QPainter::CoordinateMode</a> enum has been removed in Qt 4. All clipping operations are now defined using logical coordinates and are subject to transformation operations.</p>
<p>The <a href="http://doc.trolltech.com/3.3/qpainter.html#RasterOP-enum">QPainter::RasterOP</a> enum has been replaced with <a href="qpainter.html#CompositionMode-enum">QPainter::CompositionMode</a>.</p>
<a name="qpicture"></a>
<h3>QPicture</h3>
<p>In Qt 3, a <a href="qpicture.html">QPicture</a> could be saved in the SVG file format. In Qt 4, the SVG support is separated into the <a href="qtsvg.html">QtSvg</a> module, which provides classes for <i>displaying</i> the contents of SVG files. Qt 4 does not currently support saving of pictures in this format, but it can be achieved using the <a href="q3picture.html">Q3Picture</a> compatibility class.</p>
<a name="qpixmap"></a>
<h3>QPixmap</h3>
<p>The mask() function has been changed to return a reference to a <a href="qbitmap.html">QBitmap</a> rather than a pointer. As a result, it is no longer possible simply to test for a null pointer when determining whether a pixmap has a mask. Instead, you need to explicitly test whether the mask bitmap is null or not.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040">     if (pixmap.mask())
         widget-&gt;setMask(*pixmap.mask());</font></pre>
<p>you can rewrite it as</p>
<pre>     if (!pixmap.mask().isNull())
         widget-&gt;setMask(pixmap.mask());</pre>
<p>The <tt>QPixmap::setOptimization()</tt> and <tt>QPixmap::setDefaultOptimization()</tt> mechanism is no longer available in Qt 4.</p>
<a name="qpointarray"></a>
<h3>QPointArray</h3>
<p>The <tt>QPointArray</tt> class has been renamed <a href="qpolygon.html">QPolygon</a> in Qt 4 and has undergone significant changes. In Qt 3, <tt>QPointArray</tt> inherited from QMemArray&lt;<a href="qpoint.html">QPoint</a>&gt;. In Qt 4, <a href="qpolygon.html">QPolygon</a> inherits from <a href="qvector.html">QVector</a>&lt;<a href="qpoint.html">QPoint</a>&gt;. Everything mentioned in the <a href="#qmemarray-section">section on QMemArray&lt;T&gt;</a> apply for <a href="#qpointarray">QPointArray</a> as well.</p>
<p>The <a href="qt3support.html">Qt3Support</a> library contains a <a href="q3pointarray.html">Q3PointArray</a> class that inherits from <a href="qpolygon.html">QPolygon</a> and provides a few functions that existed in <tt>QPointArray</tt> but no longer exist in <a href="qpolygon.html">QPolygon</a>. These functions include <a href="q3pointarray.html#makeArc">Q3PointArray::makeArc</a>(), <a href="q3pointarray.html#makeEllipse">Q3PointArray::makeEllipse</a>(), and <a href="q3pointarray.html#cubicBezier">Q3PointArray::cubicBezier</a>(). In Qt 4, we recommend that you use <a href="qpainterpath.html">QPainterPath</a> for representing arcs, ellipses, and Bezier curves, rather than <a href="qpolygon.html">QPolygon</a>.</p>
<p>The <a href="qpolygon.html#setPoints">QPolygon::setPoints</a>() and <a href="qpolygon.html#putPoints">QPolygon::putPoints</a>() functions return <tt>void</tt> in Qt 4. The corresponding Qt 3 functions returned a <tt>bool</tt> indicating whether the array was successfully resized or not. This can now be checked by checking <a href="qvector.html#size">QPolygon::size</a>() after the call.</p>
<a name="qpopupmenu"></a>
<h3>QPopupMenu</h3>
<p>For most purposes, <a href="#qpopupmenu">QPopupMenu</a> has been replaced by <a href="qmenu.html">QMenu</a> in Qt 4. For compatibility with older applications, <a href="q3popupmenu.html">Q3PopupMenu</a> provides the old API and features that are specific to pop-up menus. Note that, when using <a href="q3popupmenu.html">Q3PopupMenu</a>, the menu's actions must be <a href="q3action.html">Q3Action</a>s.</p>
<p>In Qt 3, it was common practice to add entries to pop-up menus using the insertItem() function, maintaining identifiers for future use; for example, to dynamically change menu items. In Qt 4, menu entries are completely represented by actions for consistency with other user interface components, such as toolbar buttons. Create new menus with the <a href="qmenu.html">QMenu</a> class, and use the overloaded <a href="qmenu.html#addAction">QMenu::addAction</a>() functions to insert new entries. If you need to manage a set of actions created for a particular menu, we suggest that you construct a <a href="qactiongroup.html">QActionGroup</a> and add them to that.</p>
<p>The <a href="examples.html#main-windows">Main Window examples</a> provided show how to use Qt's action system to construct menus, toolbars, and other common user interface elements.</p>
<a name="qprinter"></a>
<h3>QPrinter</h3>
<p>The <a href="qprinter.html">QPrinter</a> class now expects printing to be set up from a <a href="qprintdialog.html">QPrintDialog</a>.</p>
<a name="qprocess"></a>
<h3>QProcess</h3>
<p>The <a href="qprocess.html">QProcess</a> class has undergone major improvements in Qt 4. It now inherits <a href="qiodevice.html">QIODevice</a>, which makes it possible to combine <a href="qprocess.html">QProcess</a> with a <a href="qtextstream.html">QTextStream</a> or a <a href="qdatastream.html">QDataStream</a>.</p>
<p>The old <tt>QProcess</tt> class has been renamed <a href="q3process.html">Q3Process</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<a name="qprogressbar"></a>
<h3>QProgressBar</h3>
<p>The <a href="qprogressbar.html">QProgressBar</a> API has been significantly improved in Qt 4. The old <tt>QProgressBar</tt> API is available as <a href="q3progressbar.html">Q3ProgressBar</a> in the <a href="qt3support.html">Qt3Support</a> library.</p>
<a name="qprogressdialog"></a>
<h3>QProgressDialog</h3>
<p>The <a href="qprogressdialog.html">QProgressDialog</a> API has been significantly improved in Qt 4. The old <tt>QProgressDialog</tt> API is available as <a href="q3progressdialog.html">Q3ProgressDialog</a> in the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="#properties">Properties</a> for a list of <a href="qprogressdialog.html">QProgressDialog</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qptrcollection-t"></a>
<h3>QPtrCollection&lt;T&gt;</h3>
<p>The <tt>QPtrCollection&lt;T&gt;</tt> abstract base class has been renamed <a href="q3ptrcollection.html">Q3PtrCollection</a>&lt;T&gt; moved to the <a href="qt3support.html">Qt3Support</a> library. There is no direct equivalent in Qt 4.</p>
<p>See <a href="containers.html">Generic Containers</a> for a list of Qt 4 containers.</p>
<a name="qptrdict-t"></a>
<h3>QPtrDict&lt;T&gt;</h3>
<p><tt>QPtrDict&lt;T&gt;</tt> and <tt>QPtrDictIterator&lt;T&gt;</tt> have been renamed <a href="q3ptrdict.html">Q3PtrDict</a>&lt;T&gt; and <a href="q3ptrdictiterator.html">Q3PtrDictIterator</a>&lt;T&gt; and have been moved to the <a href="qt3support.html">Qt3Support</a> library. They have been replaced by the more modern <a href="qhash.html">QHash</a>&lt;Key, T&gt; and <a href="qmultihash.html">QMultiHash</a>&lt;Key, T&gt; classes and their associated iterator classes.</p>
<p>When porting old code that uses <a href="q3ptrdict.html">Q3PtrDict</a>&lt;T&gt; to Qt 4, there are four classes that you can use:</p>
<ul>
<li><a href="qmultihash.html">QMultiHash</a>&lt;void *, T *&gt;</li>
<li><a href="qmultihash.html">QMultiHash</a>&lt;void *, T&gt;</li>
<li><a href="qhash.html">QHash</a>&lt;void *, T *&gt;</li>
<li><a href="qhash.html">QHash</a>&lt;void *, T&gt;</li>
</ul>
<p>(You can naturally use other types than <tt>void *</tt> for the key type, e.g&#x2e; <tt>QWidget *</tt>.)</p>
<p>To port <a href="q3ptrdict.html">Q3PtrDict</a>&lt;T&gt; to Qt 4, read the <a href="#qdict-section">section on QDict&lt;T&gt;</a>, mentally substituting <tt>void *</tt> for <a href="qstring.html">QString</a>.</p>
<a name="qptrlist-section"></a><a name="qptrlist-t"></a>
<h3>QPtrList&lt;T&gt;</h3>
<p>QPtrList&lt;T&gt;, QPtrListIterator&lt;T&gt;, and QPtrListStdIterator&lt;T&gt; have been moved to the <a href="qt3support.html">Qt3Support</a> library. They have been replaced by the more modern <a href="qlist.html">QList</a> and <a href="qlinkedlist.html">QLinkedList</a> classes and their associated iterator classes.</p>
<p>When porting to Qt 4, you have the choice of using <a href="qlist.html">QList</a>&lt;T&gt; or <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt; as alternatives to QValueList&lt;T&gt;. <a href="qlist.html">QList</a>&lt;T&gt; has an index-based API and provides very fast random access (QList::operator[]), whereas <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt; has an iterator-based API.</p>
<p>The following table summarizes the API differences between QPtrList&lt;T&gt; and <a href="qlist.html">QList</a>&lt;T *&gt;:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrList function</th><th><a href="qlist.html">QList</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QPtrList::contains(const T *)</td><td>QList::count(T *)</td></tr>
<tr valign="top" class="even"><td>QPtrList::containsRef(const T *)</td><td>QList::count(T *)</td></tr>
<tr valign="top" class="odd"><td>QPtrList::find(const T *)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>QPtrList::findRef(const T *)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>QPtrList::getFirst()</td><td><a href="qlist.html#first">QList::first</a>()</td></tr>
<tr valign="top" class="even"><td>QPtrList::getLast()</td><td><a href="qlist.html#last">QList::last</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrList::inSort(const T *)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QPtrList::remove(const T *)</td><td>QList::removeAll(T *)</td></tr>
<tr valign="top" class="odd"><td>QPtrList::remove(uint)</td><td>QList::removeAt(int)</td></tr>
<tr valign="top" class="even"><td>QPtrList::removeNode(QLNode *)</td><td>N/A</td></tr>
<tr valign="top" class="odd"><td>QPtrList::removeRef(const T *)</td><td>QList::removeAll(T *)</td></tr>
<tr valign="top" class="even"><td>QPtrList::sort()</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>QPtrList::takeNode(QLNode *)</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QPtrList::toVector(QGVector *)</td><td>See remark below</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li>QPtrList::toVector(QGVector *) can be replaced by <a href="qvector.html#resize">QVector::resize</a>() and <a href="qtalgorithms.html#qCopy">qCopy</a>().<p>For example, if you have code like</p>
<pre><font color="#404040">     QPtrList&lt;QWidget&gt; list;
     ..&#x2e;
     QPtrVector&lt;QWidget&gt; vector;
     list.toVector(&amp;vector);</font></pre>
<p>you can rewrite it as</p>
<pre>     QList&lt;QWidget *&gt; list;
     ...
     QVector&lt;QWidget *&gt; vector;
     vector.resize(list.size());
     qCopy(list.begin(), list.end(), vector.begin());</pre>
</li>
<li>QPtrList::sort() relied on the virtual comparedItems() to sort items. In Qt 4, you can use <a href="qtalgorithms.html#qSort">qSort</a>() instead and pass your &quot;compare item&quot; function as an argument.</li>
<li>QPtrList::find(const T *) returns an iterator, whereas QList::indexOf(T *) returns an index. To convert an index into an iterator, add the index to <a href="qlist.html#begin">QList::begin</a>().</li>
<li>QPtrList::removeFirst() and QPtrList::removeLast() return a <tt>bool</tt> that indicates whether the element was removed or not. The corresponding <a href="qlist.html">QList</a> functions return <tt>void</tt>. You can achieve the same result by calling <a href="qlist.html#isEmpty">QList::isEmpty</a>() before attempting to remove an item.</li>
</ol>
<p>If you use QPtrList's auto-delete feature (by calling QPtrList::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you can use <a href="qlist.html">QList</a>&lt;T&gt; instead of <a href="qlist.html">QList</a>&lt;T *&gt; (i.e&#x2e; store values directly instead of pointers to values). Here, we'll see when to call <tt>delete</tt>.</p>
<p>The following table summarizes the idioms that you need to watch out for if you want to call <tt>delete</tt> yourself.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrList idiom</th><th><a href="qlist.html">QList</a> idiom</th></tr></thead>
<tr valign="top" class="odd"><td><pre>         list.replace(index, value);</pre>
</td><td><pre>         delete list[index];
         list[index] = value;</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         list.removeFirst();</pre>
</td><td><pre>         delete list.takeFirst();</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         list.removeLast();</pre>
</td><td><pre>         delete list.takeLast();</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         list.remove(index);</pre>
</td><td><pre>         delete list.takeAt(index);</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         list.remove(value);</pre>
</td><td><pre>         int i = list.indexOf(value);
         if (i != -1)
             delete list.takeAt(i);</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         list.remove();</pre>
<p>(removes the current item)</p>
</td><td><pre>         QMutableListIterator&lt;T *&gt; i;
         ...
         delete i.value();
         i.remove();</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         list.clear();</pre>
<p>(also called from QPtrList's destructor)</p>
</td><td><pre>         while (!list.isEmpty())
             delete list.takeFirst();</pre>
<p>In 99% of cases, the following idiom also works:</p>
<pre>         qDeleteAll(list);
         list.clear();</pre>
<p>However, it may lead to crashes if <tt>list</tt> is referenced from the value type's destructor, because <tt>list</tt> contains dangling pointers until clear() is called.</p>
</td></tr>
</table></p>
<p>Be aware that QPtrList's destructor automatically calls clear(). If you have a QPtrList data member in a custom class and use the auto-delete feature, you will need to call <tt>delete</tt> on all the items in the container from your class destructor to avoid a memory leak.</p>
<p>QPtrList had the concept of a &quot;current item&quot;, which could be used for traversing the list without using an iterator. When porting to Qt 4, you can use the Java-style <a href="qlistiterator.html">QListIterator</a>&lt;T *&gt; (or <a href="qmutablelistiterator.html">QMutableListIterator</a>&lt;T *&gt;) class instead. The following table summarizes the API differences:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrList function</th><th><a href="qlistiterator.html">QListIterator</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QPtrList::at()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QPtrList::current()</td><td><a href="qmutablelistiterator.html#value">QMutableListIterator::value</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrList::currentNode()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QPtrList::findNext(const T *)</td><td>QListIterator::findNext(const T *)</td></tr>
<tr valign="top" class="odd"><td>QPtrList::findNextRef(const T *)</td><td>QListIterator::findNext(const T *)</td></tr>
<tr valign="top" class="even"><td>QPtrList::first()</td><td>QPtrList::toFront()</td></tr>
<tr valign="top" class="odd"><td>QPtrList::last()</td><td>QPtrList::toBack()</td></tr>
<tr valign="top" class="even"><td>QPtrList::next()</td><td>QPtrList::next()</td></tr>
<tr valign="top" class="odd"><td>QPtrList::prev()</td><td>QPtrList::previous()</td></tr>
<tr valign="top" class="even"><td>QPtrList::remove()</td><td><a href="qmutablelistiterator.html#remove">QMutableListIterator::remove</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrList::take()</td><td><a href="qmutablelistiterator.html#remove">QMutableListIterator::remove</a>()</td></tr>
</table></p>
<p>Be aware that <a href="qlistiterator.html">QListIterator</a> has a different way of iterating than QPtrList. A typical loop with QPtrList looks like this:</p>
<pre>         QPtrList&lt;QWidget&gt; list;
         ...
         while (list.current() != 0) {
             do_something(list.current());
             list.next();
         }</pre>
<p>Here's the equivalent <a href="qlistiterator.html">QListIterator</a> loop:</p>
<pre>         QList&lt;QWidget *&gt; list;
         ...
         QListIterator&lt;QWidget *&gt; i(list);
         while (i.hasNext())
             do_something(i.next());</pre>
<p>Finally, QPtrListIterator&lt;T&gt; must also be ported. There are no fewer than four iterator classes that can be used as a replacement: <a href="qlist-const-iterator.html">QList::const_iterator</a>, <a href="qlist-iterator.html">QList::iterator</a>, <a href="qlistiterator.html">QListIterator</a>, and <a href="qmutablelistiterator.html">QMutableListIterator</a>. The most straightforward class to use when porting is <a href="qmutablelistiterator.html">QMutableListIterator</a>&lt;T *&gt; (if you modify the list through the iterator) or <a href="qlistiterator.html">QListIterator</a>&lt;T *&gt; (if you don't). The following table summarizes the API differences:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrListIterator function</th><th>Qt 4 equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QPtrListIterator::atFirst()</td><td>!<a href="qlistiterator.html#hasPrevious">QListIterator::hasPrevious</a>() (notice the <tt>!</tt>)</td></tr>
<tr valign="top" class="even"><td>QPtrListIterator::atLast()</td><td>!<a href="qlistiterator.html#hasNext">QListIterator::hasNext</a>() (notice the <tt>!</tt>)</td></tr>
<tr valign="top" class="odd"><td>QPtrListIterator::count()</td><td><a href="qlist.html#count">QList::count</a>() or <a href="qlist.html#size">QList::size</a>()</td></tr>
<tr valign="top" class="even"><td>QPtrListIterator::current()</td><td><a href="qmutablelistiterator.html#value">QMutableListIterator::value</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrListIterator::isEmpty()</td><td><a href="qlist.html#isEmpty">QList::isEmpty</a>()</td></tr>
<tr valign="top" class="even"><td>QPtrListIterator::toFirst()</td><td><a href="qlistiterator.html#toFront">QListIterator::toFront</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrListIterator::toLast()</td><td><a href="qlistiterator.html#toBack">QListIterator::toBack</a>()</td></tr>
<tr valign="top" class="even"><td>QPtrListIterator::operator()</td><td><a href="qmutablelistiterator.html#value">QMutableListIterator::value</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrListIterator::operator*()</td><td><a href="qmutablelistiterator.html#value">QMutableListIterator::value</a>()</td></tr>
</table></p>
<p>Again, be aware that <a href="qlistiterator.html">QListIterator</a> has a different way of iterating than QPtrList. A typical loop with QPtrList looks like this:</p>
<pre>         QPtrList&lt;QWidget&gt; list;
         ...
         QPtrListIterator&lt;QWidget&gt; i;
         while (i.current() != 0) {
             do_something(i.current());
             i.next();
         }</pre>
<p>Here's the equivalent <a href="qlistiterator.html">QListIterator</a> loop:</p>
<pre>         QList&lt;QWidget *&gt; list;
         ...
         QListIterator&lt;QWidget *&gt; i(list);
         while (i.hasNext())
             do_something(i.next());</pre>
<p>Finally, QPtrListStdIterator&lt;T&gt; must also be ported. This is easy, because <a href="qlist.html">QList</a> also provides STL-style iterators (<a href="qlist-iterator.html">QList::iterator</a> and <a href="qlist-const-iterator.html">QList::const_iterator</a>).</p>
<a name="qptrqueue-t"></a>
<h3>QPtrQueue&lt;T&gt;</h3>
<p>QPtrQueue has been moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by the more modern <a href="qqueue.html">QQueue</a> class.</p>
<p>The following table summarizes the differences between QPtrQueue&lt;T&gt; and <a href="qqueue.html">QQueue</a>&lt;T *&gt;:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrQueue function</th><th><a href="qqueue.html">QQueue</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QPtrQueue::autoDelete()</td><td>See discussion below</td></tr>
<tr valign="top" class="even"><td>QPtrQueue::count()</td><td><a href="qlist.html#count">QQueue::count</a>() or <a href="qlist.html#size">QQueue::size</a>() (equivalent)</td></tr>
<tr valign="top" class="odd"><td>QPtrQueue::current()</td><td><a href="qqueue.html#head">QQueue::head</a>()</td></tr>
<tr valign="top" class="even"><td>QPtrQueue::remove()</td><td><a href="qqueue.html#dequeue">QQueue::dequeue</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrQueue::setAutoDelete()</td><td>See discussion below</td></tr>
</table></p>
<p>If you use QPtrQueue's auto-delete feature (by calling QPtrQueue::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you can use <a href="qqueue.html">QQueue</a>&lt;T&gt; instead of <a href="qqueue.html">QQueue</a>&lt;T *&gt; (i.e&#x2e; store values directly instead of pointers to values). Here, we will show when to call <tt>delete</tt>.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrQueue idiom</th><th><a href="qqueue.html">QQueue</a> idiom</th></tr></thead>
<tr valign="top" class="odd"><td><pre>         queue.dequeue();</pre>
</td><td><pre>         delete queue.dequeue();</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         queue.remove();</pre>
</td><td><pre>         delete queue.dequeue();</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         queue.clear();</pre>
<p>(also called from QPtrQueue's destructor)</p>
</td><td><pre>         while (!queue.isEmpty())
             delete queue.dequeue();</pre>
<p>In 99% of cases, the following idiom also works:</p>
<pre>         qDeleteAll(queue);
         queue.clear();</pre>
<p>However, it may lead to crashes if <tt>queue</tt> is referenced from the value type's destructor, because <tt>queue</tt> contains dangling pointers until clear() is called.</p>
</td></tr>
</table></p>
<a name="qptrstack-t"></a>
<h3>QPtrStack&lt;T&gt;</h3>
<p>QPtrStack has been moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by the more modern <a href="qstack.html">QStack</a> class.</p>
<p>The following table summarizes the differences between QPtrStack&lt;T&gt; and <a href="qstack.html">QStack</a>&lt;T *&gt;:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrStack function</th><th><a href="qstack.html">QStack</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QPtrStack::autoDelete()</td><td>See discussion below</td></tr>
<tr valign="top" class="even"><td>QPtrStack::count()</td><td><a href="qvector.html#count">QStack::count</a>() or <a href="qvector.html#size">QStack::size</a>() (equivalent)</td></tr>
<tr valign="top" class="odd"><td>QPtrStack::current()</td><td><a href="qstack.html#top">QStack::top</a>()</td></tr>
<tr valign="top" class="even"><td>QPtrStack::remove()</td><td><a href="qstack.html#pop">QStack::pop</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrStack::setAutoDelete()</td><td>See discussion below</td></tr>
</table></p>
<p>If you use QPtrStack's auto-delete feature (by calling QPtrStack::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you can use <a href="qstack.html">QStack</a>&lt;T&gt; instead of <a href="qstack.html">QStack</a>&lt;T *&gt; (i.e&#x2e; store values directly instead of pointers to values). Here, we will show when to call <tt>delete</tt>.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrStack idiom</th><th><a href="qstack.html">QStack</a> idiom</th></tr></thead>
<tr valign="top" class="odd"><td><pre>         stack.pop();</pre>
</td><td><pre>         delete stack.pop();</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         stack.remove();</pre>
</td><td><pre>         delete stack.pop();</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         stack.clear();</pre>
<p>(also called from QPtrStack's destructor)</p>
</td><td><pre>         while (!stack.isEmpty())
             delete stack.pop();</pre>
<p>In 99% of cases, the following idiom also works:</p>
<pre>         qDeleteAll(stack);
         stack.clear();</pre>
<p>However, it may lead to crashes if <tt>stack</tt> is referenced from the value type's destructor, because <tt>stack</tt> contains dangling pointers until clear() is called.</p>
</td></tr>
</table></p>
<a name="qptrvector-t"></a>
<h3>QPtrVector&lt;T&gt;</h3>
<p>QPtrVector&lt;T&gt; has been moved to <a href="qt3support.html">Qt3Support</a>. It has been replaced by the more modern <a href="qvector.html">QVector</a> class.</p>
<p>When porting to Qt 4, you can use <a href="qvector.html">QVector</a>&lt;T *&gt; as an alternative to QPtrVector&lt;T&gt;. The APIs of QPtrVector&lt;T&gt; and <a href="qvector.html">QVector</a>&lt;T *&gt; are somewhat similar. The main issue is that QPtrVector supports auto-delete whereas <a href="qvector.html">QVector</a> doesn't.</p>
<p>The following table summarizes the API differences between the two classes:</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrVector function</th><th><a href="qvector.html">QVector</a> equivalent</th></tr></thead>
<tr valign="top" class="odd"><td>QPtrVector::autoDelete()</td><td>See discussion below</td></tr>
<tr valign="top" class="even"><td>QPtrVector::bsearch(const T *)</td><td><a href="qtalgorithms.html#qBinaryFind">qBinaryFind</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrVector::contains(const T *)</td><td>QVector::count(T *)</td></tr>
<tr valign="top" class="even"><td>QPtrVector::containsRef(const T *)</td><td>QVector::count(T *)</td></tr>
<tr valign="top" class="odd"><td>QPtrVector::count()</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>QPtrVector::insert(uint, T *)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>QPtrVector::isNull()</td><td>N/A</td></tr>
<tr valign="top" class="even"><td>QPtrVector::remove(uint)</td><td>See remark below</td></tr>
<tr valign="top" class="odd"><td>QPtrVector::setAutoDelete()</td><td>See discussion below</td></tr>
<tr valign="top" class="even"><td>QPtrVector::sort()</td><td><a href="qtalgorithms.html#qSort">qSort</a>()</td></tr>
<tr valign="top" class="odd"><td>QPtrVector::take(uint)</td><td>See remark below</td></tr>
<tr valign="top" class="even"><td>QPtrVector::toList(QGList *)</td><td>QList::QList(const <a href="qvector.html">QVector</a> &amp;)</td></tr>
</table></p>
<p>Remarks:</p>
<ol type="1">
<li>QPtrVector::insert(uint, T *) sets an item to store a certain pointer value. This is <i>not</i> the same as QVector::insert(int, T *), which creates space for the item by moving following items by one position. Use <tt>vect[i] = ptr</tt> to set a <a href="qvector.html">QVector</a> item to a particular value.</li>
<li>QPtrVector::remove(uint) sets an item to be 0. This is <i>not</i> the same as QVector::removeAt(int), which entirely erases the item, reducing the size of the vector. Use <tt>vect[i] = 0</tt> to set a <a href="qvector.html">QVector</a> item to 0.</li>
<li>Likewise, QPtrVector::take(uint) sets an item to be 0 and returns the previous value of the item. Again, this is easy to achieve using QVector::operator[]().</li>
<li>QPtrVector::count() returns the number of non-null items in the vector, whereas <a href="qvector.html#count">QVector::count</a>() (like <a href="qvector.html#size">QVector::size</a>()) returns the number of items (null or non-null) in the vector. Fortunately, it's not too hard to simulate QPtrVector::count().<p>For example, if you have code like</p>
<pre><font color="#404040">     int numValidItems = vect.count();</font></pre>
<p>you can rewrite it as</p>
<pre>     int numValidItems = vect.size() - vect.count(0);</pre>
</li>
</ol>
<p>If you use <a href="qvector.html">QVector</a>'s auto-delete feature (by calling QVector::setAutoDelete(true)), you need to do some more work. You have two options: Either you call <tt>delete</tt> yourself whenever you remove an item from the container, or you use <a href="qvector.html">QVector</a>&lt;T&gt; instead of <a href="qvector.html">QVector</a>&lt;T *&gt; (i.e&#x2e; store values directly instead of pointers to values). Here, we'll see when to call <tt>delete</tt>.</p>
<p>The following table summarizes the idioms that you need to watch out for if you want to call <tt>delete</tt> yourself.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>QPtrVector idiom</th><th><a href="qvector.html">QVector</a> idiom</th></tr></thead>
<tr valign="top" class="odd"><td><pre>         vect.insert(i, ptr);</pre>
</td><td><pre>         delete vect[i];
         vect[i] = ptr;</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         vect.remove(i);</pre>
</td><td><pre>         delete vect[i];
         vect[i] = 0;</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         T *ptr = vect.take(i);</pre>
</td><td><pre>         T *ptr = vect[i];
         vect[i] = 0;</pre>
</td></tr>
<tr valign="top" class="even"><td><pre>         vect.resize(n)</pre>
</td><td><pre>         while (n &gt; vect.size())
             vect.append(0);
         while (n &lt; vect.size() {
             T *ptr = vect.last();
             vect.remove(vect.size() - 1);
             delete ptr;
         }</pre>
</td></tr>
<tr valign="top" class="odd"><td><pre>         vect.clear();</pre>
<p>(also called from QPtrVector's destructor)</p>
</td><td><pre>         for (int i = 0; i &lt; vect.size(); ++i)
             T *ptr = vect[i];
             vect[i] = 0;
             delete ptr;
         }</pre>
<p>In 99% of cases, the following idiom also works:</p>
<pre>         qDeleteAll(vect);
         vect.clear();</pre>
<p>However, it may lead to crashes if <tt>vect</tt> is referenced from the value type's destructor, because <tt>vect</tt> contains dangling pointers until clear() is called.</p>
</td></tr>
</table></p>
<p>Be aware that QPtrVector's destructor automatically calls clear(). If you have a QPtrVector data member in a custom class and use the auto-delete feature, you will need to call <tt>delete</tt> on all the items in the container from your class destructor to avoid a memory leak.</p>
<a name="qpushbutton"></a>
<h3>QPushButton</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qpushbutton.html">QPushButton</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qrangecontrol"></a>
<h3>QRangeControl</h3>
<p>In Qt 3, various &quot;range control&quot; widgets (<a href="qdial.html">QDial</a>, <a href="qscrollbar.html">QScrollBar</a>, <a href="qslider.html">QSlider</a>, and QSpin) inherited from both <a href="qwidget.html">QWidget</a> and <tt>QRangeControl</tt>.</p>
<p>In Qt 4, <tt>QRangeControl</tt> has been replaced with the new <a href="qabstractslider.html">QAbstractSlider</a> and <a href="qabstractspinbox.html">QAbstractSpinBox</a> classes, which inherit from <a href="qwidget.html">QWidget</a> and provides similar functionality. Apart from eliminating unnecessary multiple inheritance, the new design allows <a href="qabstractslider.html">QAbstractSlider</a> to provide signals, slots, and properties.</p>
<p>The old <tt>QRangeControl</tt> class has been renamed <a href="q3rangecontrol.html">Q3RangeControl</a> and moved to the <a href="qt3support.html">Qt3Support</a> library, together with the (undocumented) <tt>QSpinWidget</tt> class.</p>
<p>If you use <tt>QRangeControl</tt> as a base class in your application, you can switch to use <a href="qabstractslider.html">QAbstractSlider</a> or <a href="qabstractspinbox.html">QAbstractSpinBox</a> instead.</p>
<p>For example, if you have code like</p>
<pre><font color="#404040">     class VolumeControl : public QWidget, public QRangeControl
     {
         ..&#x2e;
     protected:
         void valueChange() {
             update();
             emit valueChanged(value());
         }
         void rangeChange() {
             update();
         }
         void stepChange() {
             update();
         }
     };</font></pre>
<p>you can rewrite it as</p>
<pre>     class VolumeControl : public QAbstractSlider
     {
         ...
     protected:
         void sliderChange(SliderChange change) {
             update();
             if (change == SliderValueChange)
                 emit valueChanged(value());
         }
     };</pre>
<a name="qregexp"></a>
<h3>QRegExp</h3>
<p>The search() and searchRev() functions have been renamed to indexIn() and lastIndexIn() respectively.</p>
<a name="qregion"></a>
<h3>QRegion</h3>
<p>The following changes have been made to <a href="qregion.html">QRegion</a> in Qt 4:</p>
<ul>
<li>There is no longer any difference between a <i>null</i> region and an <i>empty</i> region. Use isEmpty() in most places where you would have used a null <a href="qregion.html">QRegion</a>.</li>
<li><a href="qregion.html#rects">QRegion::rects</a>() used to return a QMemArray&lt;<a href="qrect.html">QRect</a>&gt;. It now returns a <a href="qvector.html">QVector</a>&lt;<a href="qrect.html">QRect</a>&gt;.</li>
</ul>
<a name="qscrollbar"></a>
<h3>QScrollBar</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qscrollbar.html">QScrollBar</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qscrollview"></a>
<h3>QScrollView</h3>
<p>The <tt>QScrollView</tt> class has been renamed <a href="q3scrollview.html">Q3ScrollView</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. It has been replaced by the <a href="qabstractscrollarea.html">QAbstractScrollArea</a> and <a href="qscrollarea.html">QScrollArea</a> classes.</p>
<p>Note that Qt 4 in general uses the <a href="qscrollarea.html#widget">QScrollArea::widget</a>() function where Qt 3 used QScrollView::viewport(). The rationale for this is that it is no longer possible to draw directly on a scroll area. The <a href="qscrollarea.html#widget">QScrollArea::widget</a>() function returns the widget set on the scroll area.</p>
<p><tt>QScrollView</tt> was designed to work around the 16-bit limitation on widget coordinates found on most window systems. In Qt 4, this is done transparently for <i>all</i> widgets, so there is no longer a need for such functionality in <tt>QScrollView</tt>. For that reason, the new <a href="qabstractscrollarea.html">QAbstractScrollArea</a> and <a href="qscrollarea.html">QScrollArea</a> classes are much more lightweight, and concentrate on handling scroll bars.</p>
<a name="qserversocket"></a>
<h3>QServerSocket</h3>
<p>The <tt>QServerSocket</tt> class has been renamed <a href="q3serversocket.html">Q3ServerSocket</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it has been replaced by <a href="qtcpserver.html">QTcpServer</a>.</p>
<p>With <a href="q3serversocket.html">Q3ServerSocket</a>, connections are accepted by reimplementing a virtual function (<a href="q3serversocket.html#newConnection">Q3ServerSocket::newConnection</a>()). With <a href="qtcpserver.html">QTcpServer</a>, on the other hand, you don't need to subclass. Instead, simply connect to the <a href="qtcpserver.html#newConnection">QTcpServer::newConnection</a>() signal.</p>
<a name="qsettings"></a>
<h3>QSettings</h3>
<p>The <a href="qsettings.html">QSettings</a> class has been rewritten to be more robust and to respect existing standards (e.g&#x2e;, the INI file format). The API has also been extensively revised. The old API is still provided when Qt 3 support is enabled.</p>
<p>Since the format and location of settings have changed between Qt 3 and Qt 4, the Qt 4 version of your application won't recognize settings written using Qt 3.</p>
<a name="qshared"></a>
<h3>QShared</h3>
<p>The <tt>QShared</tt> class has been obsoleted by the more powerful <a href="qshareddata.html">QSharedData</a> and <a href="qshareddatapointer.html">QSharedDataPointer</a> as a means of creating custom implicitly shared classes. It has been renamed <a href="q3shared.html">Q3Shared</a> moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>An easy way of porting to Qt 4 is to include this class into your project and to use it instead of <tt>QShared</tt>:</p>
<pre>         struct Shared
         {
             Shared() : count(1) {}
             void ref() { ++count; }
             bool deref() { return !--count; }
             uint count;
         };</pre>
<p>If possible, we recommend that you use <a href="qshareddata.html">QSharedData</a> and <a href="qshareddatapointer.html">QSharedDataPointer</a> instead. They provide thread-safe reference counting and handle all the reference counting behind the scenes, eliminating the risks of forgetting to increment or decrement the reference count.</p>
<a name="qsignal"></a>
<h3>QSignal</h3>
<p>The <a href="#qsignal">QSignal</a> class has been renamed to <a href="q3signal.html">Q3Signal</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. The preferred approach is to create your own <a href="qobject.html">QObject</a> subclass with a signal that has the desired signature. Alternatively, you can call <a href="qmetaobject.html#invokeMethod">QMetaObject::invokeMethod</a>() if you want to invoke a slot.</p>
<a name="qsimplerichtext"></a>
<h3>QSimpleRichText</h3>
<p><a href="#qsimplerichtext">QSimpleRichText</a> has been obsoleted by <a href="qtextdocument.html">QTextDocument</a>. It has bene renamed <a href="q3simplerichtext.html">Q3SimpleRichText</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>Previously, you would do the following with <a href="q3simplerichtext.html">Q3SimpleRichText</a>:</p>
<pre> // Declare the object
 QSimpleRichText richText(text, font);

 // Set the width of the paragraph to w
 richText.setWidth(w);

 // Or set a resonable default size
 richText.adjustSize();

 // Query for its used size
 int width = richText.widthUsed();
 int height = richText.height();

 // Draw
 richText.draw(painter, x, y, clipRect, colorGroup);</pre>
<p>However, with <a href="qtextdocument.html">QTextDocument</a>, you use the following code instead:</p>
<pre> // Declare the object
 QTextDocument doc;

 // If text is rich text, use setHtml()
 doc.setHtml(text);

 // Otherwise, use setPlainText()
 doc.setPlainText(text);

 // Set the width of the paragraph of text to w
 doc.setTextWidth(w);

 // Query for the used size
 int width = doc.idealWidth();
 int height = doc.size().height();

 // Draw
 painter.translate(x, y);
 doc.drawContents(painter, clipRect);

 // If you have a palette/colorgroup you can draw using lower-level functions:
 QAbstractTextDocumentLayout::PaintContext context;
 context.palette = myPalette;
 doc.documentLayout()-&gt;draw(painter, context);</pre>
<p>See <a href="richtext.html">Rich Text Processing</a> for an overview of the Qt 4 rich text classes.</p>
<a name="qslider"></a>
<h3>QSlider</h3>
<p>The QSlider::sliderStart() and QSlider::sliderRect() functions have been removed. You can retrieve this information using <a href="qabstractslider.html#sliderPosition-prop">QAbstractSlider::sliderPosition</a>() and QStyle::querySubControlMetrics(), respectively.</p>
<p>In addition, the direction of a vertical <a href="qslider.html">QSlider</a> has changed, i.e&#x2e; the bottom is now the minimum, and the top the maximum. You can use the <a href="qabstractslider.html#invertedAppearance-prop">QAbstractSlider::invertedAppearance</a> property to control this behavior.</p>
<p>See <a href="#properties">Properties</a> for a list of <a href="qslider.html">QSlider</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qsocket"></a>
<h3>QSocket</h3>
<p>The <tt>QSocket</tt> class has been renamed <a href="q3socket.html">Q3Socket</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, it has been replaced by the <a href="qtcpsocket.html">QTcpSocket</a> class, which inherits most of its functionality from <a href="qabstractsocket.html">QAbstractSocket</a>.</p>
<a name="qsocketdevice"></a>
<h3>QSocketDevice</h3>
<p>The <tt>QSocketDevice</tt> class has been renamed <a href="q3socketdevice.html">Q3SocketDevice</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, there is no direct equivalent to <a href="q3socketdevice.html">Q3SocketDevice</a>:</p>
<ul>
<li>If you use <a href="q3socketdevice.html">Q3SocketDevice</a> in a thread to perform blocking network I/O (a technique encouraged by the <i>Qt Quarterly</i> article <a href="http://doc.trolltech.com/qq/qq09-networkthread.html">Unblocking Networking</a>), you can now use <a href="qtcpsocket.html">QTcpSocket</a>, <a href="qftp.html">QFtp</a>, or <a href="qhttp.html">QHttp</a> instead, which can now be used from non-GUI threads.</li>
<li>If you use <a href="q3socketdevice.html">Q3SocketDevice</a> for UDP, you can now use <a href="qudpsocket.html">QUdpSocket</a> instead.</li>
<li>If you use <a href="q3socketdevice.html">Q3SocketDevice</a> for other uses, Qt 4 offers no alternative right now. However, there is a <tt>QAbstractSocketEngine</tt> internal class that offers a low-level socket API similar to <a href="q3socketdevice.html">Q3SocketDevice</a>. Should the need for such functionality arise in Qt 4 applications, we will consider making this class public in a future release.</li>
</ul>
<a name="qsortedlist"></a>
<h3>QSortedList</h3>
<p>The <a href="#qsortedlist">QSortedList</a>&lt;T&gt; class has been deprecated since Qt 3.0&#x2e; In Qt 4, it has been moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>In new code, we recommend that you use <a href="qlist.html">QList</a>&lt;T&gt; instead and use <a href="qtalgorithms.html#qSort">qSort</a>() to sort the items.</p>
<a name="qsplitter"></a>
<h3>QSplitter</h3>
<p>The function setResizeMode() has been moved into <a href="qt3support.html">Qt3Support</a>. Set the stretch factor in the widget's size policy to get equivalent functionality.</p>
<p>The obsolete function drawSplitter() has been removed. Use <a href="qstyle.html#drawPrimitive">QStyle::drawPrimitive</a>() to acheive similar functionality.</p>
<a name="qspinbox"></a>
<h3>QSpinBox</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qspinbox.html">QSpinBox</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qsqlcursor"></a>
<h3>QSqlCursor</h3>
<p>The <tt>QSqlCursor</tt> class has been renamed <a href="q3sqlcursor.html">Q3SqlCursor</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, you can use <a href="qsqlquery.html">QSqlQuery</a>, <a href="qsqlquerymodel.html">QSqlQueryModel</a>, or <a href="qsqltablemodel.html">QSqlTableModel</a>, depending on whether you want a low-level or a high-level interface for accessing databases.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qsqldatabase"></a>
<h3>QSqlDatabase</h3>
<p><a href="qsqldatabase.html">QSqlDatabase</a> is now a smart pointer that is passed around by value. Simply replace all <a href="qsqldatabase.html">QSqlDatabase</a> pointers by <a href="qsqldatabase.html">QSqlDatabase</a> objects.</p>
<a name="qsqleditorfactory"></a>
<h3>QSqlEditorFactory</h3>
<p>The <tt>QSqlEditorFactory</tt> class has been renamed <a href="q3sqleditorfactory.html">Q3SqlEditorFactory</a> and moved to <a href="qt3support.html">Qt3Support</a>.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qsqlerror"></a>
<h3>QSqlError</h3>
<p>The enum <tt>Type</tt> was renamed to <tt>ErrorType</tt>, The values were renamed as well:</p>
<ul>
<li>None - use NoError instead</li>
<li>Connection - use ConnectionError instead</li>
<li>Statement - use StatementError instead</li>
<li>Transaction - use TransactionError instead</li>
<li>Unknown - use UnknownError instead</li>
</ul>
<a name="qsqlfieldinfo"></a>
<h3>QSqlFieldInfo</h3>
<p>The <a href="#qsqlfieldinfo">QSqlFieldInfo</a> class has been moved to <a href="qt3support.html">Qt3Support</a>. Its functionality is now provided by the <a href="qsqlfield.html">QSqlField</a> class.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qsqlform"></a>
<h3>QSqlForm</h3>
<p>The <tt>QSqlForm</tt> class has been renamed <a href="q3sqlform.html">Q3SqlForm</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qsqlpropertymap"></a>
<h3>QSqlPropertyMap</h3>
<p>The <tt>QSqlPropertyMap</tt> class has been renamed <a href="q3sqlpropertymap.html">Q3SqlPropertyMap</a> moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qsqlquery"></a>
<h3>QSqlQuery</h3>
<p><a href="qsqlquery-qt3.html#prev">QSqlQuery::prev</a>() was renamed to <a href="qsqlquery.html#previous">QSqlQuery::previous</a>(). There is a function call for compatibility, but if you subclassed <a href="qsqlquery.html">QSqlQuery</a>, you have to reimplement previous() instead of prev().</p>
<a name="qsqlrecord"></a>
<h3>QSqlRecord</h3>
<p><a href="qsqlrecord.html">QSqlRecord</a> behaves like a vector now, <a href="qsqlrecord.html#insert">QSqlRecord::insert</a>() will actually insert a new field instead of replacing the existing one.</p>
<a name="qsqlrecordinfo"></a>
<h3>QSqlRecordInfo</h3>
<p>The <a href="#qsqlrecordinfo">QSqlRecordInfo</a> class has been moved to <a href="qt3support.html">Qt3Support</a>. Its functionality is now provided by the <a href="qsqlrecord.html">QSqlRecord</a> class.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qsqlselectcursor"></a>
<h3>QSqlSelectCursor</h3>
<p>The <tt>QSqlSelectCursor</tt> class has been renamed <a href="q3sqlselectcursor.html">Q3SqlSelectCursor</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="qtsql.html">QtSql Module</a> for an overview of the new SQL classes.</p>
<a name="qstoreddrag"></a>
<h3>QStoredDrag</h3>
<p>The <tt>QStoredDrag</tt> class has been renamed <a href="q3storeddrag.html">Q3StoredDrag</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="qmimedata.html">QMimeData</a> instead and call <a href="qmimedata.html#setData">QMimeData::setData</a>() to set the data.</p>
<p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.</p>
<a name="qstr-i-list"></a>
<h3>QStr(I)List</h3>
<p>The QStrList and QStrIList convenience classes have been deprecated since Qt 2.0&#x2e; In Qt 4, they have been moved to the <a href="qt3support.html">Qt3Support</a> library. If you used any of these, we recommend that you use <a href="qstringlist.html">QStringList</a> or <a href="qlist.html">QList</a>&lt;<a href="qbytearray.html">QByteArray</a>&gt; instead.</p>
<a name="qstr-i-vec"></a>
<h3>QStr(I)Vec</h3>
<p>The QStrVec and QStrIVec convenience classes have been deprecated since Qt 2.0&#x2e; In Qt 4, they have been moved to <a href="qt3support.html">Qt3Support</a>. If you used any of these, we recommend that you use <a href="qstringlist.html">QStringList</a> or <a href="qlist.html">QList</a>&lt;<a href="qbytearray.html">QByteArray</a>&gt; instead.</p>
<a name="qstring"></a>
<h3>QString</h3>
<p>Here are the main issues to be aware of when porting <a href="qstring.html">QString</a> to Qt 4:</p>
<ol type="1">
<li>The QString::QString(<a href="qchar.html">QChar</a>) constructor performed implicit conversion in Qt 3. Now, you will need a cast to convert a <a href="qchar.html">QChar</a> to a <a href="qstring.html">QString</a>.</li>
<li>The QString::QString(const <a href="qbytearray.html">QByteArray</a> &amp;) constructor used to stop at the first '\0' it encountered, for compatibility with Qt 1. This quirk has now been fixed; in Qt 4, the resulting <a href="qstring.html">QString</a> always has the same length as the <a href="qbytearray.html">QByteArray</a> that was passed to the constructor.</li>
<li>The <a href="qstring.html#null-var">QString::null</a> static constant has been deprecated in Qt 4. For compatibility, Qt 4 provides a <a href="qstring.html#null-var">QString::null</a> symbol that behaves more or less the same as the old constant. The new idiom is to write QString() instead of <a href="qstring.html#null-var">QString::null</a>, or to call clear().<p>For example, if you have code like</p>
<pre><font color="#404040">         str1 = QString::null;
         if (str2 == QString::null)
             do_something(QString::null);</font></pre>
<p>you can rewrite it as</p>
<pre>         str1.clear();
         if (str2.isNull())
             do_something(QString());</pre>
<p>In new code, we recommend that you don't rely on the distinction between a null string and a (non-null) empty string. See <a href="qstring.html#distinction-between-null-and-empty-strings">Distinction Between Null and Empty Strings</a> for details.</p>
</li>
<li><a href="qstring-qt3.html#latin1">QString::latin1</a>() and <a href="qstring-qt3.html#ascii">QString::ascii</a>() have been replaced with <a href="qstring.html#toLatin1">QString::toLatin1</a>() and <a href="qstring.html#toAscii">QString::toAscii</a>(), which return a <a href="qbytearray.html">QByteArray</a> instead of a (non-reentrant) <tt>const char *</tt>. For consistency, <a href="qstring-qt3.html#utf8">QString::utf8</a>() and <a href="qstring-qt3.html#local8Bit">QString::local8Bit</a>(), which already returned a <a href="qbytearray.html">QByteArray</a> (actually a <tt>QCString</tt>), have been renamed <a href="qstring.html#toUtf8">QString::toUtf8</a>() and <a href="qstring.html#toLocal8Bit">QString::toLocal8Bit</a>().<p>To obtain a <tt>const char *</tt> pointer to ASCII or Latin-1 data, use <a href="qstring.html#toAscii">QString::toAscii</a>() or <a href="qstring.html#toLatin1">QString::toLatin1</a>() to obtain a <a href="qbytearray.html">QByteArray</a> containing the data, then call <a href="qbytearray.html#constData">QByteArray::constData</a>() to access the character data directly. Note that the pointer returned by this function is only valid for the lifetime of the byte array; you should avoid taking a pointer to the data contained in temporary objects.</p>
<pre>         QString greeting = &quot;Hello&quot;;
         const char *badData = greeting.toAscii().constData(); // data is invalid
         QByteArray asciiData = greeting.toAscii();
         const char *goodData = asciiData.constData();</pre>
<p>In the above example, the <tt>goodData</tt> pointer is valid for the lifetime of the <tt>asciiData</tt> byte array. If you need to keep a copy of the data in a non-Qt data structure, use standard C memory allocation and string copying functions to do so <i>before</i> destroying the byte array.</p>
</li>
<li><a href="qstring.html#at">QString::at</a>() returned a non-const reference, whereas the new <a href="qstring.html#at">QString::at</a>() returns a const value. Code like<pre>         str.at(0) = 'X';</pre>
<p>will no longer compile. Instead, use QString::operator[]:</p>
<pre>         str[0] = 'X';</pre>
</li>
<li>The QString::contains(<i>x</i>) function (where <i>x</i> is a character or a string) has been renamed QString::count(<i>x</i>). In addition, there now exists a set of <a href="qstring.html#contains">QString::contains</a>() functions that returns a boolean value. Replace old calls to contains() with either count() or contains(), depending on whether you care about the specific number of occurrences of a character in the string or only care about whether the string contains that character or not.</li>
<li>Many functions in <a href="qstring.html">QString</a> had a <tt>bool</tt> parameter that specified case sensitivity. In Qt 4, in the interest of code readability and maintainability, the <tt>bool</tt> parameters have been replaced by the <a href="qt.html#CaseSensitivity-enum">Qt::CaseSensitivity</a> enum, which can take the values <a href="qt.html#CaseSensitivity-enum">Qt::CaseSensitive</a> and <a href="qt.html#CaseSensitivity-enum">Qt::CaseInsensitive</a>.<p>For example, if you have code like</p>
<pre><font color="#404040">         if (url.startsWith(&quot;http:&quot;, false))
             ..&#x2e;</font></pre>
<p>you can rewrite it as</p>
<pre>         if (url.startsWith(&quot;http:&quot;, Qt::CaseInsensitive))
             ...</pre>
</li>
<li>The QString::setExpand(uint, <a href="qchar.html">QChar</a>) function, which already was obsolete in Qt 3, is no longer available. Use QString::operator[] instead.<p>For example, if you have code like</p>
<pre><font color="#404040">         str.setExpand(32, '$');</font></pre>
<p>you can rewrite it as</p>
<pre>         str[32] = '$';</pre>
</li>
<li>The <tt>QT_NO_ASCII_CAST</tt> and <tt>QT_NO_CAST_ASCII</tt> macros have been renamed <tt>QT_NO_CAST_TO_ASCII</tt> and <tt>QT_NO_CAST_FROM_ASCII</tt>, respectively.</li>
<li>The <a href="qstring.html#data">QString::data</a>() used to return the same as <a href="qstring-qt3.html#ascii">QString::ascii</a>(). It now returns a pointer to the Unicode data stored in the <a href="qstring.html">QString</a> object. Call <a href="qstring-qt3.html#ascii">QString::ascii</a>() if you want the old behavior.</li>
<li><a href="qstring.html#arg">QString::arg</a>() now converts two-digit place markers, allowing up to 99 place markers to be used in any given string.</li>
<li>Comparisons between QStrings and <tt>NULL</tt> in order to determine whether strings are empty are no longer allowed. Use <a href="qstring.html#isEmpty">isEmpty()</a> instead.</li>
</ol>
<a name="qstringlist"></a>
<h3>QStringList</h3>
<p><a href="qstringlist.html">QStringList</a> now inherits from <a href="qlist.html">QList</a>&lt;<a href="qstring.html">QString</a>&gt; and can no longer be converted to a QValueList&lt;<a href="qstring.html">QString</a>&gt;. Since QValueList inherits <a href="qlist.html">QList</a> a cast will work as expected.</p>
<p>This change implies some API incompatibilities for <a href="qstringlist.html">QStringList</a>. For example, at() returns the string, not an iterator. See the <a href="#qvaluelist-section">section on QValueList</a> for details.</p>
<p>The static <a href="qstringlist-qt3.html#split">QStringList::split</a>() function for splitting strings into lists of smaller strings has been replaced by <a href="qstring.html#split">QString::split</a>(), which returns a <a href="qstringlist.html">QStringList</a>.</p>
<a name="qstyle"></a>
<h3>QStyle</h3>
<p>The <a href="qstyle.html">QStyle</a> API has been overhauled and improved. Most of the information on why this change was done is described in <a href="qt4-styles.html">the QStyle overview</a>.</p>
<p>Since <a href="qstyle.html">QStyle</a> is mostly used internally by Qt's widgets and styles and since it is not essential to the good functioning of an application, there is no compatibility path. This means that we have changed many enums and functions and the qt3to4 porting tool will not change much in your qstyle code. To ease the pain, we list some of the major changes here.</p>
<p><a href="qstyleoption.html">QStyleOption</a> has taken on a more central role and is no longer an optional argument, please see the <a href="qstyleoption.html">QStyleOption</a> documentation for more information.</p>
<p>The QStyle::StyleFlags have been renamed QStyle::StateFlags and are now prefixed State_ instead of Style_, in addition the Style_ButtonDefault flag has moved to <a href="qstyleoptionbutton.html">QStyleOptionButton</a>.</p>
<p>The <a href="qstyle.html#PrimitiveElement-enum">QStyle::PrimitiveElement</a> enumeration has undergone extensive change. Some of the enums were moved to <a href="qstyle.html#ControlElement-enum">QStyle::ControlElement</a>, some were removed and all were renamed. This renaming is not done by the qt3to4 porting tool, so you must do it yourself. The table below shows how things look now.</p>
<p><table align="center" cellpadding="2" cellspacing="1" border="0">
<thead><tr valign="top" class="qt-style"><th>Old name</th><th>New name</th><th>Remark</th></tr></thead>
<tr valign="top" class="odd"><td><tt>PE_ButtonCommand</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_PanelButtonCommand</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_ButtonDefault</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameDefaultButton</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_ButtonBevel</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_PanelButtonBevel</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_ButtonTool</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_PanelButtonTool</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_ButtonDropDown</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorButtonDropDown</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_FocusRect</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameFocusRect</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_ArrowUp</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorArrowUp</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_ArrowDown</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorArrowDown</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_ArrowRight</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorArrowRight</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_ArrowLeft</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorArrowLeft</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_SpinBoxUp</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorSpinUp</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_SpinBoxDown</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorSpinDown</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_SpinBoxPlus</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorSpinPlus</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_SpinBoxMinus</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorSpinMinus</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_SpinBoxSlider</tt></td><td>QStyle::CE_SpinBoxSlider</td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="even"><td><tt>PE_Indicator</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorCheckBox</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_IndicatorMask</tt></td><td>N/A</td><td>use <a href="qstyle.html#styleHint">QStyle::styleHint</a>() to retrieve mask</td></tr>
<tr valign="top" class="even"><td><tt>PE_ExclusiveIndicator</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorRadioButton</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_ExclusiveIndicatorMask</tt></td><td>N/A</td><td>use <a href="qstyle.html#styleHint">QStyle::styleHint</a>() to retrieve mask</td></tr>
<tr valign="top" class="even"><td><tt>PE_DockWindowHandle</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorToolBarHandle</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_DockWindowSeparator</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_Q3DockWindowSeparator</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_DockWindowResizeHandle</tt></td><td>QStyle::PE_IndicatorDockWindowResizeHandle</td></tr>
<tr valign="top" class="odd"><td><tt>PE_DockWindowTitle</tt></td><td>QStyle::CE_DockWindowTitle</td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="even"><td><tt>PE_Splitter</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_Splitter</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_Panel</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_Frame</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_PanelMenu</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameMenu</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_PanelMenuBar</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_PanelMenuBar</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_PanelDockWindow</tt></td><td>QStyle::PE_FrameDockWindow</td></tr>
<tr valign="top" class="odd"><td><tt>PE_TabBarBase</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameTabBarBase</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_HeaderSection</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_HeaderSection</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_HeaderArrow</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorHeaderArrow</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_StatusBarSection</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameStatusBar</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_Separator</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_Q3Separator</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_SizeGrip</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_SizeGrip</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_CheckMark</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorMenuCheckMark</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_ScrollBarAddLine</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarAddLine</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_ScrollBarSubLine</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarSubLine</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="even"><td><tt>PE_ScrollBarAddPage</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarAddPage</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_ScrollBarSubPage</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarSubPage</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="even"><td><tt>PE_ScrollBarSlider</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarSlider</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_ScrollBarFirst</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarFirst</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="even"><td><tt>PE_ScrollBarLast</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_ScrollBarLast</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_ProgressBarChunk</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorProgressChunk</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_PanelLineEdit</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameLineEdit</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_PanelTabWidget</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameTabWidget</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_WindowFrame</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameWindow</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_CheckListController</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_Q3CheckListController</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_CheckListIndicator</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_Q3CheckListIndicator</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_CheckListExclusiveIndicato\o</tt> <a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_Q3CheckListExclusiveIndicator</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_PanelGroupBox</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_FrameGroupBox</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_TreeBranch</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorBranch</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_RubberBand</tt></td><td><a href="qstyle.html#ControlElement-enum">QStyle::CE_RubberBand</a></td><td>uses <a href="qstyle.html#drawControl">QStyle::drawControl</a>()</td></tr>
<tr valign="top" class="odd"><td><tt>PE_PanelToolBar</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_PanelToolBar</a></td></tr>
<tr valign="top" class="even"><td><tt>PE_ToolBarHandle</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorToolBarHandle</a></td></tr>
<tr valign="top" class="odd"><td><tt>PE_ToolBarSeparator</tt></td><td><a href="qstyle.html#PrimitiveElement-enum">QStyle::PE_IndicatorToolBarSeparator</a></td></tr>
</table></p>
<p>The QStyle::drawControlMask() and QStyle::drawComplexControlMask() functions have been removed. They are replaced with a style hint.</p>
<p>The QStyle::drawItem() overloads that took both a pixmap and a string have been removed. Use <a href="qstyle.html#drawItemText">QStyle::drawItemText</a>() and <a href="qstyle.html#drawItemPixmap">QStyle::drawItemPixmap</a>() directly.</p>
<p>The QStyle::itemRect() overload that took both a pixmap and a string is also removed, use either <a href="qstyle.html#itemTextRect">QStyle::itemTextRect</a>() or <a href="qstyle.html#itemPixmapRect">QStyle::itemPixmapRect</a>() instead.</p>
<a name="qstylesheet"></a>
<h3>QStyleSheet</h3>
<p>The <a href="#qstylesheet">QStyleSheet</a> and QStyleSheetItem classes have been renamed <a href="q3stylesheet.html">Q3StyleSheet</a> and <a href="q3stylesheetitem.html">Q3StyleSheetItem</a>, and have been moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="richtext.html">Rich Text Processing</a> for an overview of the Qt 4 rich text classes, and <a href="stylesheet.html">Qt Style Sheets</a> for a description of CSS-like style sheet support in Qt 4.2 and above.</p>
<a name="qsyntaxhighlighter"></a>
<h3>QSyntaxHighlighter</h3>
<p>The <tt>QSyntaxHighlighter</tt> class from Qt 3 has been renamed <a href="q3syntaxhighlighter.html">Q3SyntaxHighlighter</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. Since Qt 4.1, it has been replaced by a new <a href="qsyntaxhighlighter.html">QSyntaxHighlighter</a> class based on Qt 4's new rich text engine.</p>
<a name="qtabbar"></a>
<h3>QTabBar</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qtabbar.html">QTabBar</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qtabdialog"></a>
<h3>QTabDialog</h3>
<p>The <tt>QTabDialog</tt> class is no longer part of the public Qt API. It has been renamed <a href="q3tabdialog.html">Q3TabDialog</a> and moved to <a href="qt3support.html">Qt3Support</a>. In Qt 4 applications, you can easily obtain the same result by combining a <a href="qtabwidget.html">QTabWidget</a> with a <a href="qdialog.html">QDialog</a> and provide <a href="qpushbutton.html">QPushButton</a>s yourself.</p>
<p>See also the <a href="dialogs-tabdialog.html">dialogs/tabdialog</a> example, which shows how to implement tab dialogs in Qt 4.</p>
<a name="qtabwidget"></a>
<h3>QTabWidget</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qtabwidget.html">QTabWidget</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qtable"></a>
<h3>QTable</h3>
<p>The <tt>QTable</tt>, <tt>QTableItem</tt>, <tt>QComboTableItem</tt>, <tt>QCheckTableItem</tt>, and <tt>QTableSelection</tt> classes have been renamed <a href="q3table.html">Q3Table</a>, <a href="q3tableitem.html">Q3TableItem</a>, <a href="q3combotableitem.html">Q3ComboTableItem</a>, <a href="q3checktableitem.html">Q3CheckTableItem</a>, and <a href="q3tableselection.html">Q3TableSelection</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. New Qt applications should use the new <a href="qtablewidget.html">QTableWidget</a> or <a href="qtableview.html">QTableView</a> class instead.</p>
<p>Some of these classes behave differently with respect to the way they handle <tt>NULL</tt> pointers. For example, <a href="q3tableitem.html#setPixmap">Q3TableItem::setPixmap</a>() no longer accepts <tt>NULL</tt> or 0 to indicate that the item should contain a null pixmap; in this case, a null pixmap should be constructed and passed explicitly to the function.</p>
<p>See <a href="model-view-programming.html">Model/View Programming</a> for an overview of the new item view classes.</p>
<a name="qtextcodec"></a>
<h3>QTextCodec</h3>
<p>The loadCharmap() and loadCharmapFromFile() functions are no longer available in Qt 4. You need to create your own codec if you want to create a codec based on a POSIX2 charmap definition.</p>
<a name="qtextdrag"></a>
<h3>QTextDrag</h3>
<p>The <tt>QTextDrag</tt> class has been renamed <a href="q3textdrag.html">Q3TextDrag</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="qmimedata.html">QMimeData</a> instead and call <a href="qmimedata.html#setText">QMimeData::setText</a>() to set the data.</p>
<p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.</p>
<a name="qtextedit"></a>
<h3>QTextEdit</h3>
<p>The old <a href="qtextedit.html">QTextEdit</a> and <a href="qtextbrowser.html">QTextBrowser</a> classes have been renamed <a href="q3textedit.html">Q3TextEdit</a> and <a href="q3textbrowser.html">Q3TextBrowser</a>, and have been moved to <a href="qt3support.html">Qt3Support</a>. The new <a href="qtextedit.html">QTextEdit</a> and <a href="qtextbrowser.html">QTextBrowser</a> have a somewhat different API.</p>
<p>The <tt>QTextEdit::setWrapPolicy()</tt> function has been renamed to <a href="qtextedit.html#wordWrapMode-prop">setWordWrapMode()</a> and the <tt>QTextEdit::setWrapColumnOrWidth()</tt> function has been renamed to <a href="qtextedit.html#lineWrapColumnOrWidth-prop">setLineWrapColumnOrWidth()</a>. The <a href="q3textedit.html#wrapPolicy-prop">Q3TextEdit::setWrapPolicy</a>() and <a href="q3textedit.html#wrapColumnOrWidth-prop">Q3TextEdit::setWrapColumnOrWidth</a>() still provide this functionality in the <a href="q3textedit.html">Q3TextEdit</a> class.</p>
<p>See <a href="richtext.html">Rich Text Processing</a> for an overview of the Qt 4 rich text classes.</p>
<a name="qtextistream"></a>
<h3>QTextIStream</h3>
<p>The <a href="qtextistream.html">QTextIStream</a> convenience class is no longer provided in Qt 4. Use <a href="qtextstream.html">QTextStream</a> directly instead.</p>
<a name="qtextostream"></a>
<h3>QTextOStream</h3>
<p>The <a href="qtextostream.html">QTextOStream</a> convenience class is no longer provided in Qt 4. Use <a href="qtextstream.html">QTextStream</a> directly instead.</p>
<a name="qtextostreamiterator"></a>
<h3>QTextOStreamIterator</h3>
<p>The undocumented <tt>QTextOStreamIterator</tt> class has been removed from the Qt library. If you need it in your application, feel free to copy the source code from the Qt 3 <tt>&lt;qtl.h&gt;</tt> header file.</p>
<a name="qtextstream"></a>
<h3>QTextStream</h3>
<p><a href="qtextstream.html">QTextStream</a> has undergone a number of API and implementation enhancements, and some of the changes affect <a href="qtextstream.html">QTextStream</a>'s behavior:</p>
<ul>
<li><a href="qtextstream.html">QTextStream</a> now uses buffered writing, which means that you need to call <a href="qtextstream.html#flush">QTextStream::flush</a>(), or use the streaming manipulators <tt>endl</tt> or <tt>flush</tt> if you need <a href="qtextstream.html">QTextStream</a> to flush its write buffer. The stream is flushed automatically if <a href="qtextstream.html">QTextStream</a> is deleted or when the device is closed.</li>
<li><a href="qtextstream.html">QTextStream</a> now uses buffered reading, so if you read a line from the stream, <a href="qtextstream.html">QTextStream</a> will read as much as it can from the device to fill up its internal read buffer. This speeds up reading significantly, but Qt 3 code that mixed <a href="qtextstream.html">QTextStream</a> access and direct device access may need to be updated.</li>
<li>While <a href="qtextstream.html">QTextStream</a> in Qt 3 always translated end-of-line characters from Windows style (&quot;\r\n&quot;) to Unix style (&quot;\n&quot;) on Windows, <a href="qtextstream.html">QTextStream</a> in Qt 4 only does this on devices opened with the <tt>QIODevice::Text</tt> mode (formerly <tt>IO_Translate</tt>).</li>
</ul>
<p>Note that when using a <a href="qtextstream.html">QTextStream</a> on a <a href="qfile.html">QFile</a> in Qt 4, calling <a href="qiodevice.html#reset">QIODevice::reset</a>() on the <a href="qfile.html">QFile</a> will not have the expected result because <a href="qtextstream.html">QTextStream</a> now buffers the file. Use the <a href="qtextstream.html#seek">QTextStream::seek</a>() function instead.</p>
<a name="qtextview"></a>
<h3>QTextView</h3>
<p>The <tt>QTextView</tt> class has been renamed <a href="q3textview.html">Q3TextView</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<a name="qtimeedit"></a>
<h3>QTimeEdit</h3>
<p>The <a href="qtimeedit.html">QTimeEdit</a> class in Qt 4 is a convenience class based on <a href="qdatetimeedit.html">QDateTimeEdit</a>. The old class has been renamed <a href="q3timeedit.html">Q3TimeEdit</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>See <a href="porting4-virtual-functions.html">Virtual Functions</a> for a list of <tt>QTimeEdit</tt> virtual member functions in Qt 3 that are no longer virtual in Qt 4.</p>
<a name="qtimer"></a>
<h3>QTimer</h3>
<p>Windows restricts the granularity of timers, but starting with Qt 4, we emulate a finer time resolution. On Windows XP we use the multimedia timer API, which gives us 1 millisecond resolution for <a href="qtimer.html">QTimer</a>.</p>
<p>Note that other versions of Windows have a lower timer resolution, and that code relying on underlying system timer restrictions encounters no such limitations using Qt 4 (e.g&#x2e;, setting an interval of 0 millisecond results in Qt occupying all of the processor time when no GUI events need processing).</p>
<a name="qtoolbar"></a>
<h3>QToolBar</h3>
<p>The old <tt>QToolBar</tt> class, which worked with the old <tt>QMainWindow</tt> and <tt>QDockArea</tt> classes and inherited from <tt>QDockWindow</tt>, has been renamed <a href="q3toolbar.html">Q3ToolBar</a> and moved to <a href="qt3support.html">Qt3Support</a>. Note that, when using <a href="q3toolbar.html">Q3ToolBar</a>, the toolbar's actions must be <a href="q3action.html">Q3Action</a>s.</p>
<p>Use the new <a href="qtoolbar.html">QToolBar</a> class in new applications.</p>
<p><b>Note:</b> <a href="q3toolbar.html">Q3ToolBar</a>'s <a href="q3dockwindow.html#horizontallyStretchable-prop">horizontallyStretchable</a> property can be achieved in <a href="qtoolbar.html">QToolBar</a> with <a href="qwidget.html#size-hints-and-size-policies">size policies</a>.</p>
<a name="qtoolbutton"></a>
<h3>QToolButton</h3>
<p>See <a href="#properties">Properties</a> for a list of <a href="qtoolbutton.html">QToolButton</a> properties in Qt 3 that have changed in Qt 4.</p>
<p>Note that many of the properties that could previously be set in the constructor must now be set separately.</p>
<a name="qtooltip"></a>
<h3>QToolTip</h3>
<p>The QToolTip::setGloballyEnabled() function no longer exists. Tooltips can be disabled by <a href="qobject.html#installEventFilter">installing an event filter</a> on <a href="qapplication.html#qApp">qApp</a> (the unique <a href="qapplication.html">QApplication</a> object) to block events of type <a href="qevent.html#Type-enum">QEvent::ToolTip</a>.</p>
<a name="quridrag"></a>
<h3>QUriDrag</h3>
<p>The <tt>QUriDrag</tt> class has been renamed <a href="q3uridrag.html">Q3UriDrag</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. In Qt 4, use <a href="qmimedata.html">QMimeData</a> instead and call QMimeData::setUrl() to set the URL.</p>
<p>See <a href="porting4-dnd.html">Porting to Qt 4 - Drag and Drop</a> for a comparison between the drag and drop APIs in Qt 3 and Qt 4.</p>
<a name="qurl"></a>
<h3>QUrl</h3>
<p>The <a href="qurl.html">QUrl</a> class has been rewritten from scratch in Qt 4 to be more standard-compliant. The old <a href="qurl.html">QUrl</a> class has been renamed <a href="q3url.html">Q3Url</a> and moved to the <a href="qt3support.html">Qt3Support</a> library.</p>
<p>The new <a href="qurl.html">QUrl</a> class provides an extensive list of compatibility functions to ease porting from <a href="q3url.html">Q3Url</a> to <a href="qurl.html">QUrl</a>. A few functions require you to change your code:</p>
<ul>
<li>Q3Url::Q3Url(const <a href="q3url.html">Q3Url</a> &amp;, const <a href="qstring.html">QString</a> &amp;, bool) can be simulated by combining the URLs manually (using QString::operator+(), for example).</li>
<li>Q3Url::setEncodedPathAndQuery(const <a href="qstring.html">QString</a> &amp;) is replaced by <a href="qurl.html#setPath">QUrl::setPath</a>() and <a href="qurl.html#setEncodedQuery">QUrl::setEncodedQuery</a>().</li>
<li><a href="q3url.html#encodedPathAndQuery">Q3Url::encodedPathAndQuery</a>() is replaced by <a href="qurl.html#pathx">QUrl::path</a>() and <a href="qurl.html#encodedQuery">QUrl::encodedQuery</a>().</li>
<li><a href="q3url.html#isLocalFile">Q3Url::isLocalFile</a>() can be simulated by checking that <a href="qurl-qt3.html#protocol">QUrl::protocol</a>() is &quot;file&quot;.</li>
<li>Q3Url::toString(bool, bool) is replaced by QUrl::toString(int), where the <tt>int</tt> parameter specifies a combination of <a href="qurl.html#FormattingOption-enum">formatting options</a>.</li>
</ul>
<a name="qurloperator"></a>
<h3>QUrlOperator</h3>
<p>The <tt>QUrlOperator</tt> class is no longer part of the public Qt API. It has been renamed <a href="q3urloperator.html">Q3UrlOperator</a> and moved to <a href="qt3support.html">Qt3Support</a>.</p>
<p>In Qt 4 applications, you can use classes like <a href="qftp.html">QFtp</a> and <a href="qhttp.html">QHttp</a> directly to perform file-related actions on a remote host.</p>
<a name="qvaluelist-section"></a><a name="qvaluelist-t"></a>
<h3>QValueList&lt;T&gt;</h3>
<p>The QValueList&lt;T&gt; class has been replaced by <a href="qlist.html">QList</a>&lt;T&gt; and <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt; in Qt 4. As a help when porting older Qt applications, the <a href="qt3support.html">Qt3Support</a> library contains a QValueList&lt;T&gt; class implemented in terms of the new <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt;. Similarly, it contains QValueListIterator&lt;T&gt; and QValueListConstIterator&lt;T&gt; classes implemented in terms of <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt;::iterator and <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt;::const_iterator.</p>
<p>When porting to Qt 4, you have the choice of using <a href="qlist.html">QList</a>&lt;T&gt; or <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt; as alternatives to QValueList&lt;T&gt;. <a href="qlist.html">QList</a>&lt;T&gt; has an index-based API and provides very fast random access (QList::operator[]), whereas <a href="qlinkedlist.html">QLinkedList</a>&lt;T&gt; has an iterator-based API.</p>
<p>Here's a list of problem functions:</p>
<ul>
<li>QValueList(const std::list&lt;T&gt; &amp;) doesn't exist in <a href="qlist.html">QList</a> or <a href="qlinkedlist.html">QLinkedList</a>. You can simulate it by calling <a href="qlinkedlist.html#append">append()</a> in a loop.</li>
<li>QValueList::insert(iterator, size_type, const T&amp; x) doesn't exist in <a href="qlist.html">QList</a> or <a href="qlinkedlist.html">QLinkedList</a>. Call <a href="qlinkedlist.html#insert">insert()</a> repeatedly instead.</li>
<li>QValueList::fromLast() doesn't exist in <a href="qlist.html">QList</a> or <a href="qlinkedlist.html">QLinkedList</a>. Use QValueList::end() instead.<p>For example, if you have code like</p>
<pre><font color="#404040">     for (QValueList&lt;T&gt;::iterator i = list.fromLast(); i != list.begin(); --i)
         do_something(*i);</font></pre>
<p>you can rewrite it as</p>
<pre>     QLinkedList&lt;T&gt;::iterator i = list.end();
     while (i != list.begin()) {
         --i; <span class="comment">//</span> decrement i before using it
         do_something(*i);
     }</pre>
</li>
<li>QValueList::append() and QValueList::prepend() return an iterator to the inserted item. <a href="qlist.html">QList</a>'s and <a href="qlinkedlist.html">QLinkedList</a>'s corresponding functions don't, but it's not a problem because QValueList::prepend() always returns begin() and append() always returns QValueList::end() - 1.</li>
<li>QValueList::at(<i>i</i>) return an iterator to the item at index <i>i</i>. This corresponds to <a href="qlist.html#begin">QList::begin</a>() + <i>i</i>.</li>
<li>QValueList::contains(const T &amp;) corresponds to QList::count(const T &amp;) and QLinkedList::count(const T &amp;).</li>
</ul>
<a name="qvaluevector-t"></a>
<h3>QValueVector&lt;T&gt;</h3>
<p>The QValueVector&lt;T&gt; class has been replaced by <a href="qvector.html">QVector</a>&lt;T&gt; in Qt 4. As a help when porting older Qt applications, the <a href="qt3support.html">Qt3Support</a> library contains a <a href="q3valuevector.html">Q3ValueVector</a>&lt;T&gt; class implemented in terms of the new <a href="qvector.html">QVector</a>&lt;T&gt;.</p>
<p>When porting from QValueVector&lt;T&gt; to <a href="qvector.html">QVector</a>&lt;T&gt;, you might run into the following incompatibilities:</p>
<ul>
<li>QValueVector(const std::vector&lt;T&gt; &amp;) doesn't exist in <a href="qvector.html">QVector</a>. You can simulate it by calling <a href="qvector.html#append">QVector::append</a>()} in a loop.</li>
<li>QValueVector::resize(int, const T &amp;) doesn't exist in <a href="qvector.html">QVector</a>. If you want the new items to be initialized with a particular value, use <a href="qvector.html#insert">QVector::insert</a>() instead.</li>
<li>QValueVector::at() on a non-const vector returns a non-const reference. This corresponds to QVector::operator[]().</li>
<li>Both QValueVector::at() functions have an <i>ok</i> parameter of type <tt>bool *</tt> that is set to true if the index is within bounds. This functionality doesn't exist in <a href="qvector.html">QVector</a>; instead, check the index against <a href="qvector.html#size">QVector::size</a>() yourself.</li>
</ul>
<p>See <a href="containers.html">Generic Containers</a> for an overview of the Qt 4 container classes.</p>
<a name="qvariant"></a>
<h3>QVariant</h3>
<p>Some changes to the rest of the Qt library have implications on <a href="qvariant.html">QVariant</a>:</p>
<ol type="1">
<li>The <tt>QVariant::ColorGroup</tt> enum value is defined only if <tt>QT3_SUPPORT</tt> is defined.</li>
<li>The <tt>QVariant::IconSet</tt> enum value has been renamed <a href="qvariant.html#Type-enum">QVariant::Icon</a>.</li>
<li>The <tt>QVariant::CString</tt> enum value is now a synonym for <a href="qvariant.html#Type-enum">QVariant::ByteArray</a>.</li>
</ol>
<p>Also, the <a href="qvariant.html">QVariant</a>(bool, int) constructor has been replaced by <a href="qvariant.html">QVariant</a>(bool). Old code like <a href="qvariant.html">QVariant</a>(true, 0) should be replaced with <a href="qvariant.html">QVariant</a>(true); otherwise, the <a href="qvariant.html">QVariant</a>(int, void *) overload might accidentally be triggered.</p>
<a name="qvbox"></a>
<h3>QVBox</h3>
<p>The <tt>QVBox</tt> class is now only available as <a href="q3vbox.html">Q3VBox</a> in Qt 4. You can achieve the same result as <tt>QVBox</tt> by creating a <a href="qwidget.html">QWidget</a> with a vertical layout:</p>
<p>For example, if you have code like</p>
<pre><font color="#404040"> QVBox *vbox = new QVBox;
 QPushButton *child1 = new QPushButton(vbox);
 QPushButton *child2 = new QPushButton(vbox);</font></pre>
<p>you can rewrite it as</p>
<pre> QWidget *vbox = new QWidget;
 QPushButton *child1 = new QPushButton;
 QPushButton *child2 = new QPushButton;

 QVBoxLayout *layout = new QVBoxLayout;
 layout-&gt;addWidget(child1);
 layout-&gt;addWidget(child2);
 vbox-&gt;setLayout(layout);</pre>
<p>Note that child widgets are not automatically placed into the widget's layout; you will need to manually add each widget to the <a href="qvboxlayout.html">QVBoxLayout</a>.</p>
<a name="qvgroupbox"></a>
<h3>QVGroupBox</h3>
<p>The <tt>QVGroupBox</tt> class has been renamed <a href="q3vgroupbox.html">Q3VGroupBox</a> and moved to the <a href="qt3support.html">Qt3Support</a> library. Qt 4 does not provide a specific replacement class for <tt>QVGroupBox</tt> since <a href="qgroupbox.html">QGroupBox</a> is designed to be a generic container widget. As a result, you need to supply your own layout for any child widgets.</p>
<p>See <a href="#qgroupbox">#QGroupBox</a> for more information about porting code that uses group boxes.</p>
<a name="qwhatsthis"></a>
<h3>QWhatsThis</h3>
<p>The <a href="qwhatsthis.html">QWhatsThis</a> class has been redesigned in Qt 4. The old <tt>QWhatsThis</tt> class is available as <a href="q3whatsthis.html">Q3WhatsThis</a> in <a href="qt3support.html">Qt3Support</a>.</p>
<a name="qwidget"></a>
<h3>QWidget</h3>
<p>Widget background painting has been greatly improved, supporting flicker-free updates and making it possible to have semi-transparent widgets. This renders the following background handling functions obsolete:</p>
<ul>
<li>QWidget::repaint(bool noErase) - the <tt>noErase</tt> boolean parameter is gone</li>
<li>QWidget::setBackgroundMode(BackgroundMode m)</li>
<li>QWidget::backgroundBrush() const</li>
<li>QWidget::setBackgroundPixmap(const <a href="qpixmap.html">QPixmap</a> &amp;pm)</li>
<li>QWidget::backgroundPixmap() const</li>
<li>QWidget::setBackgroundColor(const <a href="qcolor.html">QColor</a> &amp;c)</li>
<li>QWidget::backgroundColor() const</li>
<li>QWidget::foregroundColor() const</li>
<li>QWidget::eraseColor() const</li>
<li>QWidget::setEraseColor(const <a href="qcolor.html">QColor</a> &amp;c)</li>
<li>QWidget::erasePixmap() const</li>
<li>QWidget::setErasePixmap(const <a href="qpixmap.html">QPixmap</a> &amp;p)</li>
<li>QWidget::paletteForegroundColor()</li>
<li>QWidget::setPaletteForegroundColor(const <a href="qcolor.html">QColor</a> &amp;c)</li>
<li>QWidget::paletteBackgroundColor()</li>
<li>QWidget::setPaletteBackgroundColor(const <a href="qcolor.html">QColor</a> &amp;c)</li>
<li>QWidget::paletteBackgroundPixmap() const</li>
<li>QWidget::setPaletteBackgroundPixmap(const <a href="qpixmap.html">QPixmap</a> &amp;p)</li>
<li><a href="qwidget-qt3.html#erase">QWidget::erase</a>()</li>
<li>QWidget::erase(const <a href="qrect.html">QRect</a> &amp;r)</li>
<li>QWidget::setBackgroundOrigin( BackgroundOrigin )</li>
<li><a href="qwidget-qt3.html#BackgroundOrigin-enum">QWidget::BackgroundOrigin</a> backgroundOrigin() const</li>
<li><a href="qwidget-qt3.html#backgroundOffset">QWidget::backgroundOffset</a>()</li>
</ul>
<p>A widget now receives change events in its <a href="qwidget.html#changeEvent">QWidget::changeEvent</a>() handler. This makes the following virtual change handlers obsolete:</p>
<ul>
<li>QWidget::styleChange - use <a href="qevent.html#Type-enum">QEvent::StyleChange</a></li>
<li>QWidget::enabledChange - use <a href="qevent.html#Type-enum">QEvent::EnabledChange</a></li>
<li>QWidget::paletteChange - use <a href="qevent.html#Type-enum">QEvent::PaletteChange</a></li>
<li>QWidget::fontChange - use <a href="qevent.html#Type-enum">QEvent::FontChange</a></li>
<li>QWidget::windowActivationChange - use <a href="qevent.html#Type-enum">QEvent::ActivationChange</a></li>
<li>QWidget::languageChange - use <a href="qevent.html#Type-enum">QEvent::LanguageChange</a></li>
</ul>
<p>The following functions were slots, but are no more:</p>
<ul>
<li><a href="qwidget.html#clearFocus">QWidget::clearFocus</a>()</li>
<li><a href="qwidget.html#mouseTracking-prop">QWidget::setMouseTracking</a>()</li>
<li>QWidget::stackUnder(<a href="qwidget.html">QWidget</a>*)</li>
<li>QWidget::move(int x, int y)</li>
<li>QWidget::move(const <a href="qpoint.html">QPoint</a> &amp;)</li>
<li>QWidget::resize(int w, int h)</li>
<li>QWidget::resize(const <a href="qsize.html">QSize</a> &amp;)</li>
<li>QWidget::setGeometry(int x, int y, int w, int h)</li>
<li>QWidget::setGeometry(const <a href="qrect.html">QRect</a> &amp;)</li>
<li><a href="qwidget.html#adjustSize">QWidget::adjustSize</a>()</li>
<li>QWidget::update(int x, int y, int w, int h)</li>
<li>QWidget::update(const <a href="qrect.html">QRect</a>&amp;)</li>
<li>QWidget::repaint(bool erase)</li>
<li>QWidget::repaint(int x, int y, int w, int h, bool erase)</li>
<li>QWidget::repaint(const <a href="qrect.html">QRect</a> &amp;, bool erase)</li>
<li>QWidget::repaint(const <a href="qregion.html">QRegion</a> &amp;, bool erase)</li>
<li>QWidget::setCaption(const <a href="qstring.html">QString</a> &amp;)</li>
<li>QWidget::setIcon(const <a href="qpixmap.html">QPixmap</a> &amp;)</li>
<li>QWidget::setIconText(const <a href="qstring.html">QString</a> &amp;)</li>
</ul>
<p>The following functions were incorrectly marked as virtual:</p>
<ul>
<li>QWidget::close(bool alsoDelete)</li>
<li>QWidget::create(WId, bool, bool)</li>
<li>QWidget::destroy(bool)</li>
<li>QWidget::move(int x, int y)</li>
<li>QWidget::reparent(<a href="qwidget.html">QWidget</a> *parent, WFlags, const <a href="qpoint.html">QPoint</a> &amp;, bool)</li>
<li>QWidget::resize(int w, int h)</li>
<li>QWidget::setAcceptDrops(bool on)</li>
<li><a href="qwidget-qt3.html#setActiveWindow">QWidget::setActiveWindow</a>()</li>
<li>QWidget::setAutoMask(bool)</li>
<li>QWidget::setBackgroundColor(const <a href="qcolor.html">QColor</a> &amp;)</li>
<li>QWidget::setBackgroundMode(BackgroundMode)</li>
<li>QWidget::setBackgroundOrigin(BackgroundOrigin)</li>
<li>QWidget::setBackgroundPixmap(const <a href="qpixmap.html">QPixmap</a> &amp;)</li>
<li>QWidget::setCaption(const <a href="qstring.html">QString</a> &amp;)</li>
<li>QWidget::setCursor(const <a href="qcursor.html">QCursor</a> &amp;)</li>
<li>QWidget::setEnabled(bool)</li>
<li>QWidget::setEraseColor(const <a href="qcolor.html">QColor</a> &amp;)</li>
<li>QWidget::setErasePixmap(const <a href="qpixmap.html">QPixmap</a> &amp;)</li>
<li><a href="qwidget.html#setFocus">QWidget::setFocus</a>()</li>
<li>QWidget::setFocusPolicy(FocusPolicy)</li>
<li>QWidget::setFocusProxy(<a href="qwidget.html">QWidget</a> *)</li>
<li>QWidget::setFont(const <a href="qfont.html">QFont</a> &amp;)</li>
<li>QWidget::setGeometry(const <a href="qrect.html">QRect</a> &amp;)</li>
<li>QWidget::setGeometry(int x, int y, int w, int h)</li>
<li>QWidget::setIcon(const <a href="qpixmap.html">QPixmap</a> &amp;)</li>
<li>QWidget::setIconText(const <a href="qstring.html">QString</a> &amp;)</li>
<li>QWidget::setKeyCompression(bool)</li>
<li>QWidget::setMask(const <a href="qbitmap.html">QBitmap</a> &amp;)</li>
<li>QWidget::setMask(const <a href="qregion.html">QRegion</a> &amp;)</li>
<li>QWidget::setMaximumSize(int maxw, int maxh)</li>
<li>QWidget::setMicroFocusHint(int x, int y, int w, int h, bool, <a href="qfont.html">QFont</a> *f)</li>
<li>QWidget::setMinimumSize(int minw, int minh)</li>
<li>QWidget::setMouseTracking(bool enable)</li>
<li>QWidget::setPalette(const <a href="qpalette.html">QPalette</a> &amp;)</li>
<li>QWidget::setPaletteBackgroundColor(const <a href="qcolor.html">QColor</a> &amp;)</li>
<li>QWidget::setPaletteBackgroundPixmap(const <a href="qpixmap.html">QPixmap</a> &amp;)</li>
<li>QWidget::setSizeIncrement(int w, int h)</li>
<li>QWidget::setSizePolicy(<a href="qsizepolicy.html">QSizePolicy</a>)</li>
<li>QWidget::setUpdatesEnabled(bool enable)</li>
<li>QWidget::setWState(uint)</li>
<li><a href="qwidget.html#show">QWidget::show</a>()</li>
<li><a href="qwidget.html#showFullScreen">QWidget::showFullScreen</a>()</li>
<li><a href="qwidget.html#showMaximized">QWidget::showMaximized</a>()</li>
<li><a href="qwidget.html#showMinimized">QWidget::showMinimized</a>()</li>
<li><a href="qwidget.html#showNormal">QWidget::showNormal</a>()</li>
<li><a href="qwidget.html#cursor-prop">QWidget::unsetCursor</a>()</li>
</ul>
<p>The internal clearWState() function was removed. Use <a href="qwidget.html#setWindowState">QWidget::setWindowState</a>() instead.</p>
<p>setWFlags() was renamed <a href="qwidget.html#windowFlags-prop">QWidget::setWindowFlags</a>().</p>
<p>See <a href="#properties">Properties</a> for a list of <a href="qwidget.html">QWidget</a> properties in Qt 3 that have changed in Qt 4.</p>
<a name="qwidgetfactory"></a>
<h3>QWidgetFactory</h3>
<p>The <tt>QWidgetFactory</tt> class has been replaced by <a href="qformbuilder.html">QFormBuilder</a> in Qt 4.</p>
<a name="qwidgetintdict"></a>
<h3>QWidgetIntDict</h3>
<p>The <a href="#qwidgetintdict">QWidgetIntDict</a> class was a synonym for QIntDict&lt;<a href="qwidget.html">QWidget</a>&gt;. It is no longer available in Qt 4. If you link against <a href="qt3support.html">Qt3Support</a>, you can use QIntDict&lt;<a href="qwidget.html">QWidget</a>&gt; instead; otherwise, see the <a href="#qdict-section">section on QDict&lt;T&gt;</a>.</p>
<a name="qwidgetlist-section"></a><a name="qwidgetlist"></a>
<h3>QWidgetList</h3>
<p>In Qt 3, the <a href="qwidget.html#QWidgetList-typedef">QWidgetList</a> class was a typedef for QPtrList&lt;<a href="qwidget.html">QWidget</a>&gt;. In Qt 4, it is a typedef for <a href="qlist.html">QList</a>&lt;<a href="qwidget.html">QWidget</a> *&gt;. See the <a href="#qptrlist-section">section on QPtrList&lt;T&gt;</a>.</p>
<a name="qwidgetplugin"></a>
<h3>QWidgetPlugin</h3>
<p>The <a href="#qwidgetplugin">QWidgetPlugin</a> class is no longer available in Qt 4. To create custom widget plugins, subclass <a href="qdesignercustomwidgetinterface.html">QDesignerCustomWidgetInterface</a> to provide information about the custom widget, and build a plugin in the way described in the <a href="designer-customwidgetplugin.html">Custom Widget Plugin</a> example.</p>
<a name="qwidgetstack"></a>
<h3>QWidgetStack</h3>
<p>The <a href="#qwidgetstack">QWidgetStack</a> class is no longer part of the Qt public API. It has been renamed <a href="q3widgetstack.html">Q3WidgetStack</a> and moved to <a href="qt3support.html">Qt3Support</a>. In Qt 4 applications, you can use <a href="qstackedwidget.html">QStackedWidget</a> instead to obtain the same results.</p>
<a name="qwizard"></a>
<h3>QWizard</h3>
<p>The <tt>QWizard</tt> class was reintroduced in Qt 4.3&#x2e; See the <a href="dialogs-trivialwizard.html">Trivial Wizard Example</a>, <a href="dialogs-licensewizard.html">License Wizard Example</a> and <a href="dialogs-classwizard.html">Class Wizard Example</a> for more details.</p>
<a name="qworkspace"></a>
<h3>QWorkspace</h3>
<p>The <tt>QWorkspace</tt> in Qt 4 class requires explicit adding of MDI windows with <a href="qworkspace.html#addWindow">QWorkspace::addWindow</a>().</p>
<p>
[Previous: <a href="porting.html">Porting Guides</a>]
[<a href="porting.html">Contents</a>]
[Next: <a href="porting4-virtual-functions.html">Porting to Qt 4 - Virtual Functions</a>]
</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td width="30%" align="right"><div align="right">Qt 4.4.0</div></td>
</tr></table></div></address></body>
</html>
