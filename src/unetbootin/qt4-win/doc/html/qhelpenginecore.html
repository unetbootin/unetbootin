<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<!-- /fasttmp/mkdist-qt-4.4.0-1209388211/qt-win-opensource-src-4.4.0/tools/assistant/lib/qhelpenginecore.cpp -->
<head>
  <title>Qt 4.4: QHelpEngineCore Class Reference</title>
  <link href="classic.css" rel="stylesheet" type="text/css" />
</head>
<body>
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://www.trolltech.com/products/qt"><img src="images/qt-logo.png" align="left" width="32" height="32" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td><td class="postheader" valign="center"><a href="index.html"><font color="#004faf">Home</font></a>&nbsp;&middot; <a href="classes.html"><font color="#004faf">All&nbsp;Classes</font></a>&nbsp;&middot; <a href="mainclasses.html"><font color="#004faf">Main&nbsp;Classes</font></a>&nbsp;&middot; <a href="groups.html"><font color="#004faf">Grouped&nbsp;Classes</font></a>&nbsp;&middot; <a href="modules.html"><font color="#004faf">Modules</font></a>&nbsp;&middot; <a href="functions.html"><font color="#004faf">Functions</font></a></td>
<td align="right" valign="top" width="230"><a href="http://www.trolltech.com"><img src="images/trolltech-logo.png" align="right" width="203" height="32" border="0" /></a></td></tr></table><h1 class="title">QHelpEngineCore Class Reference<br /><span class="small-subtitle">[<a href="qthelp.html">QtHelp</a> module]</span>
</h1>
<p>The QHelpEngineCore class provides the core functionality of the help system. <a href="#details">More...</a></p>
<pre> #include &lt;QHelpEngineCore&gt;</pre><p>Inherits <a href="qobject.html">QObject</a>.</p>
<p>Inherited by <a href="qhelpengine.html">QHelpEngine</a>.</p>
<ul>
<li><a href="qhelpenginecore-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-functions"></a>
<h3>Public Functions</h3>
<ul>
<li><div class="fn"/><b><a href="qhelpenginecore.html#QHelpEngineCore">QHelpEngineCore</a></b> ( const QString &amp; <i>collectionFile</i>, QObject * <i>parent</i> = 0 )</li>
<li><div class="fn"/>virtual <b><a href="qhelpenginecore.html#dtor.QHelpEngineCore">~QHelpEngineCore</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#addCustomFilter">addCustomFilter</a></b> ( const QString &amp; <i>filterName</i>, const QStringList &amp; <i>attributes</i> )</li>
<li><div class="fn"/>QString <b><a href="qhelpenginecore.html#collectionFile">collectionFile</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#copyCollectionFile">copyCollectionFile</a></b> ( const QString &amp; <i>fileName</i> )</li>
<li><div class="fn"/>QString <b><a href="qhelpenginecore.html#currentFilter">currentFilter</a></b> () const</li>
<li><div class="fn"/>QStringList <b><a href="qhelpenginecore.html#customFilters">customFilters</a></b> () const</li>
<li><div class="fn"/>QVariant <b><a href="qhelpenginecore.html#customValue">customValue</a></b> ( const QString &amp; <i>key</i>, const QVariant &amp; <i>defaultValue</i> = QVariant() ) const</li>
<li><div class="fn"/>QString <b><a href="qhelpenginecore.html#documentationFileName">documentationFileName</a></b> ( const QString &amp; <i>namespaceName</i> )</li>
<li><div class="fn"/>QString <b><a href="qhelpenginecore.html#error">error</a></b> () const</li>
<li><div class="fn"/>QByteArray <b><a href="qhelpenginecore.html#fileData">fileData</a></b> ( const QUrl &amp; <i>url</i> ) const</li>
<li><div class="fn"/>QList&lt;QUrl&gt; <b><a href="qhelpenginecore.html#files">files</a></b> ( const QString <i>namespaceName</i>, const QStringList &amp; <i>filterAttributes</i>, const QString &amp; <i>extensionFilter</i> = QString() )</li>
<li><div class="fn"/>QList&lt;QStringList&gt; <b><a href="qhelpenginecore.html#filterAttributeSets">filterAttributeSets</a></b> ( const QString &amp; <i>namespaceName</i> ) const</li>
<li><div class="fn"/>QStringList <b><a href="qhelpenginecore.html#filterAttributes">filterAttributes</a></b> () const</li>
<li><div class="fn"/>QStringList <b><a href="qhelpenginecore.html#filterAttributes-2">filterAttributes</a></b> ( const QString &amp; <i>filterName</i> ) const</li>
<li><div class="fn"/>QUrl <b><a href="qhelpenginecore.html#findFile">findFile</a></b> ( const QUrl &amp; <i>url</i> ) const</li>
<li><div class="fn"/>QMap&lt;QString, QUrl&gt; <b><a href="qhelpenginecore.html#linksForIdentifier">linksForIdentifier</a></b> ( const QString &amp; <i>id</i> ) const</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#registerDocumentation">registerDocumentation</a></b> ( const QString &amp; <i>documentationFileName</i> )</li>
<li><div class="fn"/>QStringList <b><a href="qhelpenginecore.html#registeredDocumentations">registeredDocumentations</a></b> () const</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#removeCustomFilter">removeCustomFilter</a></b> ( const QString &amp; <i>filterName</i> )</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#removeCustomValue">removeCustomValue</a></b> ( const QString &amp; <i>key</i> )</li>
<li><div class="fn"/>void <b><a href="qhelpenginecore.html#setCollectionFile">setCollectionFile</a></b> ( const QString &amp; <i>fileName</i> )</li>
<li><div class="fn"/>void <b><a href="qhelpenginecore.html#setCurrentFilter">setCurrentFilter</a></b> ( const QString &amp; <i>filterName</i> )</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#setCustomValue">setCustomValue</a></b> ( const QString &amp; <i>key</i>, const QVariant &amp; <i>value</i> )</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#setupData">setupData</a></b> ()</li>
<li><div class="fn"/>bool <b><a href="qhelpenginecore.html#unregisterDocumentation">unregisterDocumentation</a></b> ( const QString &amp; <i>namespaceName</i> )</li>
</ul>
<ul>
<li><div class="fn"/>29 public functions inherited from <a href="qobject.html#public-functions">QObject</a></li>
</ul>
<a name="signals"></a>
<h3>Signals</h3>
<ul>
<li><div class="fn"/>void <b><a href="qhelpenginecore.html#currentFilterChanged">currentFilterChanged</a></b> ( const QString &amp; <i>newFilter</i> )</li>
<li><div class="fn"/>void <b><a href="qhelpenginecore.html#setupFinished">setupFinished</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qhelpenginecore.html#setupStarted">setupStarted</a></b> ()</li>
<li><div class="fn"/>void <b><a href="qhelpenginecore.html#warning">warning</a></b> ( const QString &amp; <i>msg</i> )</li>
</ul>
<ul>
<li><div class="fn"/>1 signal inherited from <a href="qobject.html#signals">QObject</a></li>
</ul>
<a name="static-public-members"></a>
<h3>Static Public Members</h3>
<ul>
<li><div class="fn"/>QVariant <b><a href="qhelpenginecore.html#metaData">metaData</a></b> ( const QString &amp; <i>documentationFileName</i>, const QString &amp; <i>name</i> )</li>
<li><div class="fn"/>QString <b><a href="qhelpenginecore.html#namespaceName">namespaceName</a></b> ( const QString &amp; <i>documentationFileName</i> )</li>
</ul>
<ul>
<li><div class="fn"/>5 static public members inherited from <a href="qobject.html#static-public-members">QObject</a></li>
</ul>
<h3>Additional Inherited Members</h3>
<ul>
<li><div class="fn"/>1 property inherited from <a href="qobject.html#properties">QObject</a></li>
<li><div class="fn"/>1 public slot inherited from <a href="qobject.html#public-slots">QObject</a></li>
<li><div class="fn"/>7 protected functions inherited from <a href="qobject.html#protected-functions">QObject</a></li>
</ul>
<a name="details"></a>
<hr />
<h2>Detailed Description</h2>
<p>The QHelpEngineCore class provides the core functionality of the help system.</p>
<p>Before the help engine can be used, it must be initialized by calling <a href="qhelpenginecore.html#setupData">setupData</a>(). At the beginning of the setup process the signal <a href="qhelpenginecore.html#setupStarted">setupStarted</a>() is emitted. From this point on until the signal <a href="qhelpenginecore.html#setupFinished">setupFinished</a>() is emitted, is the help data in an undefined meaning unusable state.</p>
<p>The core help engine can be used to perform different tasks. By calling <a href="qhelpenginecore.html#linksForIdentifier">linksForIdentifier</a>() the engine returns urls specifying the file locations inside the help system. The actual file data can then be retrived by calling <a href="qhelpenginecore.html#fileData">fileData</a>(). In contrast to all other functions in this class, <a href="qhelpenginecore.html#linksForIdentifier">linksForIdentifier</a>() depends on the currently set custom filter. Depending on the filter, the function may return different hits.</p>
<p>Every help engine can contain any number of custom filters. A custom filter is defined by a name and set of filter attributes and can be added to the help engine by calling <a href="qhelpenginecore.html#addCustomFilter">addCustomFilter</a>(). Analogous, it is removed by calling <a href="qhelpenginecore.html#removeCustomFilter">removeCustomFilter</a>(). <a href="qhelpenginecore.html#customFilters">customFilters</a>() returns all defined filters.</p>
<p>The help engine also offers the possiblity to set and read values in a persistant way comparable to ini files or Windows registry entries. For more information see setValue() or value().</p>
<p>This class does not offer any GUI components or functionality for indices or contents. If you need one of those use <a href="qhelpengine.html">QHelpEngine</a> instead.</p>
<hr />
<h2>Member Function Documentation</h2>
<h3 class="fn"><a name="QHelpEngineCore"></a>QHelpEngineCore::QHelpEngineCore ( const <a href="qstring.html">QString</a> &amp; <i>collectionFile</i>, <a href="qobject.html">QObject</a> * <i>parent</i> = 0 )</h3>
<p>Constructs a new core help engine with a <i>parent</i>. The help engine uses the information stored in the <i>collectionFile</i> to provide help. If the collection file does not exist yet, it'll be created.</p>
<h3 class="fn"><a name="dtor.QHelpEngineCore"></a>QHelpEngineCore::~QHelpEngineCore ()&nbsp;&nbsp;<tt> [virtual]</tt></h3>
<p>Destructs the help engine.</p>
<h3 class="fn"><a name="addCustomFilter"></a>bool QHelpEngineCore::addCustomFilter ( const <a href="qstring.html">QString</a> &amp; <i>filterName</i>, const <a href="qstringlist.html">QStringList</a> &amp; <i>attributes</i> )</h3>
<p>Adds the new custom filter <i>filterName</i>. The filter attributes are specified by <i>attributes</i>. The function returns false if the filter can not be added, e.g&#x2e; when the filter already exists.</p>
<p>See also <a href="qhelpenginecore.html#customFilters">customFilters</a>() and <a href="qhelpenginecore.html#removeCustomFilter">removeCustomFilter</a>().</p>
<h3 class="fn"><a name="collectionFile"></a><a href="qstring.html">QString</a> QHelpEngineCore::collectionFile () const</h3>
<p>Returns the absolute file path of the collection file.</p>
<p>See also <a href="qhelpenginecore.html#setCollectionFile">setCollectionFile</a>().</p>
<h3 class="fn"><a name="copyCollectionFile"></a>bool QHelpEngineCore::copyCollectionFile ( const <a href="qstring.html">QString</a> &amp; <i>fileName</i> )</h3>
<p>Creates the file <i>fileName</i> and copies all contents from the current collection file into the newly created file, and returns true if successful; otherwise returns false.</p>
<p>The copying process makes sure that file references to Qt Collection files (<tt>.qch</tt>) files are updated accordingly.</p>
<h3 class="fn"><a name="currentFilter"></a><a href="qstring.html">QString</a> QHelpEngineCore::currentFilter () const</h3>
<p>Returns the name of the current custom filter.</p>
<p>See also <a href="qhelpenginecore.html#setCurrentFilter">setCurrentFilter</a>().</p>
<h3 class="fn"><a name="currentFilterChanged"></a>void QHelpEngineCore::currentFilterChanged ( const <a href="qstring.html">QString</a> &amp; <i>newFilter</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the current filter is changed to <i>newFilter</i>.</p>
<h3 class="fn"><a name="customFilters"></a><a href="qstringlist.html">QStringList</a> QHelpEngineCore::customFilters () const</h3>
<p>Returns a list of custom filters.</p>
<p>See also <a href="qhelpenginecore.html#addCustomFilter">addCustomFilter</a>() and <a href="qhelpenginecore.html#removeCustomFilter">removeCustomFilter</a>().</p>
<h3 class="fn"><a name="customValue"></a><a href="qvariant.html">QVariant</a> QHelpEngineCore::customValue ( const <a href="qstring.html">QString</a> &amp; <i>key</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>defaultValue</i> = QVariant() ) const</h3>
<p>Returns the value assigned to the <i>key</i>. If the requested key does not exist, the specified <i>defaultValue</i> is returned.</p>
<p>See also <a href="qhelpenginecore.html#setCustomValue">setCustomValue</a>() and <a href="qhelpenginecore.html#removeCustomValue">removeCustomValue</a>().</p>
<h3 class="fn"><a name="documentationFileName"></a><a href="qstring.html">QString</a> QHelpEngineCore::documentationFileName ( const <a href="qstring.html">QString</a> &amp; <i>namespaceName</i> )</h3>
<p>Returns the absolute file name of the Qt documentation file (.qch) identified by the <i>namespaceName</i>. If there is no documentation with the specified namespace registered, an empty string is returned.</p>
<p>See also <a href="qhelpenginecore.html#namespaceName">namespaceName</a>().</p>
<h3 class="fn"><a name="error"></a><a href="qstring.html">QString</a> QHelpEngineCore::error () const</h3>
<p>Returns a description of the last error that occured.</p>
<h3 class="fn"><a name="fileData"></a><a href="qbytearray.html">QByteArray</a> QHelpEngineCore::fileData ( const <a href="qurl.html">QUrl</a> &amp; <i>url</i> ) const</h3>
<p>Returns the data of the file specified by <i>url</i>. If the file does not exist, an empty <a href="qbytearray.html">QByteArray</a> is returned.</p>
<p>/sa <a href="qhelpenginecore.html#findFile">findFile</a>()</p>
<h3 class="fn"><a name="files"></a><a href="qlist.html">QList</a>&lt;<a href="qurl.html">QUrl</a>&gt; QHelpEngineCore::files ( const <a href="qstring.html">QString</a> <i>namespaceName</i>, const <a href="qstringlist.html">QStringList</a> &amp; <i>filterAttributes</i>, const <a href="qstring.html">QString</a> &amp; <i>extensionFilter</i> = QString() )</h3>
<p>Returns a list of files contained in the documentation set <i>namespaceName</i>. The files can be filtered by <i>filterAttributes</i> as well as by their extension <i>extensionFilter</i> (e.g&#x2e; 'html').</p>
<h3 class="fn"><a name="filterAttributeSets"></a><a href="qlist.html">QList</a>&lt;<a href="qstringlist.html">QStringList</a>&gt; QHelpEngineCore::filterAttributeSets ( const <a href="qstring.html">QString</a> &amp; <i>namespaceName</i> ) const</h3>
<p>Returns a list of filter attributes for the different filter sections defined in the documentation set with the namespace <i>namespaceName</i>.</p>
<h3 class="fn"><a name="filterAttributes"></a><a href="qstringlist.html">QStringList</a> QHelpEngineCore::filterAttributes () const</h3>
<p>Returns a list of all defined filter attributes.</p>
<h3 class="fn"><a name="filterAttributes-2"></a><a href="qstringlist.html">QStringList</a> QHelpEngineCore::filterAttributes ( const <a href="qstring.html">QString</a> &amp; <i>filterName</i> ) const</h3>
<p>This is an overloaded member function, provided for convenience.</p>
<p>Returns a list of filter attributes used by the custom filter <i>filterName</i>.</p>
<h3 class="fn"><a name="findFile"></a><a href="qurl.html">QUrl</a> QHelpEngineCore::findFile ( const <a href="qurl.html">QUrl</a> &amp; <i>url</i> ) const</h3>
<p>Returns an invalid URL if the file <i>url</i> cannot be found. If the file exists, either the same url is returned or a different url if the file is located in a different namespace which is merged via a common virtual folder.</p>
<h3 class="fn"><a name="linksForIdentifier"></a><a href="qmap.html">QMap</a>&lt;<a href="qstring.html">QString</a>, <a href="qurl.html">QUrl</a>&gt; QHelpEngineCore::linksForIdentifier ( const <a href="qstring.html">QString</a> &amp; <i>id</i> ) const</h3>
<p>Returns a map of hits found for the <i>id</i>. A hit contains the title of the document and the url where the keyword is located. The result depends on the current filter, meaning only the keywords registered for the current filter will be returned.</p>
<h3 class="fn"><a name="metaData"></a><a href="qvariant.html">QVariant</a> QHelpEngineCore::metaData ( const <a href="qstring.html">QString</a> &amp; <i>documentationFileName</i>, const <a href="qstring.html">QString</a> &amp; <i>name</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the meta data for the documentation file <i>documentationFileName</i>. If there is no data available for <i>name</i>, an invalid QVariant() is returned. The meta data is defined when creating the documention file and cannot be modified later. Common meta data includes e.g&#x2e; the author of the documentation.</p>
<h3 class="fn"><a name="namespaceName"></a><a href="qstring.html">QString</a> QHelpEngineCore::namespaceName ( const <a href="qstring.html">QString</a> &amp; <i>documentationFileName</i> )&nbsp;&nbsp;<tt> [static]</tt></h3>
<p>Returns the namespace name of a documentation set specified by its file name. If the file is not valid, an empty string is returned.</p>
<p>See also <a href="qhelpenginecore.html#documentationFileName">documentationFileName</a>().</p>
<h3 class="fn"><a name="registerDocumentation"></a>bool QHelpEngineCore::registerDocumentation ( const <a href="qstring.html">QString</a> &amp; <i>documentationFileName</i> )</h3>
<p>Registers the documentation set contained in the file <i>documentationFileName</i>. One documentation set, uniquely identified by its namespace can only be registered once. True is returned if the registration was successful, otherwise false.</p>
<p>See also <a href="qhelpenginecore.html#unregisterDocumentation">unregisterDocumentation</a>() and <a href="qhelpenginecore.html#error">error</a>().</p>
<h3 class="fn"><a name="registeredDocumentations"></a><a href="qstringlist.html">QStringList</a> QHelpEngineCore::registeredDocumentations () const</h3>
<p>Returns a list of all documentations registered in the collection file. The returned names are the namespaces of the documentation sets.</p>
<h3 class="fn"><a name="removeCustomFilter"></a>bool QHelpEngineCore::removeCustomFilter ( const <a href="qstring.html">QString</a> &amp; <i>filterName</i> )</h3>
<p>Returns true if the filter <i>filterName</i> was removed successfully, otherwise false.</p>
<p>See also <a href="qhelpenginecore.html#addCustomFilter">addCustomFilter</a>() and <a href="qhelpenginecore.html#customFilters">customFilters</a>().</p>
<h3 class="fn"><a name="removeCustomValue"></a>bool QHelpEngineCore::removeCustomValue ( const <a href="qstring.html">QString</a> &amp; <i>key</i> )</h3>
<p>Removes the <i>key</i> from the settings section in the collection file. Returns true if the value was removed successfully, otherwise false.</p>
<p>See also <a href="qhelpenginecore.html#customValue">customValue</a>() and <a href="qhelpenginecore.html#setCustomValue">setCustomValue</a>().</p>
<h3 class="fn"><a name="setCollectionFile"></a>void QHelpEngineCore::setCollectionFile ( const <a href="qstring.html">QString</a> &amp; <i>fileName</i> )</h3>
<p>Sets the file <i>fileName</i> as the collection file for the help engine. Calling this function will leave the help engine in an invalid state, meaning <a href="qhelpenginecore.html#setupData">setupData</a>() or any getter function has to be called in order to setup the help engine again.</p>
<p>See also <a href="qhelpenginecore.html#collectionFile">collectionFile</a>().</p>
<h3 class="fn"><a name="setCurrentFilter"></a>void QHelpEngineCore::setCurrentFilter ( const <a href="qstring.html">QString</a> &amp; <i>filterName</i> )</h3>
<p>Sets the filter used by the help engine to <i>filterName</i>.</p>
<p>See also <a href="qhelpenginecore.html#currentFilter">currentFilter</a>().</p>
<h3 class="fn"><a name="setCustomValue"></a>bool QHelpEngineCore::setCustomValue ( const <a href="qstring.html">QString</a> &amp; <i>key</i>, const <a href="qvariant.html">QVariant</a> &amp; <i>value</i> )</h3>
<p>Save the <i>value</i> under the <i>key</i>. If the key already exist, the value will be overwritten. Returns true if the value was saved successfully, otherwise false.</p>
<p>See also <a href="qhelpenginecore.html#customValue">customValue</a>() and <a href="qhelpenginecore.html#removeCustomValue">removeCustomValue</a>().</p>
<h3 class="fn"><a name="setupData"></a>bool QHelpEngineCore::setupData ()</h3>
<p>Sets up the help engine by processing the information found in the collection file. By calling the function, the help engine is forced to initialize itself immediately. Most of the times, this function does not have to be called explicitely, since getter functions which depend on a set up help engine do that themselves. If the set up was successful, true is returned otherwise false.</p>
<h3 class="fn"><a name="setupFinished"></a>void QHelpEngineCore::setupFinished ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when the setup is complete.</p>
<h3 class="fn"><a name="setupStarted"></a>void QHelpEngineCore::setupStarted ()&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when setup is started.</p>
<h3 class="fn"><a name="unregisterDocumentation"></a>bool QHelpEngineCore::unregisterDocumentation ( const <a href="qstring.html">QString</a> &amp; <i>namespaceName</i> )</h3>
<p>Unregisters the documentation set identified by its <i>namespaceName</i> from the help collection. Returns true on success, otherwise false.</p>
<p>See also <a href="qhelpenginecore.html#registerDocumentation">registerDocumentation</a>() and <a href="qhelpenginecore.html#error">error</a>().</p>
<h3 class="fn"><a name="warning"></a>void QHelpEngineCore::warning ( const <a href="qstring.html">QString</a> &amp; <i>msg</i> )&nbsp;&nbsp;<tt> [signal]</tt></h3>
<p>This signal is emitted when a non critical error occurs. The warning message is stored in <i>msg</i>.</p>
<p /><address><hr /><div align="center">
<table width="100%" cellspacing="0" border="0"><tr class="address">
<td width="30%">Copyright &copy; 2008 <a href="trolltech.html">Trolltech</a></td>
<td width="40%" align="center"><a href="trademarks.html">Trademarks</a></td>
<td width="30%" align="right"><div align="right">Qt 4.4.0</div></td>
</tr></table></div></address></body>
</html>
